var e={exports:{}},t={},n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var a=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var a,s,u=o(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))r.call(a,l)&&(u[l]=a[l]);if(n){s=n(a);for(var f=0;f<s.length;f++)i.call(a,s[f])&&(u[s[f]]=a[s[f]])}}return u},s=a,u=60103,c=60106;
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var l=60109,f=60110,h=60112;t.Suspense=60113;var d=60115,p=60116;if("function"==typeof Symbol&&Symbol.for){var y=Symbol.for;u=y("react.element"),c=y("react.portal"),t.Fragment=y("react.fragment"),t.StrictMode=y("react.strict_mode"),t.Profiler=y("react.profiler"),l=y("react.provider"),f=y("react.context"),h=y("react.forward_ref"),t.Suspense=y("react.suspense"),d=y("react.memo"),p=y("react.lazy")}var v="function"==typeof Symbol&&Symbol.iterator;function m(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||g}function E(){}function S(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||g}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(m(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},E.prototype=w.prototype;var _=S.prototype=new E;_.constructor=S,s(_,w.prototype),_.isPureReactComponent=!0;var T={current:null},I=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,n){var r,i={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)I.call(t,r)&&!k.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:u,type:e,key:o,ref:a,props:i,_owner:T.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===u}var x=/\/+/g;function D(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,n,r,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var a=!1;if(null===e)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case u:case c:a=!0}}if(a)return i=i(a=e),e=""===r?"."+D(a,0):r,Array.isArray(i)?(n="",null!=e&&(n=e.replace(x,"$&/")+"/"),A(i,t,n,"",(function(e){return e}))):null!=i&&(C(i)&&(i=function(e,t){return{$$typeof:u,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(x,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=""===r?".":r+":",Array.isArray(e))for(var s=0;s<e.length;s++){var l=r+D(o=e[s],s);a+=A(o,t,n,l,i)}else if("function"==typeof(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=v&&e[v]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),s=0;!(o=e.next()).done;)a+=A(o=o.value,t,n,l=r+D(o,s++),i);else if("object"===o)throw t=""+e,Error(m(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return a}function P(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var R={current:null};function L(){var e=R.current;if(null===e)throw Error(m(321));return e}var M={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},assign:s};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error(m(143));return e}},t.Component=w,t.PureComponent=S,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.cloneElement=function(e,t,n){if(null==e)throw Error(m(267,e));var r=s({},e.props),i=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=T.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)I.call(t,l)&&!k.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];r.children=c}return{$$typeof:u,type:e.type,key:i,ref:o,props:r,_owner:a}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=N,t.createFactory=function(e){var t=N.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:h,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return L().useCallback(e,t)},t.useContext=function(e,t){return L().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return L().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return L().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return L().useLayoutEffect(e,t)},t.useMemo=function(e,t){return L().useMemo(e,t)},t.useReducer=function(e,t,n){return L().useReducer(e,t,n)},t.useRef=function(e){return L().useRef(e)},t.useState=function(e){return L().useState(e)},t.version="17.0.2",e.exports=t;var F=e.exports,U={exports:{}},V={},q={exports:{}},B={};
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
!function(e){var t,n,r,i;if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,c=null,l=function(){if(null!==u)try{var t=e.unstable_now();u(!0,t),u=null}catch(n){throw setTimeout(l,0),n}};t=function(e){null!==u?setTimeout(t,0,e):(u=e,setTimeout(l,0))},n=function(e,t){c=setTimeout(e,t)},r=function(){clearTimeout(c)},e.unstable_shouldYield=function(){return!1},i=e.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,h=window.clearTimeout;if("undefined"!=typeof console){var d=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof d&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var p=!1,y=null,v=-1,m=5,g=0;e.unstable_shouldYield=function(){return e.unstable_now()>=g},i=function(){},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==y){var t=e.unstable_now();g=t+m;try{y(!0,t)?w.postMessage(null):(p=!1,y=null)}catch(n){throw w.postMessage(null),n}}else p=!1},t=function(e){y=e,p||(p=!0,w.postMessage(null))},n=function(t,n){v=f((function(){t(e.unstable_now())}),n)},r=function(){h(v),v=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return void 0===(e=e[0])?null:e}function _(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>T(a,n))void 0!==u&&0>T(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>T(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],k=[],N=1,C=null,x=3,D=!1,A=!1,P=!1;function O(e){for(var t=S(k);null!==t;){if(null===t.callback)_(k);else{if(!(t.startTime<=e))break;_(k),t.sortIndex=t.expirationTime,E(I,t)}t=S(k)}}function R(e){if(P=!1,O(e),!A)if(null!==S(I))A=!0,t(L);else{var r=S(k);null!==r&&n(R,r.startTime-e)}}function L(t,i){A=!1,P&&(P=!1,r()),D=!0;var o=x;try{for(O(i),C=S(I);null!==C&&(!(C.expirationTime>i)||t&&!e.unstable_shouldYield());){var a=C.callback;if("function"==typeof a){C.callback=null,x=C.priorityLevel;var s=a(C.expirationTime<=i);i=e.unstable_now(),"function"==typeof s?C.callback=s:C===S(I)&&_(I),O(i)}else _(I);C=S(I)}if(null!==C)var u=!0;else{var c=S(k);null!==c&&n(R,c.startTime-i),u=!1}return u}finally{C=null,x=o,D=!1}}var M=i;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){A||D||(A=!0,t(L))},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return S(I)},e.unstable_next=function(e){switch(x){case 1:case 2:case 3:var t=3;break;default:t=x}var n=x;x=t;try{return e()}finally{x=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=M,e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=x;x=e;try{return t()}finally{x=n}},e.unstable_scheduleCallback=function(i,o,a){var s=e.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?s+a:s:a=s,i){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return i={id:N++,callback:o,priorityLevel:i,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(i.sortIndex=a,E(k,i),null===S(I)&&i===S(k)&&(P?r():P=!0,n(R,a-s))):(i.sortIndex=u,E(I,i),A||D||(A=!0,t(L))),i},e.unstable_wrapCallback=function(e){var t=x;return function(){var n=x;x=t;try{return e.apply(this,arguments)}finally{x=n}}}}(B),q.exports=B;
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var j=e.exports,z=a,K=q.exports;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!j)throw Error(H(227));var W=new Set,Q={};function G(e,t){$(e,t),$(e+"Capture",t)}function $(e,t){for(Q[e]=t,e=0;e<t.length;e++)W.add(t[e])}var Y=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),X=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,J=Object.prototype.hasOwnProperty,Z={},ee={};function te(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var ne={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){ne[e]=new te(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];ne[t]=new te(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){ne[e]=new te(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){ne[e]=new te(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){ne[e]=new te(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){ne[e]=new te(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){ne[e]=new te(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){ne[e]=new te(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){ne[e]=new te(e,5,!1,e.toLowerCase(),null,!1,!1)}));var re=/[\-:]([a-z])/g;function ie(e){return e[1].toUpperCase()}function oe(e,t,n,r){var i=ne.hasOwnProperty(t)?ne[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!J.call(ee,e)||!J.call(Z,e)&&(X.test(e)?ee[e]=!0:(Z[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(re,ie);ne[t]=new te(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(re,ie);ne[t]=new te(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(re,ie);ne[t]=new te(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){ne[e]=new te(e,1,!1,e.toLowerCase(),null,!1,!1)})),ne.xlinkHref=new te("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){ne[e]=new te(e,1,!1,e.toLowerCase(),null,!0,!0)}));var ae=j.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,se=60103,ue=60106,ce=60107,le=60108,fe=60114,he=60109,de=60110,pe=60112,ye=60113,ve=60120,me=60115,ge=60116,be=60121,we=60128,Ee=60129,Se=60130,_e=60131;if("function"==typeof Symbol&&Symbol.for){var Te=Symbol.for;se=Te("react.element"),ue=Te("react.portal"),ce=Te("react.fragment"),le=Te("react.strict_mode"),fe=Te("react.profiler"),he=Te("react.provider"),de=Te("react.context"),pe=Te("react.forward_ref"),ye=Te("react.suspense"),ve=Te("react.suspense_list"),me=Te("react.memo"),ge=Te("react.lazy"),be=Te("react.block"),Te("react.scope"),we=Te("react.opaque.id"),Ee=Te("react.debug_trace_mode"),Se=Te("react.offscreen"),_e=Te("react.legacy_hidden")}var Ie,ke="function"==typeof Symbol&&Symbol.iterator;function Ne(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=ke&&e[ke]||e["@@iterator"])?e:null}function Ce(e){if(void 0===Ie)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ie=t&&t[1]||""}return"\n"+Ie+e}var xe=!1;function De(e,t){if(!e||xe)return"";xe=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"==typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{xe=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ce(e):""}function Ae(e){switch(e.tag){case 5:return Ce(e.type);case 16:return Ce("Lazy");case 13:return Ce("Suspense");case 19:return Ce("SuspenseList");case 0:case 2:case 15:return e=De(e.type,!1);case 11:return e=De(e.type.render,!1);case 22:return e=De(e.type._render,!1);case 1:return e=De(e.type,!0);default:return""}}function Pe(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ce:return"Fragment";case ue:return"Portal";case fe:return"Profiler";case le:return"StrictMode";case ye:return"Suspense";case ve:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case de:return(e.displayName||"Context")+".Consumer";case he:return(e._context.displayName||"Context")+".Provider";case pe:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case me:return Pe(e.type);case be:return Pe(e._render);case ge:t=e._payload,e=e._init;try{return Pe(e(t))}catch(n){}}return null}function Oe(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Re(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Le(e){e._valueTracker||(e._valueTracker=function(e){var t=Re(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Me(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Re(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Fe(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Ue(e,t){var n=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ve(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Oe(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function qe(e,t){null!=(t=t.checked)&&oe(e,"checked",t,!1)}function Be(e,t){qe(e,t);var n=Oe(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ze(e,t.type,n):t.hasOwnProperty("defaultValue")&&ze(e,t.type,Oe(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function je(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ze(e,t,n){"number"===t&&Fe(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ke(e,t){return e=z({children:void 0},t),(t=function(e){var t="";return j.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function He(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Oe(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function We(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(H(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Qe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(H(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(H(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Oe(n)}}function Ge(e,t){var n=Oe(t.value),r=Oe(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function $e(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Ye="http://www.w3.org/1999/xhtml",Xe="http://www.w3.org/2000/svg";function Je(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ze(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Je(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var et,tt,nt=(tt=function(e,t){if(e.namespaceURI!==Xe||"innerHTML"in e)e.innerHTML=t;else{for((et=et||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=et.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return tt(e,t)}))}:tt);function rt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var it={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ot=["Webkit","ms","Moz","O"];function at(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||it.hasOwnProperty(e)&&it[e]?(""+t).trim():t+"px"}function st(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=at(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(it).forEach((function(e){ot.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),it[t]=it[e]}))}));var ut=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ct(e,t){if(t){if(ut[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(H(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(H(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(H(62))}}function lt(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ft(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ht=null,dt=null,pt=null;function yt(e){if(e=Vi(e)){if("function"!=typeof ht)throw Error(H(280));var t=e.stateNode;t&&(t=Bi(t),ht(e.stateNode,e.type,t))}}function vt(e){dt?pt?pt.push(e):pt=[e]:dt=e}function mt(){if(dt){var e=dt,t=pt;if(pt=dt=null,yt(e),t)for(e=0;e<t.length;e++)yt(t[e])}}function gt(e,t){return e(t)}function bt(e,t,n,r,i){return e(t,n,r,i)}function wt(){}var Et=gt,St=!1,_t=!1;function Tt(){null===dt&&null===pt||(wt(),mt())}function It(e,t){var n=e.stateNode;if(null===n)return null;var r=Bi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(H(231,t,typeof n));return n}var kt=!1;if(Y)try{var Nt={};Object.defineProperty(Nt,"passive",{get:function(){kt=!0}}),window.addEventListener("test",Nt,Nt),window.removeEventListener("test",Nt,Nt)}catch(tt){kt=!1}function Ct(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var xt=!1,Dt=null,At=!1,Pt=null,Ot={onError:function(e){xt=!0,Dt=e}};function Rt(e,t,n,r,i,o,a,s,u){xt=!1,Dt=null,Ct.apply(Ot,arguments)}function Lt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Mt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ft(e){if(Lt(e)!==e)throw Error(H(188))}function Ut(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Lt(e)))throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ft(i),e;if(o===r)return Ft(i),t;o=o.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(3!==n.tag)throw Error(H(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Vt(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var qt,Bt,jt,zt,Kt=!1,Ht=[],Wt=null,Qt=null,Gt=null,$t=new Map,Yt=new Map,Xt=[],Jt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function en(e,t){switch(e){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":Qt=null;break;case"mouseover":case"mouseout":Gt=null;break;case"pointerover":case"pointerout":$t.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yt.delete(t.pointerId)}}function tn(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=Zt(t,n,r,i,o),null!==t&&(null!==(t=Vi(t))&&Bt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function nn(e){var t=Ui(e.target);if(null!==t){var n=Lt(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Mt(n)))return e.blockedOn=t,void zt(e.lanePriority,(function(){K.unstable_runWithPriority(e.priority,(function(){jt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function rn(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Vi(n))&&Bt(t),e.blockedOn=n,!1;t.shift()}return!0}function on(e,t,n){rn(e)&&n.delete(t)}function an(){for(Kt=!1;0<Ht.length;){var e=Ht[0];if(null!==e.blockedOn){null!==(e=Vi(e.blockedOn))&&qt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Vn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&Ht.shift()}null!==Wt&&rn(Wt)&&(Wt=null),null!==Qt&&rn(Qt)&&(Qt=null),null!==Gt&&rn(Gt)&&(Gt=null),$t.forEach(on),Yt.forEach(on)}function sn(e,t){e.blockedOn===t&&(e.blockedOn=null,Kt||(Kt=!0,K.unstable_scheduleCallback(K.unstable_NormalPriority,an)))}function un(e){function t(t){return sn(t,e)}if(0<Ht.length){sn(Ht[0],e);for(var n=1;n<Ht.length;n++){var r=Ht[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Wt&&sn(Wt,e),null!==Qt&&sn(Qt,e),null!==Gt&&sn(Gt,e),$t.forEach(t),Yt.forEach(t),n=0;n<Xt.length;n++)(r=Xt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Xt.length&&null===(n=Xt[0]).blockedOn;)nn(n),null===n.blockedOn&&Xt.shift()}function cn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ln={animationend:cn("Animation","AnimationEnd"),animationiteration:cn("Animation","AnimationIteration"),animationstart:cn("Animation","AnimationStart"),transitionend:cn("Transition","TransitionEnd")},fn={},hn={};function dn(e){if(fn[e])return fn[e];if(!ln[e])return e;var t,n=ln[e];for(t in n)if(n.hasOwnProperty(t)&&t in hn)return fn[e]=n[t];return e}Y&&(hn=document.createElement("div").style,"AnimationEvent"in window||(delete ln.animationend.animation,delete ln.animationiteration.animation,delete ln.animationstart.animation),"TransitionEvent"in window||delete ln.transitionend.transition);var pn=dn("animationend"),yn=dn("animationiteration"),vn=dn("animationstart"),mn=dn("transitionend"),gn=new Map,bn=new Map,wn=["abort","abort",pn,"animationEnd",yn,"animationIteration",vn,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",mn,"transitionEnd","waiting","waiting"];function En(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),bn.set(r,t),gn.set(r,i),G(i,[r])}}(0,K.unstable_now)();var Sn=8;function _n(e){if(0!=(1&e))return Sn=15,1;if(0!=(2&e))return Sn=14,2;if(0!=(4&e))return Sn=13,4;var t=24&e;return 0!==t?(Sn=12,t):0!=(32&e)?(Sn=11,32):0!==(t=192&e)?(Sn=10,t):0!=(256&e)?(Sn=9,256):0!==(t=3584&e)?(Sn=8,t):0!=(4096&e)?(Sn=7,4096):0!==(t=4186112&e)?(Sn=6,t):0!==(t=62914560&e)?(Sn=5,t):67108864&e?(Sn=4,67108864):0!=(134217728&e)?(Sn=3,134217728):0!==(t=805306368&e)?(Sn=2,t):0!=(1073741824&e)?(Sn=1,1073741824):(Sn=8,e)}function Tn(e,t){var n=e.pendingLanes;if(0===n)return Sn=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Sn=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=_n(u),i=Sn):0!==(s&=o)&&(r=_n(s),i=Sn)}else 0!==(o=n&~a)?(r=_n(o),i=Sn):0!==s&&(r=_n(s),i=Sn);if(0===r)return 0;if(r=n&((0>(r=31-Dn(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&a)){if(_n(t),i<=Sn)return t;Sn=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Dn(t)),r|=e[n],t&=~i;return r}function In(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function kn(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Nn(24&~t))?kn(10,t):e;case 10:return 0===(e=Nn(192&~t))?kn(8,t):e;case 8:return 0===(e=Nn(3584&~t))&&(0===(e=Nn(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Nn(805306368&~t))&&(t=268435456),t}throw Error(H(358,e))}function Nn(e){return e&-e}function Cn(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xn(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Dn(t)]=n}var Dn=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(An(e)/Pn|0)|0},An=Math.log,Pn=Math.LN2;var On=K.unstable_UserBlockingPriority,Rn=K.unstable_runWithPriority,Ln=!0;function Mn(e,t,n,r){St||wt();var i=Un,o=St;St=!0;try{bt(i,e,t,n,r)}finally{(St=o)||Tt()}}function Fn(e,t,n,r){Rn(On,Un.bind(null,e,t,n,r))}function Un(e,t,n,r){var i;if(Ln)if((i=0==(4&t))&&0<Ht.length&&-1<Jt.indexOf(e))e=Zt(null,e,t,n,r),Ht.push(e);else{var o=Vn(e,t,n,r);if(null===o)i&&en(e,r);else{if(i){if(-1<Jt.indexOf(e))return e=Zt(o,e,t,n,r),void Ht.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return Wt=tn(Wt,e,t,n,r,i),!0;case"dragenter":return Qt=tn(Qt,e,t,n,r,i),!0;case"mouseover":return Gt=tn(Gt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return $t.set(o,tn($t.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Yt.set(o,tn(Yt.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;en(e,r)}mi(e,t,r,null,n)}}}function Vn(e,t,n,r){var i=ft(r);if(null!==(i=Ui(i))){var o=Lt(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Mt(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return mi(e,t,r,i,n),null}var qn=null,Bn=null,jn=null;function zn(){if(jn)return jn;var e,t,n=Bn,r=n.length,i="value"in qn?qn.value:qn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return jn=i.slice(e,1<t?1-t:void 0)}function Kn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Hn(){return!0}function Wn(){return!1}function Qn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Hn:Wn,this.isPropagationStopped=Wn,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){},isPersistent:Hn}),t}var Gn,$n,Yn,Xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jn=Qn(Xn),Zn=z({},Xn,{view:0,detail:0}),er=Qn(Zn),tr=z({},Zn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yn&&(Yn&&"mousemove"===e.type?(Gn=e.screenX-Yn.screenX,$n=e.screenY-Yn.screenY):$n=Gn=0,Yn=e),Gn)},movementY:function(e){return"movementY"in e?e.movementY:$n}}),nr=Qn(tr),rr=Qn(z({},tr,{dataTransfer:0})),ir=Qn(z({},Zn,{relatedTarget:0})),or=Qn(z({},Xn,{animationName:0,elapsedTime:0,pseudoElement:0})),ar=Qn(z({},Xn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),sr=Qn(z({},Xn,{data:0})),ur={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=lr[e])&&!!t[e]}function hr(){return fr}var dr=Qn(z({},Zn,{key:function(e){if(e.key){var t=ur[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?cr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hr,charCode:function(e){return"keypress"===e.type?Kn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),pr=Qn(z({},tr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yr=Qn(z({},Zn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hr})),vr=Qn(z({},Xn,{propertyName:0,elapsedTime:0,pseudoElement:0})),mr=Qn(z({},tr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),gr=[9,13,27,32],br=Y&&"CompositionEvent"in window,wr=null;Y&&"documentMode"in document&&(wr=document.documentMode);var Er=Y&&"TextEvent"in window&&!wr,Sr=Y&&(!br||wr&&8<wr&&11>=wr),_r=String.fromCharCode(32),Tr=!1;function Ir(e,t){switch(e){case"keyup":return-1!==gr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Nr=!1;var Cr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Cr[e.type]:"textarea"===t}function Dr(e,t,n,r){vt(r),0<(t=bi(t,"onChange")).length&&(n=new Jn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ar=null,Pr=null;function Or(e){fi(e,0)}function Rr(e){if(Me(qi(e)))return e}function Lr(e,t){if("change"===e)return t}var Mr=!1;if(Y){var Fr;if(Y){var Ur="oninput"in document;if(!Ur){var Vr=document.createElement("div");Vr.setAttribute("oninput","return;"),Ur="function"==typeof Vr.oninput}Fr=Ur}else Fr=!1;Mr=Fr&&(!document.documentMode||9<document.documentMode)}function qr(){Ar&&(Ar.detachEvent("onpropertychange",Br),Pr=Ar=null)}function Br(e){if("value"===e.propertyName&&Rr(Pr)){var t=[];if(Dr(t,Pr,e,ft(e)),e=Or,St)e(t);else{St=!0;try{gt(e,t)}finally{St=!1,Tt()}}}}function jr(e,t,n){"focusin"===e?(qr(),Pr=n,(Ar=t).attachEvent("onpropertychange",Br)):"focusout"===e&&qr()}function zr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Rr(Pr)}function Kr(e,t){if("click"===e)return Rr(t)}function Hr(e,t){if("input"===e||"change"===e)return Rr(t)}var Wr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Qr=Object.prototype.hasOwnProperty;function Gr(e,t){if(Wr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Qr.call(t,n[r])||!Wr(e[n[r]],t[n[r]]))return!1;return!0}function $r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yr(e,t){var n,r=$r(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$r(r)}}function Xr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Xr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Jr(){for(var e=window,t=Fe();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Fe((e=t.contentWindow).document)}return t}function Zr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ei=Y&&"documentMode"in document&&11>=document.documentMode,ti=null,ni=null,ri=null,ii=!1;function oi(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ii||null==ti||ti!==Fe(r)||("selectionStart"in(r=ti)&&Zr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ri&&Gr(ri,r)||(ri=r,0<(r=bi(ni,"onSelect")).length&&(t=new Jn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ti)))}En("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),En("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),En(wn,2);for(var ai="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),si=0;si<ai.length;si++)bn.set(ai[si],0);$("onMouseEnter",["mouseout","mouseover"]),$("onMouseLeave",["mouseout","mouseover"]),$("onPointerEnter",["pointerout","pointerover"]),$("onPointerLeave",["pointerout","pointerover"]),G("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),G("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),G("onBeforeInput",["compositionend","keypress","textInput","paste"]),G("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),G("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),G("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ci=new Set("cancel close invalid load scroll toggle".split(" ").concat(ui));function li(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,s,u){if(Rt.apply(this,arguments),xt){if(!xt)throw Error(H(198));var c=Dt;xt=!1,Dt=null,At||(At=!0,Pt=c)}}(r,t,void 0,e),e.currentTarget=null}function fi(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;li(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;li(i,s,c),o=u}}}if(At)throw e=Pt,At=!1,Pt=null,e}function hi(e,t){var n=ji(t),r=e+"__bubble";n.has(r)||(vi(t,e,2,!1),n.add(r))}var di="_reactListening"+Math.random().toString(36).slice(2);function pi(e){e[di]||(e[di]=!0,W.forEach((function(t){ci.has(t)||yi(t,!1,e,null),yi(t,!0,e,null)})))}function yi(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&ci.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ji(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),vi(o,e,i,t),a.add(s))}function vi(e,t,n,r){var i=bn.get(t);switch(void 0===i?2:i){case 0:i=Mn;break;case 1:i=Fn;break;default:i=Un}n=i.bind(null,t,n,e),i=void 0,!kt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function mi(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=Ui(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(_t)return e(t,n);_t=!0;try{Et(e,t,n)}finally{_t=!1,Tt()}}((function(){var r=o,i=ft(n),a=[];e:{var s=gn.get(e);if(void 0!==s){var u=Jn,c=e;switch(e){case"keypress":if(0===Kn(n))break e;case"keydown":case"keyup":u=dr;break;case"focusin":c="focus",u=ir;break;case"focusout":c="blur",u=ir;break;case"beforeblur":case"afterblur":u=ir;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=rr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=yr;break;case pn:case yn:case vn:u=or;break;case mn:u=vr;break;case"scroll":u=er;break;case"wheel":u=mr;break;case"copy":case"cut":case"paste":u=ar;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=pr}var l=0!=(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var y=(d=p).stateNode;if(5===d.tag&&null!==y&&(d=y,null!==h&&(null!=(y=It(p,h))&&l.push(gi(p,y,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0==(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(c=n.relatedTarget||n.fromElement)||!Ui(c)&&!c[Mi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ui(c):null)&&(c!==(f=Lt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=nr,y="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=pr,y="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:qi(u),d=null==c?s:qi(c),(s=new l(y,p+"leave",u,n,i)).target=f,s.relatedTarget=d,y=null,Ui(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,y=l),f=y,u&&c)e:{for(h=c,p=0,d=l=u;d;d=wi(d))p++;for(d=0,y=h;y;y=wi(y))d++;for(;0<p-d;)l=wi(l),p--;for(;0<d-p;)h=wi(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=wi(l),h=wi(h)}l=null}else l=null;null!==u&&Ei(a,s,u,l,!1),null!==c&&null!==f&&Ei(a,f,c,l,!0)}if("select"===(u=(s=r?qi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Lr;else if(xr(s))if(Mr)v=Hr;else{v=zr;var m=jr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=Kr);switch(v&&(v=v(e,r))?Dr(a,v,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ze(s,"number",s.value)),m=r?qi(r):window,e){case"focusin":(xr(m)||"true"===m.contentEditable)&&(ti=m,ni=r,ri=null);break;case"focusout":ri=ni=ti=null;break;case"mousedown":ii=!0;break;case"contextmenu":case"mouseup":case"dragend":ii=!1,oi(a,n,i);break;case"selectionchange":if(ei)break;case"keydown":case"keyup":oi(a,n,i)}var g;if(br)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Nr?Ir(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Sr&&"ko"!==n.locale&&(Nr||"onCompositionStart"!==b?"onCompositionEnd"===b&&Nr&&(g=zn()):(Bn="value"in(qn=i)?qn.value:qn.textContent,Nr=!0)),0<(m=bi(r,b)).length&&(b=new sr(b,e,null,n,i),a.push({event:b,listeners:m}),g?b.data=g:null!==(g=kr(n))&&(b.data=g))),(g=Er?function(e,t){switch(e){case"compositionend":return kr(t);case"keypress":return 32!==t.which?null:(Tr=!0,_r);case"textInput":return(e=t.data)===_r&&Tr?null:e;default:return null}}(e,n):function(e,t){if(Nr)return"compositionend"===e||!br&&Ir(e,t)?(e=zn(),jn=Bn=qn=null,Nr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sr&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=bi(r,"onBeforeInput")).length&&(i=new sr("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=g))}fi(a,t)}))}function gi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function bi(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=It(e,n))&&r.unshift(gi(e,o,i)),null!=(o=It(e,t))&&r.push(gi(e,o,i))),e=e.return}return r}function wi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ei(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=It(n,o))&&a.unshift(gi(n,u,s)):i||null!=(u=It(n,o))&&a.push(gi(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Si(){}var _i=null,Ti=null;function Ii(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function ki(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Ni="function"==typeof setTimeout?setTimeout:void 0,Ci="function"==typeof clearTimeout?clearTimeout:void 0;function xi(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Di(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Ai(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Pi=0;var Oi=Math.random().toString(36).slice(2),Ri="__reactFiber$"+Oi,Li="__reactProps$"+Oi,Mi="__reactContainer$"+Oi,Fi="__reactEvents$"+Oi;function Ui(e){var t=e[Ri];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Mi]||n[Ri]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Ai(e);null!==e;){if(n=e[Ri])return n;e=Ai(e)}return t}n=(e=n).parentNode}return null}function Vi(e){return!(e=e[Ri]||e[Mi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function qi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(H(33))}function Bi(e){return e[Li]||null}function ji(e){var t=e[Fi];return void 0===t&&(t=e[Fi]=new Set),t}var zi=[],Ki=-1;function Hi(e){return{current:e}}function Wi(e){0>Ki||(e.current=zi[Ki],zi[Ki]=null,Ki--)}function Qi(e,t){Ki++,zi[Ki]=e.current,e.current=t}var Gi={},$i=Hi(Gi),Yi=Hi(!1),Xi=Gi;function Ji(e,t){var n=e.type.contextTypes;if(!n)return Gi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Zi(e){return null!=(e=e.childContextTypes)}function eo(){Wi(Yi),Wi($i)}function to(e,t,n){if($i.current!==Gi)throw Error(H(168));Qi($i,t),Qi(Yi,n)}function no(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(H(108,Pe(t)||"Unknown",i));return z({},n,r)}function ro(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gi,Xi=$i.current,Qi($i,e),Qi(Yi,Yi.current),!0}function io(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=no(e,t,Xi),r.__reactInternalMemoizedMergedChildContext=e,Wi(Yi),Wi($i),Qi($i,e)):Wi(Yi),Qi(Yi,n)}var oo=null,ao=null,so=K.unstable_runWithPriority,uo=K.unstable_scheduleCallback,co=K.unstable_cancelCallback,lo=K.unstable_shouldYield,fo=K.unstable_requestPaint,ho=K.unstable_now,po=K.unstable_getCurrentPriorityLevel,yo=K.unstable_ImmediatePriority,vo=K.unstable_UserBlockingPriority,mo=K.unstable_NormalPriority,go=K.unstable_LowPriority,bo=K.unstable_IdlePriority,wo={},Eo=void 0!==fo?fo:function(){},So=null,_o=null,To=!1,Io=ho(),ko=1e4>Io?ho:function(){return ho()-Io};function No(){switch(po()){case yo:return 99;case vo:return 98;case mo:return 97;case go:return 96;case bo:return 95;default:throw Error(H(332))}}function Co(e){switch(e){case 99:return yo;case 98:return vo;case 97:return mo;case 96:return go;case 95:return bo;default:throw Error(H(332))}}function xo(e,t){return e=Co(e),so(e,t)}function Do(e,t,n){return e=Co(e),uo(e,t,n)}function Ao(){if(null!==_o){var e=_o;_o=null,co(e)}Po()}function Po(){if(!To&&null!==So){To=!0;var e=0;try{var t=So;xo(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),So=null}catch(n){throw null!==So&&(So=So.slice(e+1)),uo(yo,Ao),n}finally{To=!1}}}var Oo=ae.ReactCurrentBatchConfig;function Ro(e,t){if(e&&e.defaultProps){for(var n in t=z({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Lo=Hi(null),Mo=null,Fo=null,Uo=null;function Vo(){Uo=Fo=Mo=null}function qo(e){var t=Lo.current;Wi(Lo),e.type._context._currentValue=t}function Bo(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function jo(e,t){Mo=e,Uo=Fo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(bs=!0),e.firstContext=null)}function zo(e,t){if(Uo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Uo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Fo){if(null===Mo)throw Error(H(308));Fo=t,Mo.dependencies={lanes:0,firstContext:t,responders:null}}else Fo=Fo.next=t;return e._currentValue}var Ko=!1;function Ho(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Wo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Go(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function $o(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Yo(e,t,n,r){var i=e.updateQueue;Ko=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var l=e.alternate;if(null!==l){var f=(l=l.updateQueue).lastBaseUpdate;f!==a&&(null===f?l.firstBaseUpdate=c:f.next=c,l.lastBaseUpdate=u)}}if(null!==o){for(f=i.baseState,a=0,l=c=u=null;;){s=o.lane;var h=o.eventTime;if((r&s)===s){null!==l&&(l=l.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var d=e,p=o;switch(s=t,h=n,p.tag){case 1:if("function"==typeof(d=p.payload)){f=d.call(h,f,s);break e}f=d;break e;case 3:d.flags=-4097&d.flags|64;case 0:if(null==(s="function"==typeof(d=p.payload)?d.call(h,f,s):d))break e;f=z({},f,s);break e;case 2:Ko=!0}}null!==o.callback&&(e.flags|=32,null===(s=i.effects)?i.effects=[o]:s.push(o))}else h={eventTime:h,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===l?(c=l=h,u=f):l=l.next=h,a|=s;if(null===(o=o.next)){if(null===(s=i.shared.pending))break;o=s.next,s.next=null,i.lastBaseUpdate=s,i.shared.pending=null}}null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,_u|=a,e.lanes=a,e.memoizedState=f}}function Xo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(H(191,i));i.call(r)}}}var Jo=(new j.Component).refs;function Zo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:z({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ea={isMounted:function(e){return!!(e=e._reactInternals)&&Lt(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Gu(),i=$u(e),o=Qo(r,i);o.payload=t,null!=n&&(o.callback=n),Go(e,o),Yu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Gu(),i=$u(e),o=Qo(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),Go(e,o),Yu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gu(),r=$u(e),i=Qo(n,r);i.tag=2,null!=t&&(i.callback=t),Go(e,i),Yu(e,r,n)}};function ta(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Gr(n,r)||!Gr(i,o))}function na(e,t,n){var r=!1,i=Gi,o=t.contextType;return"object"==typeof o&&null!==o?o=zo(o):(i=Zi(t)?Xi:$i.current,o=(r=null!=(r=t.contextTypes))?Ji(e,i):Gi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ea,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ra(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ea.enqueueReplaceState(t,t.state,null)}function ia(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Jo,Ho(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=zo(o):(o=Zi(t)?Xi:$i.current,i.context=Ji(e,o)),Yo(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(Zo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ea.enqueueReplaceState(i,i.state,null),Yo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var oa=Array.isArray;function aa(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===Jo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function sa(e,t){if("textarea"!==e.type)throw Error(H(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function ua(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Cc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Pc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=aa(e,t,n),r.return=e,r):((r=xc(n.type,n.key,n.props,null,e.mode,r)).ref=aa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Oc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function l(e,t,n,r,o){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Pc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case se:return(n=xc(t.type,t.key,t.props,null,e.mode,n)).ref=aa(e,null,t),n.return=e,n;case ue:return(t=Oc(t,e.mode,n)).return=e,t}if(oa(t)||Ne(t))return(t=Dc(t,e.mode,n,null)).return=e,t;sa(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case se:return n.key===i?n.type===ce?l(e,t,n.props.children,r,i):u(e,t,n,r):null;case ue:return n.key===i?c(e,t,n,r):null}if(oa(n)||Ne(n))return null!==i?null:l(e,t,n,r,null);sa(e,n)}return null}function d(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case se:return e=e.get(null===r.key?n:r.key)||null,r.type===ce?l(t,e,r.props.children,i,r.key):u(t,e,r,i);case ue:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(oa(r)||Ne(r))return l(t,e=e.get(n)||null,r,i,null);sa(t,r)}return null}return function(s,u,c,l){var p="object"==typeof c&&null!==c&&c.type===ce&&null===c.key;p&&(c=c.props.children);var y="object"==typeof c&&null!==c;if(y)switch(c.$$typeof){case se:e:{for(y=c.key,p=u;null!==p;){if(p.key===y){switch(p.tag){case 7:if(c.type===ce){n(s,p.sibling),(u=i(p,c.props.children)).return=s,s=u;break e}break;default:if(p.elementType===c.type){n(s,p.sibling),(u=i(p,c.props)).ref=aa(s,p,c),u.return=s,s=u;break e}}n(s,p);break}t(s,p),p=p.sibling}c.type===ce?((u=Dc(c.props.children,s.mode,l,c.key)).return=s,s=u):((l=xc(c.type,c.key,c.props,null,s.mode,l)).ref=aa(s,u,c),l.return=s,s=l)}return a(s);case ue:e:{for(p=c.key;null!==u;){if(u.key===p){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(s,u.sibling),(u=i(u,c.children||[])).return=s,s=u;break e}n(s,u);break}t(s,u),u=u.sibling}(u=Oc(c,s.mode,l)).return=s,s=u}return a(s)}if("string"==typeof c||"number"==typeof c)return c=""+c,null!==u&&6===u.tag?(n(s,u.sibling),(u=i(u,c)).return=s,s=u):(n(s,u),(u=Pc(c,s.mode,l)).return=s,s=u),a(s);if(oa(c))return function(i,a,s,u){for(var c=null,l=null,p=a,y=a=0,v=null;null!==p&&y<s.length;y++){p.index>y?(v=p,p=null):v=p.sibling;var m=h(i,p,s[y],u);if(null===m){null===p&&(p=v);break}e&&p&&null===m.alternate&&t(i,p),a=o(m,a,y),null===l?c=m:l.sibling=m,l=m,p=v}if(y===s.length)return n(i,p),c;if(null===p){for(;y<s.length;y++)null!==(p=f(i,s[y],u))&&(a=o(p,a,y),null===l?c=p:l.sibling=p,l=p);return c}for(p=r(i,p);y<s.length;y++)null!==(v=d(p,i,y,s[y],u))&&(e&&null!==v.alternate&&p.delete(null===v.key?y:v.key),a=o(v,a,y),null===l?c=v:l.sibling=v,l=v);return e&&p.forEach((function(e){return t(i,e)})),c}(s,u,c,l);if(Ne(c))return function(i,a,s,u){var c=Ne(s);if("function"!=typeof c)throw Error(H(150));if(null==(s=c.call(s)))throw Error(H(151));for(var l=c=null,p=a,y=a=0,v=null,m=s.next();null!==p&&!m.done;y++,m=s.next()){p.index>y?(v=p,p=null):v=p.sibling;var g=h(i,p,m.value,u);if(null===g){null===p&&(p=v);break}e&&p&&null===g.alternate&&t(i,p),a=o(g,a,y),null===l?c=g:l.sibling=g,l=g,p=v}if(m.done)return n(i,p),c;if(null===p){for(;!m.done;y++,m=s.next())null!==(m=f(i,m.value,u))&&(a=o(m,a,y),null===l?c=m:l.sibling=m,l=m);return c}for(p=r(i,p);!m.done;y++,m=s.next())null!==(m=d(p,i,y,m.value,u))&&(e&&null!==m.alternate&&p.delete(null===m.key?y:m.key),a=o(m,a,y),null===l?c=m:l.sibling=m,l=m);return e&&p.forEach((function(e){return t(i,e)})),c}(s,u,c,l);if(y&&sa(s,c),void 0===c&&!p)switch(s.tag){case 1:case 22:case 0:case 11:case 15:throw Error(H(152,Pe(s.type)||"Component"))}return n(s,u)}}var ca=ua(!0),la=ua(!1),fa={},ha=Hi(fa),da=Hi(fa),pa=Hi(fa);function ya(e){if(e===fa)throw Error(H(174));return e}function va(e,t){switch(Qi(pa,t),Qi(da,e),Qi(ha,fa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ze(null,"");break;default:t=Ze(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Wi(ha),Qi(ha,t)}function ma(){Wi(ha),Wi(da),Wi(pa)}function ga(e){ya(pa.current);var t=ya(ha.current),n=Ze(t,e.type);t!==n&&(Qi(da,e),Qi(ha,n))}function ba(e){da.current===e&&(Wi(ha),Wi(da))}var wa=Hi(0);function Ea(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sa=null,_a=null,Ta=!1;function Ia(e,t){var n=kc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function ka(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Na(e){if(Ta){var t=_a;if(t){var n=t;if(!ka(e,t)){if(!(t=Di(n.nextSibling))||!ka(e,t))return e.flags=-1025&e.flags|2,Ta=!1,void(Sa=e);Ia(Sa,n)}Sa=e,_a=Di(t.firstChild)}else e.flags=-1025&e.flags|2,Ta=!1,Sa=e}}function Ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Sa=e}function xa(e){if(e!==Sa)return!1;if(!Ta)return Ca(e),Ta=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!ki(t,e.memoizedProps))for(t=_a;t;)Ia(e,t),t=Di(t.nextSibling);if(Ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){_a=Di(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}_a=null}}else _a=Sa?Di(e.stateNode.nextSibling):null;return!0}function Da(){_a=Sa=null,Ta=!1}var Aa=[];function Pa(){for(var e=0;e<Aa.length;e++)Aa[e]._workInProgressVersionPrimary=null;Aa.length=0}var Oa=ae.ReactCurrentDispatcher,Ra=ae.ReactCurrentBatchConfig,La=0,Ma=null,Fa=null,Ua=null,Va=!1,qa=!1;function Ba(){throw Error(H(321))}function ja(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wr(e[n],t[n]))return!1;return!0}function za(e,t,n,r,i,o){if(La=o,Ma=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Oa.current=null===e||null===e.memoizedState?ys:vs,e=n(r,i),qa){o=0;do{if(qa=!1,!(25>o))throw Error(H(301));o+=1,Ua=Fa=null,t.updateQueue=null,Oa.current=ms,e=n(r,i)}while(qa)}if(Oa.current=ps,t=null!==Fa&&null!==Fa.next,La=0,Ua=Fa=Ma=null,Va=!1,t)throw Error(H(300));return e}function Ka(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ua?Ma.memoizedState=Ua=e:Ua=Ua.next=e,Ua}function Ha(){if(null===Fa){var e=Ma.alternate;e=null!==e?e.memoizedState:null}else e=Fa.next;var t=null===Ua?Ma.memoizedState:Ua.next;if(null!==t)Ua=t,Fa=e;else{if(null===e)throw Error(H(310));e={memoizedState:(Fa=e).memoizedState,baseState:Fa.baseState,baseQueue:Fa.baseQueue,queue:Fa.queue,next:null},null===Ua?Ma.memoizedState=Ua=e:Ua=Ua.next=e}return Ua}function Wa(e,t){return"function"==typeof t?t(e):t}function Qa(e){var t=Ha(),n=t.queue;if(null===n)throw Error(H(311));n.lastRenderedReducer=e;var r=Fa,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=a=o=null,u=i;do{var c=u.lane;if((La&c)===c)null!==s&&(s=s.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var l={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===s?(a=s=l,o=r):s=s.next=l,Ma.lanes|=c,_u|=c}u=u.next}while(null!==u&&u!==i);null===s?o=r:s.next=a,Wr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Ga(e){var t=Ha(),n=t.queue;if(null===n)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);Wr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function $a(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(La&e)===e)&&(t._workInProgressVersionPrimary=r,Aa.push(t))),e)return n(t._source);throw Aa.push(t),Error(H(350))}function Ya(e,t,n,r){var i=yu;if(null===i)throw Error(H(349));var o=t._getVersion,a=o(t._source),s=Oa.current,u=s.useState((function(){return $a(i,t,n)})),c=u[1],l=u[0];u=Ua;var f=e.memoizedState,h=f.refs,d=h.getSnapshot,p=f.source;f=f.subscribe;var y=Ma;return e.memoizedState={refs:h,source:t,subscribe:r},s.useEffect((function(){h.getSnapshot=n,h.setSnapshot=c;var e=o(t._source);if(!Wr(a,e)){e=n(t._source),Wr(l,e)||(c(e),e=$u(y),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,s=e;0<s;){var u=31-Dn(s),f=1<<u;r[u]|=e,s&=~f}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=$u(y);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),Wr(d,n)&&Wr(p,t)&&Wr(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:l}).dispatch=c=ds.bind(null,Ma,e),u.queue=e,u.baseQueue=null,l=$a(i,t,n),u.memoizedState=u.baseState=l),l}function Xa(e,t,n){return Ya(Ha(),e,t,n)}function Ja(e){var t=Ka();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:e}).dispatch=ds.bind(null,Ma,e),[t.memoizedState,e]}function Za(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ma.updateQueue)?(t={lastEffect:null},Ma.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function es(e){return e={current:e},Ka().memoizedState=e}function ts(){return Ha().memoizedState}function ns(e,t,n,r){var i=Ka();Ma.flags|=e,i.memoizedState=Za(1|t,n,void 0,void 0===r?null:r)}function rs(e,t,n,r){var i=Ha();r=void 0===r?null:r;var o=void 0;if(null!==Fa){var a=Fa.memoizedState;if(o=a.destroy,null!==r&&ja(r,a.deps))return void Za(t,n,o,r)}Ma.flags|=e,i.memoizedState=Za(1|t,n,o,r)}function is(e,t){return ns(516,4,e,t)}function os(e,t){return rs(516,4,e,t)}function as(e,t){return rs(4,2,e,t)}function ss(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function us(e,t,n){return n=null!=n?n.concat([e]):null,rs(4,2,ss.bind(null,t,e),n)}function cs(){}function ls(e,t){var n=Ha();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ja(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function fs(e,t){var n=Ha();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ja(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function hs(e,t){var n=No();xo(98>n?98:n,(function(){e(!0)})),xo(97<n?97:n,(function(){var n=Ra.transition;Ra.transition=1;try{e(!1),t()}finally{Ra.transition=n}}))}function ds(e,t,n){var r=Gu(),i=$u(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Ma||null!==a&&a===Ma)qa=Va=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,Wr(u,s))return}catch(c){}Yu(e,i,r)}}var ps={readContext:zo,useCallback:Ba,useContext:Ba,useEffect:Ba,useImperativeHandle:Ba,useLayoutEffect:Ba,useMemo:Ba,useReducer:Ba,useRef:Ba,useState:Ba,useDebugValue:Ba,useDeferredValue:Ba,useTransition:Ba,useMutableSource:Ba,useOpaqueIdentifier:Ba,unstable_isNewReconciler:!1},ys={readContext:zo,useCallback:function(e,t){return Ka().memoizedState=[e,void 0===t?null:t],e},useContext:zo,useEffect:is,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ns(4,2,ss.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ns(4,2,e,t)},useMemo:function(e,t){var n=Ka();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ka();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ds.bind(null,Ma,e),[r.memoizedState,e]},useRef:es,useState:Ja,useDebugValue:cs,useDeferredValue:function(e){var t=Ja(e),n=t[0],r=t[1];return is((function(){var t=Ra.transition;Ra.transition=1;try{r(e)}finally{Ra.transition=t}}),[e]),n},useTransition:function(){var e=Ja(!1),t=e[0];return es(e=hs.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=Ka();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},Ya(r,e,t,n)},useOpaqueIdentifier:function(){if(Ta){var e=!1,t=function(e){return{$$typeof:we,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Pi++).toString(36))),Error(H(355))})),n=Ja(t)[1];return 0==(2&Ma.mode)&&(Ma.flags|=516,Za(5,(function(){n("r:"+(Pi++).toString(36))}),void 0,null)),t}return Ja(t="r:"+(Pi++).toString(36)),t},unstable_isNewReconciler:!1},vs={readContext:zo,useCallback:ls,useContext:zo,useEffect:os,useImperativeHandle:us,useLayoutEffect:as,useMemo:fs,useReducer:Qa,useRef:ts,useState:function(){return Qa(Wa)},useDebugValue:cs,useDeferredValue:function(e){var t=Qa(Wa),n=t[0],r=t[1];return os((function(){var t=Ra.transition;Ra.transition=1;try{r(e)}finally{Ra.transition=t}}),[e]),n},useTransition:function(){var e=Qa(Wa)[0];return[ts().current,e]},useMutableSource:Xa,useOpaqueIdentifier:function(){return Qa(Wa)[0]},unstable_isNewReconciler:!1},ms={readContext:zo,useCallback:ls,useContext:zo,useEffect:os,useImperativeHandle:us,useLayoutEffect:as,useMemo:fs,useReducer:Ga,useRef:ts,useState:function(){return Ga(Wa)},useDebugValue:cs,useDeferredValue:function(e){var t=Ga(Wa),n=t[0],r=t[1];return os((function(){var t=Ra.transition;Ra.transition=1;try{r(e)}finally{Ra.transition=t}}),[e]),n},useTransition:function(){var e=Ga(Wa)[0];return[ts().current,e]},useMutableSource:Xa,useOpaqueIdentifier:function(){return Ga(Wa)[0]},unstable_isNewReconciler:!1},gs=ae.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?la(t,null,n,r):ca(t,e.child,n,r)}function Es(e,t,n,r,i){n=n.render;var o=t.ref;return jo(t,i),r=za(e,t,n,r,o,i),null===e||bs?(t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Bs(e,t,i))}function Ss(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Nc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=xc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,_s(e,t,a,r,i,o))}return a=e.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Gr)(i,r)&&e.ref===t.ref)?Bs(e,t,o):(t.flags|=1,(e=Cc(a,r)).ref=t.ref,e.return=t,t.child=e)}function _s(e,t,n,r,i,o){if(null!==e&&Gr(e.memoizedProps,r)&&e.ref===t.ref){if(bs=!1,0==(o&i))return t.lanes=e.lanes,Bs(e,t,o);0!=(16384&e.flags)&&(bs=!0)}return ks(e,t,n,r,o)}function Ts(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},ic(t,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},ic(t,e),null;t.memoizedState={baseLanes:0},ic(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,ic(t,r);return ws(e,t,i,n),t.child}function Is(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function ks(e,t,n,r,i){var o=Zi(n)?Xi:$i.current;return o=Ji(t,o),jo(t,i),n=za(e,t,n,r,o,i),null===e||bs?(t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Bs(e,t,i))}function Ns(e,t,n,r,i){if(Zi(n)){var o=!0;ro(t)}else o=!1;if(jo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),na(t,n,r),ia(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=zo(c):c=Ji(t,c=Zi(n)?Xi:$i.current);var l=n.getDerivedStateFromProps,f="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&ra(t,a,r,c),Ko=!1;var h=t.memoizedState;a.state=h,Yo(t,r,a,i),u=t.memoizedState,s!==r||h!==u||Yi.current||Ko?("function"==typeof l&&(Zo(t,n,l,r),u=t.memoizedState),(s=Ko||ta(t,n,s,r,h,u,c))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,Wo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Ro(t.type,s),a.props=c,f=t.pendingProps,h=a.context,"object"==typeof(u=n.contextType)&&null!==u?u=zo(u):u=Ji(t,u=Zi(n)?Xi:$i.current);var d=n.getDerivedStateFromProps;(l="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==f||h!==u)&&ra(t,a,r,u),Ko=!1,h=t.memoizedState,a.state=h,Yo(t,r,a,i);var p=t.memoizedState;s!==f||h!==p||Yi.current||Ko?("function"==typeof d&&(Zo(t,n,d,r),p=t.memoizedState),(c=Ko||ta(t,n,c,r,h,p,u))?(l||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Cs(e,t,n,r,o,i)}function Cs(e,t,n,r,i,o){Is(e,t);var a=0!=(64&t.flags);if(!r&&!a)return i&&io(t,n,!1),Bs(e,t,o);r=t.stateNode,gs.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ca(t,e.child,null,o),t.child=ca(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&io(t,n,!0),t.child}function xs(e){var t=e.stateNode;t.pendingContext?to(0,t.pendingContext,t.pendingContext!==t.context):t.context&&to(0,t.context,!1),va(e,t.containerInfo)}var Ds,As,Ps,Os={dehydrated:null,retryLane:0};function Rs(e,t,n){var r,i=t.pendingProps,o=wa.current,a=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),Qi(wa,1&o),null===e?(void 0!==i.fallback&&Na(t),e=i.children,o=i.fallback,a?(e=Ls(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Os,e):"number"==typeof i.unstable_expectedLoadTime?(e=Ls(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Os,t.lanes=33554432,e):((n=Ac({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=Fs(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Os,i):(n=Ms(e,t,i.children,n),t.memoizedState=null,n))}function Ls(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Ac(t,i,0,null),n=Dc(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Ms(e,t,n,r){var i=e.child;return e=i.sibling,n=Cc(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Fs(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Cc(a,s),null!==e?r=Cc(e,r):(r=Dc(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Us(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Bo(e.return,t)}function Vs(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!=(2&(r=wa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n);else if(19===e.tag)Us(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Qi(wa,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ea(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ea(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vs(t,!0,n,null,o,t.lastEffect);break;case"together":Vs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Bs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),_u|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(H(153));if(null!==t.child){for(n=Cc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Cc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function js(e,t){if(!Ta)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function zs(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Zi(t.type)&&eo(),null;case 3:return ma(),Wi(Yi),Wi($i),Pa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(xa(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:ba(t);var i=ya(pa.current);if(n=t.type,null!==e&&null!=t.stateNode)As(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(H(166));return null}if(e=ya(ha.current),xa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Ri]=t,r[Li]=o,n){case"dialog":hi("cancel",r),hi("close",r);break;case"iframe":case"object":case"embed":hi("load",r);break;case"video":case"audio":for(e=0;e<ui.length;e++)hi(ui[e],r);break;case"source":hi("error",r);break;case"img":case"image":case"link":hi("error",r),hi("load",r);break;case"details":hi("toggle",r);break;case"input":Ve(r,o),hi("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},hi("invalid",r);break;case"textarea":Qe(r,o),hi("invalid",r)}for(var a in ct(n,o),e=null,o)o.hasOwnProperty(a)&&(i=o[a],"children"===a?"string"==typeof i?r.textContent!==i&&(e=["children",i]):"number"==typeof i&&r.textContent!==""+i&&(e=["children",""+i]):Q.hasOwnProperty(a)&&null!=i&&"onScroll"===a&&hi("scroll",r));switch(n){case"input":Le(r),je(r,o,!0);break;case"textarea":Le(r),$e(r);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(r.onclick=Si)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(a=9===i.nodeType?i:i.ownerDocument,e===Ye&&(e=Je(n)),e===Ye?"script"===n?((e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),"select"===n&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Ri]=t,e[Li]=r,Ds(e,t),t.stateNode=e,a=lt(n,r),n){case"dialog":hi("cancel",e),hi("close",e),i=r;break;case"iframe":case"object":case"embed":hi("load",e),i=r;break;case"video":case"audio":for(i=0;i<ui.length;i++)hi(ui[i],e);i=r;break;case"source":hi("error",e),i=r;break;case"img":case"image":case"link":hi("error",e),hi("load",e),i=r;break;case"details":hi("toggle",e),i=r;break;case"input":Ve(e,r),i=Ue(e,r),hi("invalid",e);break;case"option":i=Ke(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=z({},r,{value:void 0}),hi("invalid",e);break;case"textarea":Qe(e,r),i=We(e,r),hi("invalid",e);break;default:i=r}ct(n,i);var s=i;for(o in s)if(s.hasOwnProperty(o)){var u=s[o];"style"===o?st(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&nt(e,u):"children"===o?"string"==typeof u?("textarea"!==n||""!==u)&&rt(e,u):"number"==typeof u&&rt(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(Q.hasOwnProperty(o)?null!=u&&"onScroll"===o&&hi("scroll",e):null!=u&&oe(e,o,u,a))}switch(n){case"input":Le(e),je(e,r,!1);break;case"textarea":Le(e),$e(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Oe(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?He(e,!!r.multiple,o,!1):null!=r.defaultValue&&He(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Si)}Ii(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ps(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(H(166));n=ya(pa.current),ya(ha.current),xa(t)?(r=t.stateNode,n=t.memoizedProps,r[Ri]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Ri]=t,t.stateNode=r)}return null;case 13:return Wi(wa),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&xa(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&wa.current)?0===wu&&(wu=3):(0!==wu&&3!==wu||(wu=4),null===yu||0==(134217727&_u)&&0==(134217727&Tu)||ec(yu,mu))),(r||n)&&(t.flags|=4),null);case 4:return ma(),null===e&&pi(t.stateNode.containerInfo),null;case 10:return qo(t),null;case 17:return Zi(t.type)&&eo(),null;case 19:if(Wi(wa),null===(r=t.memoizedState))return null;if(o=0!=(64&t.flags),null===(a=r.rendering))if(o)js(r,!1);else{if(0!==wu||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(a=Ea(e))){for(t.flags|=64,js(r,!1),null!==(o=a.updateQueue)&&(t.updateQueue=o,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(a=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Qi(wa,1&wa.current|2),t.child}e=e.sibling}null!==r.tail&&ko()>Cu&&(t.flags|=64,o=!0,js(r,!1),t.lanes=33554432)}else{if(!o)if(null!==(e=Ea(a))){if(t.flags|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),js(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!Ta)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*ko()-r.renderingStartTime>Cu&&1073741824!==n&&(t.flags|=64,o=!0,js(r,!1),t.lanes=33554432);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(n=r.last)?n.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=ko(),n.sibling=null,t=wa.current,Qi(wa,o?1&t|2:1&t),n):null;case 23:case 24:return oc(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(H(156,t.tag))}function Ks(e){switch(e.tag){case 1:Zi(e.type)&&eo();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(ma(),Wi(Yi),Wi($i),Pa(),0!=(64&(t=e.flags)))throw Error(H(285));return e.flags=-4097&t|64,e;case 5:return ba(e),null;case 13:return Wi(wa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return Wi(wa),null;case 4:return ma(),null;case 10:return qo(e),null;case 23:case 24:return oc(),null;default:return null}}function Hs(e,t){try{var n="",r=t;do{n+=Ae(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function Ws(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ds=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},As=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ya(ha.current);var o,a=null;switch(n){case"input":i=Ue(e,i),r=Ue(e,r),a=[];break;case"option":i=Ke(e,i),r=Ke(e,r),a=[];break;case"select":i=z({},i,{value:void 0}),r=z({},r,{value:void 0}),a=[];break;case"textarea":i=We(e,i),r=We(e,r),a=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Si)}for(c in ct(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(Q.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(s=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==s&&(null!=u||null!=s))if("style"===c)if(s){for(o in s)!s.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&s[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,s=s?s.__html:void 0,null!=u&&s!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!=typeof u&&"number"!=typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(Q.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&hi("scroll",e),a||s===u||(a=[])):"object"==typeof u&&null!==u&&u.$$typeof===we?u.toString():(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Ps=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qs="function"==typeof WeakMap?WeakMap:Map;function Gs(e,t,n){(n=Qo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Pu||(Pu=!0,Ou=r),Ws(0,t)},n}function $s(e,t,n){(n=Qo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return Ws(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ru?Ru=new Set([this]):Ru.add(this),Ws(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var Ys="function"==typeof WeakSet?WeakSet:Set;function Xs(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(n){Sc(e,n)}else t.current=null}function Js(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ro(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&xi(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(H(163))}function Zs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(bc(n,e),gc(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ro(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&Xo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}Xo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Ii(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&un(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(H(163))}function eu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=at("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function tu(e,t){if(ao&&"function"==typeof ao.onCommitFiberUnmount)try{ao.onCommitFiberUnmount(oo,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))bc(t,n);else{r=t;try{i()}catch(o){Sc(r,o)}}n=n.next}while(n!==e)}break;case 1:if(Xs(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Sc(t,o)}break;case 5:Xs(t);break;case 4:su(e,t)}}function nu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ru(e){return 5===e.tag||3===e.tag||4===e.tag}function iu(e){e:{for(var t=e.return;null!==t;){if(ru(t))break e;t=t.return}throw Error(H(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(H(161))}16&n.flags&&(rt(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ru(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ou(e,n,t):au(e,n,t)}function ou(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Si));else if(4!==r&&null!==(e=e.child))for(ou(e,t,n),e=e.sibling;null!==e;)ou(e,t,n),e=e.sibling}function au(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(au(e,t,n),e=e.sibling;null!==e;)au(e,t,n),e=e.sibling}function su(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(H(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var a=e,s=i,u=s;;)if(tu(a,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===s)break e;for(;null===u.sibling;){if(null===u.return||u.return===s)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(a=n,s=i.stateNode,8===a.nodeType?a.parentNode.removeChild(s):a.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(tu(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function uu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Li]=r,"input"===e&&"radio"===r.type&&null!=r.name&&qe(n,r),lt(e,i),t=lt(e,r),i=0;i<o.length;i+=2){var a=o[i],s=o[i+1];"style"===a?st(n,s):"dangerouslySetInnerHTML"===a?nt(n,s):"children"===a?rt(n,s):oe(n,a,s,t)}switch(e){case"input":Be(n,r);break;case"textarea":Ge(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?He(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?He(n,!!r.multiple,r.defaultValue,!0):He(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(H(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,un(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Nu=ko(),eu(t.child,!0)),void cu(t);case 19:return void cu(t);case 17:return;case 23:case 24:return void eu(t,null!==t.memoizedState)}throw Error(H(163))}function cu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function lu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var fu=Math.ceil,hu=ae.ReactCurrentDispatcher,du=ae.ReactCurrentOwner,pu=0,yu=null,vu=null,mu=0,gu=0,bu=Hi(0),wu=0,Eu=null,Su=0,_u=0,Tu=0,Iu=0,ku=null,Nu=0,Cu=1/0;function xu(){Cu=ko()+500}var Du,Au=null,Pu=!1,Ou=null,Ru=null,Lu=!1,Mu=null,Fu=90,Uu=[],Vu=[],qu=null,Bu=0,ju=null,zu=-1,Ku=0,Hu=0,Wu=null,Qu=!1;function Gu(){return 0!=(48&pu)?ko():-1!==zu?zu:zu=ko()}function $u(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===No()?1:2;if(0===Ku&&(Ku=Su),0!==Oo.transition){0!==Hu&&(Hu=null!==ku?ku.pendingLanes:0),e=Ku;var t=4186112&~Hu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=No(),0!=(4&pu)&&98===e?e=kn(12,Ku):e=kn(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),Ku),e}function Yu(e,t,n){if(50<Bu)throw Bu=0,ju=null,Error(H(185));if(null===(e=Xu(e,t)))return null;xn(e,t,n),e===yu&&(Tu|=t,4===wu&&ec(e,mu));var r=No();1===t?0!=(8&pu)&&0==(48&pu)?tc(e):(Ju(e,n),0===pu&&(xu(),Ao())):(0==(4&pu)||98!==r&&99!==r||(null===qu?qu=new Set([e]):qu.add(e)),Ju(e,n)),ku=e}function Xu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Ju(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-Dn(a),u=1<<s,c=o[s];if(-1===c){if(0==(u&r)||0!=(u&i)){c=t,_n(u);var l=Sn;o[s]=10<=l?c+250:6<=l?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);a&=~u}if(r=Tn(e,e===yu?mu:0),t=Sn,0===r)null!==n&&(n!==wo&&co(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==wo&&co(n)}15===t?(n=tc.bind(null,e),null===So?(So=[n],_o=uo(yo,Po)):So.push(n),n=wo):14===t?n=Do(99,tc.bind(null,e)):n=Do(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(H(358,e))}}(t),Zu.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function Zu(e){if(zu=-1,Hu=Ku=0,0!=(48&pu))throw Error(H(327));var t=e.callbackNode;if(mc()&&e.callbackNode!==t)return null;var n=Tn(e,e===yu?mu:0);if(0===n)return null;var r=n,i=pu;pu|=16;var o=uc();for(yu===e&&mu===r||(xu(),ac(e,r));;)try{fc();break}catch(s){sc(e,s)}if(Vo(),hu.current=o,pu=i,null!==vu?r=0:(yu=null,mu=0,r=wu),0!=(Su&Tu))ac(e,0);else if(0!==r){if(2===r&&(pu|=64,e.hydrate&&(e.hydrate=!1,xi(e.containerInfo)),0!==(n=In(e))&&(r=cc(e,n))),1===r)throw t=Eu,ac(e,0),ec(e,n),Ju(e,ko()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(H(345));case 2:pc(e);break;case 3:if(ec(e,n),(62914560&n)===n&&10<(r=Nu+500-ko())){if(0!==Tn(e,0))break;if(((i=e.suspendedLanes)&n)!==n){Gu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ni(pc.bind(null,e),r);break}pc(e);break;case 4:if(ec(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-Dn(n);o=1<<a,(a=r[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=ko()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*fu(n/1960))-n)){e.timeoutHandle=Ni(pc.bind(null,e),n);break}pc(e);break;case 5:pc(e);break;default:throw Error(H(329))}}return Ju(e,ko()),e.callbackNode===t?Zu.bind(null,e):null}function ec(e,t){for(t&=~Iu,t&=~Tu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Dn(t),r=1<<n;e[n]=-1,t&=~r}}function tc(e){if(0!=(48&pu))throw Error(H(327));if(mc(),e===yu&&0!=(e.expiredLanes&mu)){var t=mu,n=cc(e,t);0!=(Su&Tu)&&(n=cc(e,t=Tn(e,t)))}else n=cc(e,t=Tn(e,0));if(0!==e.tag&&2===n&&(pu|=64,e.hydrate&&(e.hydrate=!1,xi(e.containerInfo)),0!==(t=In(e))&&(n=cc(e,t))),1===n)throw n=Eu,ac(e,0),ec(e,t),Ju(e,ko()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,pc(e),Ju(e,ko()),null}function nc(e,t){var n=pu;pu|=1;try{return e(t)}finally{0===(pu=n)&&(xu(),Ao())}}function rc(e,t){var n=pu;pu&=-2,pu|=8;try{return e(t)}finally{0===(pu=n)&&(xu(),Ao())}}function ic(e,t){Qi(bu,gu),gu|=t,Su|=t}function oc(){gu=bu.current,Wi(bu)}function ac(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Ci(n)),null!==vu)for(n=vu.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&eo();break;case 3:ma(),Wi(Yi),Wi($i),Pa();break;case 5:ba(r);break;case 4:ma();break;case 13:case 19:Wi(wa);break;case 10:qo(r);break;case 23:case 24:oc()}n=n.return}yu=e,vu=Cc(e.current,null),mu=gu=Su=t,wu=0,Eu=null,Iu=Tu=_u=0}function sc(e,t){for(;;){var n=vu;try{if(Vo(),Oa.current=ps,Va){for(var r=Ma.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Va=!1}if(La=0,Ua=Fa=Ma=null,qa=!1,du.current=null,null===n||null===n.return){wu=1,Eu=t,vu=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=mu,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u;if(0==(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!=(1&wa.current),h=a;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var y=h.memoizedProps;d=void 0!==y.fallback&&(!0!==y.unstable_avoidThisFallback||!f)}}if(d){var v=h.updateQueue;if(null===v){var m=new Set;m.add(c),h.updateQueue=m}else v.add(c);if(0==(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=Qo(-1,1);g.tag=2,Go(s,g)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new Qs,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var w=_c.bind(null,o,c,s);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((Pe(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==wu&&(wu=2),u=Hs(u,s),h=a;do{switch(h.tag){case 3:o=u,h.flags|=4096,t&=-t,h.lanes|=t,$o(h,Gs(0,o,t));break e;case 1:o=u;var E=h.type,S=h.stateNode;if(0==(64&h.flags)&&("function"==typeof E.getDerivedStateFromError||null!==S&&"function"==typeof S.componentDidCatch&&(null===Ru||!Ru.has(S)))){h.flags|=4096,t&=-t,h.lanes|=t,$o(h,$s(h,o,t));break e}}h=h.return}while(null!==h)}dc(n)}catch(_){t=_,vu===n&&null!==n&&(vu=n=n.return);continue}break}}function uc(){var e=hu.current;return hu.current=ps,null===e?ps:e}function cc(e,t){var n=pu;pu|=16;var r=uc();for(yu===e&&mu===t||ac(e,t);;)try{lc();break}catch(rI){sc(e,rI)}if(Vo(),pu=n,hu.current=r,null!==vu)throw Error(H(261));return yu=null,mu=0,wu}function lc(){for(;null!==vu;)hc(vu)}function fc(){for(;null!==vu&&!lo();)hc(vu)}function hc(e){var t=Du(e.alternate,e,gu);e.memoizedProps=e.pendingProps,null===t?dc(e):vu=t,du.current=null}function dc(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=zs(n,t,gu)))return void(vu=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&gu)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=Ks(t)))return n.flags&=2047,void(vu=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(vu=t);vu=t=e}while(null!==t);0===wu&&(wu=5)}function pc(e){var t=No();return xo(99,yc.bind(null,e,t)),null}function yc(e,t){do{mc()}while(null!==Mu);if(0!=(48&pu))throw Error(H(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,s=e.expirationTimes;0<o;){var u=31-Dn(o),c=1<<u;i[u]=0,a[u]=-1,s[u]=-1,o&=~c}if(null!==qu&&0==(24&r)&&qu.has(e)&&qu.delete(e),e===yu&&(vu=yu=null,mu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=pu,pu|=32,du.current=null,_i=Ln,Zr(a=Jr())){if("selectionStart"in a)s={start:a.selectionStart,end:a.selectionEnd};else e:if(s=(s=a.ownerDocument)&&s.defaultView||window,(c=s.getSelection&&s.getSelection())&&0!==c.rangeCount){s=c.anchorNode,o=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{s.nodeType,u.nodeType}catch(I){s=null;break e}var l=0,f=-1,h=-1,d=0,p=0,y=a,v=null;t:for(;;){for(var m;y!==s||0!==o&&3!==y.nodeType||(f=l+o),y!==u||0!==c&&3!==y.nodeType||(h=l+c),3===y.nodeType&&(l+=y.nodeValue.length),null!==(m=y.firstChild);)v=y,y=m;for(;;){if(y===a)break t;if(v===s&&++d===o&&(f=l),v===u&&++p===c&&(h=l),null!==(m=y.nextSibling))break;v=(y=v).parentNode}y=m}s=-1===f||-1===h?null:{start:f,end:h}}else s=null;s=s||{start:0,end:0}}else s=null;Ti={focusedElem:a,selectionRange:s},Ln=!1,Wu=null,Qu=!1,Au=r;do{try{vc()}catch(I){if(null===Au)throw Error(H(330));Sc(Au,I),Au=Au.nextEffect}}while(null!==Au);Wu=null,Au=r;do{try{for(a=e;null!==Au;){var g=Au.flags;if(16&g&&rt(Au.stateNode,""),128&g){var b=Au.alternate;if(null!==b){var w=b.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&g){case 2:iu(Au),Au.flags&=-3;break;case 6:iu(Au),Au.flags&=-3,uu(Au.alternate,Au);break;case 1024:Au.flags&=-1025;break;case 1028:Au.flags&=-1025,uu(Au.alternate,Au);break;case 4:uu(Au.alternate,Au);break;case 8:su(a,s=Au);var E=s.alternate;nu(s),null!==E&&nu(E)}Au=Au.nextEffect}}catch(I){if(null===Au)throw Error(H(330));Sc(Au,I),Au=Au.nextEffect}}while(null!==Au);if(w=Ti,b=Jr(),g=w.focusedElem,a=w.selectionRange,b!==g&&g&&g.ownerDocument&&Xr(g.ownerDocument.documentElement,g)){null!==a&&Zr(g)&&(b=a.start,void 0===(w=a.end)&&(w=b),"selectionStart"in g?(g.selectionStart=b,g.selectionEnd=Math.min(w,g.value.length)):(w=(b=g.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),s=g.textContent.length,E=Math.min(a.start,s),a=void 0===a.end?E:Math.min(a.end,s),!w.extend&&E>a&&(s=a,a=E,E=s),s=Yr(g,E),o=Yr(g,a),s&&o&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((b=b.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),E>a?(w.addRange(b),w.extend(o.node,o.offset)):(b.setEnd(o.node,o.offset),w.addRange(b))))),b=[];for(w=g;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof g.focus&&g.focus(),g=0;g<b.length;g++)(w=b[g]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Ln=!!_i,Ti=_i=null,e.current=n,Au=r;do{try{for(g=e;null!==Au;){var S=Au.flags;if(36&S&&Zs(g,Au.alternate,Au),128&S){b=void 0;var _=Au.ref;if(null!==_){var T=Au.stateNode;switch(Au.tag){case 5:b=T;break;default:b=T}"function"==typeof _?_(b):_.current=b}}Au=Au.nextEffect}}catch(I){if(null===Au)throw Error(H(330));Sc(Au,I),Au=Au.nextEffect}}while(null!==Au);Au=null,Eo(),pu=i}else e.current=n;if(Lu)Lu=!1,Mu=e,Fu=t;else for(Au=r;null!==Au;)t=Au.nextEffect,Au.nextEffect=null,8&Au.flags&&((S=Au).sibling=null,S.stateNode=null),Au=t;if(0===(r=e.pendingLanes)&&(Ru=null),1===r?e===ju?Bu++:(Bu=0,ju=e):Bu=0,n=n.stateNode,ao&&"function"==typeof ao.onCommitFiberRoot)try{ao.onCommitFiberRoot(oo,n,void 0,64==(64&n.current.flags))}catch(I){}if(Ju(e,ko()),Pu)throw Pu=!1,e=Ou,Ou=null,e;return 0!=(8&pu)||Ao(),null}function vc(){for(;null!==Au;){var e=Au.alternate;Qu||null===Wu||(0!=(8&Au.flags)?Vt(Au,Wu)&&(Qu=!0):13===Au.tag&&lu(e,Au)&&Vt(Au,Wu)&&(Qu=!0));var t=Au.flags;0!=(256&t)&&Js(e,Au),0==(512&t)||Lu||(Lu=!0,Do(97,(function(){return mc(),null}))),Au=Au.nextEffect}}function mc(){if(90!==Fu){var e=97<Fu?97:Fu;return Fu=90,xo(e,wc)}return!1}function gc(e,t){Uu.push(t,e),Lu||(Lu=!0,Do(97,(function(){return mc(),null})))}function bc(e,t){Vu.push(t,e),Lu||(Lu=!0,Do(97,(function(){return mc(),null})))}function wc(){if(null===Mu)return!1;var e=Mu;if(Mu=null,0!=(48&pu))throw Error(H(331));var t=pu;pu|=32;var n=Vu;Vu=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"==typeof a)try{a()}catch(u){if(null===o)throw Error(H(330));Sc(o,u)}}for(n=Uu,Uu=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var s=i.create;i.destroy=s()}catch(u){if(null===o)throw Error(H(330));Sc(o,u)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return pu=t,Ao(),!0}function Ec(e,t,n){Go(e,t=Gs(0,t=Hs(n,t),1)),t=Gu(),null!==(e=Xu(e,1))&&(xn(e,1,t),Ju(e,t))}function Sc(e,t){if(3===e.tag)Ec(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ec(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ru||!Ru.has(r))){var i=$s(n,e=Hs(t,e),1);if(Go(n,i),i=Gu(),null!==(n=Xu(n,1)))xn(n,1,i),Ju(n,i);else if("function"==typeof r.componentDidCatch&&(null===Ru||!Ru.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Gu(),e.pingedLanes|=e.suspendedLanes&n,yu===e&&(mu&n)===n&&(4===wu||3===wu&&(62914560&mu)===mu&&500>ko()-Nu?ac(e,0):Iu|=n),Ju(e,t)}function Tc(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===No()?1:2:(0===Ku&&(Ku=Su),0===(t=Nn(62914560&~Ku))&&(t=4194304))),n=Gu(),null!==(e=Xu(e,t))&&(xn(e,t,n),Ju(e,n))}function Ic(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function kc(e,t,n,r){return new Ic(e,t,n,r)}function Nc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Cc(e,t){var n=e.alternate;return null===n?((n=kc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function xc(e,t,n,r,i,o){var a=2;if(r=e,"function"==typeof e)Nc(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case ce:return Dc(n.children,i,o,t);case Ee:a=8,i|=16;break;case le:a=8,i|=1;break;case fe:return(e=kc(12,n,t,8|i)).elementType=fe,e.type=fe,e.lanes=o,e;case ye:return(e=kc(13,n,t,i)).type=ye,e.elementType=ye,e.lanes=o,e;case ve:return(e=kc(19,n,t,i)).elementType=ve,e.lanes=o,e;case Se:return Ac(n,i,o,t);case _e:return(e=kc(24,n,t,i)).elementType=_e,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case he:a=10;break e;case de:a=9;break e;case pe:a=11;break e;case me:a=14;break e;case ge:a=16,r=null;break e;case be:a=22;break e}throw Error(H(130,null==e?e:typeof e,""))}return(t=kc(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Dc(e,t,n,r){return(e=kc(7,e,r,t)).lanes=n,e}function Ac(e,t,n,r){return(e=kc(23,e,r,t)).elementType=Se,e.lanes=n,e}function Pc(e,t,n){return(e=kc(6,e,null,t)).lanes=n,e}function Oc(e,t,n){return(t=kc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Rc(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Cn(0),this.expirationTimes=Cn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cn(0),this.mutableSourceEagerHydrationData=null}function Lc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ue,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Mc(e,t,n,r){var i=t.current,o=Gu(),a=$u(i);e:if(n){t:{if(Lt(n=n._reactInternals)!==n||1!==n.tag)throw Error(H(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Zi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(H(171))}if(1===n.tag){var u=n.type;if(Zi(u)){n=no(n,u,s);break e}}n=s}else n=Gi;return null===t.context?t.context=n:t.pendingContext=n,(t=Qo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),Go(i,t),Yu(i,a,o),a}function Fc(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Uc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vc(e,t){Uc(e,t),(e=e.alternate)&&Uc(e,t)}function qc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Rc(e,t,null!=n&&!0===n.hydrate),t=kc(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,Ho(t),e[Mi]=n.current,pi(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function Bc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function jc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=Fc(a);s.call(e)}}Mc(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new qc(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var u=i;i=function(){var e=Fc(a);u.call(e)}}rc((function(){Mc(t,a,e,i)}))}return Fc(a)}function zc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Bc(t))throw Error(H(200));return Lc(e,t,null,n)}Du=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||Yi.current)bs=!0;else{if(0==(n&r)){switch(bs=!1,t.tag){case 3:xs(t),Da();break;case 5:ga(t);break;case 1:Zi(t.type)&&ro(t);break;case 4:va(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;Qi(Lo,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Rs(e,t,n):(Qi(wa,1&wa.current),null!==(t=Bs(e,t,n))?t.sibling:null);Qi(wa,1&wa.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return qs(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qi(wa,wa.current),r)break;return null;case 23:case 24:return t.lanes=0,Ts(e,t,n)}return Bs(e,t,n)}bs=0!=(16384&e.flags)}else bs=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=Ji(t,$i.current),jo(t,n),i=za(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Zi(r)){var o=!0;ro(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ho(t);var a=r.getDerivedStateFromProps;"function"==typeof a&&Zo(t,r,a,e),i.updater=ea,t.stateNode=i,i._reactInternals=t,ia(t,r,e,n),t=Cs(null,t,r,!0,o,n)}else t.tag=0,ws(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return Nc(e)?1:0;if(null!=e){if((e=e.$$typeof)===pe)return 11;if(e===me)return 14}return 2}(i),e=Ro(i,e),o){case 0:t=ks(null,t,i,e,n);break e;case 1:t=Ns(null,t,i,e,n);break e;case 11:t=Es(null,t,i,e,n);break e;case 14:t=Ss(null,t,i,Ro(i.type,e),r,n);break e}throw Error(H(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,ks(e,t,r,i=t.elementType===r?i:Ro(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ns(e,t,r,i=t.elementType===r?i:Ro(r,i),n);case 3:if(xs(t),r=t.updateQueue,null===e||null===r)throw Error(H(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,Wo(e,t),Yo(t,r,null,n),(r=t.memoizedState.element)===i)Da(),t=Bs(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(_a=Di(t.stateNode.containerInfo.firstChild),Sa=t,o=Ta=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Aa.push(o);for(n=la(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else ws(e,t,r,n),Da();t=t.child}return t;case 5:return ga(t),null===e&&Na(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ki(r,i)?a=null:null!==o&&ki(r,o)&&(t.flags|=16),Is(e,t),ws(e,t,a,n),t.child;case 6:return null===e&&Na(t),null;case 13:return Rs(e,t,n);case 4:return va(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ca(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Es(e,t,r,i=t.elementType===r?i:Ro(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var s=t.type._context;if(Qi(Lo,s._currentValue),s._currentValue=o,null!==a)if(s=a.value,0===(o=Wr(s,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(s,o):1073741823))){if(a.children===i.children&&!Yi.current){t=Bs(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var u=s.dependencies;if(null!==u){a=s.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&o)){1===s.tag&&((c=Qo(-1,n&-n)).tag=2,Go(s,c)),s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Bo(s.return,n),u.lanes|=n;break}c=c.next}}else a=10===s.tag&&s.type===t.type?null:s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,jo(t,n),r=r(i=zo(i,o.unstable_observedBits)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return o=Ro(i=t.type,t.pendingProps),Ss(e,t,i,o=Ro(i.type,o),r,n);case 15:return _s(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ro(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Zi(r)?(e=!0,ro(t)):e=!1,jo(t,n),na(t,r,i),ia(t,r,i,n),Cs(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 23:case 24:return Ts(e,t,n)}throw Error(H(156,t.tag))},qc.prototype.render=function(e){Mc(e,this._internalRoot,null,null)},qc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Mc(null,e,null,(function(){t[Mi]=null}))},qt=function(e){13===e.tag&&(Yu(e,4,Gu()),Vc(e,4))},Bt=function(e){13===e.tag&&(Yu(e,67108864,Gu()),Vc(e,67108864))},jt=function(e){if(13===e.tag){var t=Gu(),n=$u(e);Yu(e,n,t),Vc(e,n)}},zt=function(e,t){return t()},ht=function(e,t,n){switch(t){case"input":if(Be(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Bi(r);if(!i)throw Error(H(90));Me(r),Be(r,i)}}}break;case"textarea":Ge(e,n);break;case"select":null!=(t=n.value)&&He(e,!!n.multiple,t,!1)}},gt=nc,bt=function(e,t,n,r,i){var o=pu;pu|=4;try{return xo(98,e.bind(null,t,n,r,i))}finally{0===(pu=o)&&(xu(),Ao())}},wt=function(){0==(49&pu)&&(function(){if(null!==qu){var e=qu;qu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,Ju(e,ko())}))}Ao()}(),mc())},Et=function(e,t){var n=pu;pu|=2;try{return e(t)}finally{0===(pu=n)&&(xu(),Ao())}};var Kc={Events:[Vi,qi,Bi,vt,mt,mc,{current:!1}]},Hc={findFiberByHostInstance:Ui,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Wc={bundleType:Hc.bundleType,version:Hc.version,rendererPackageName:Hc.rendererPackageName,rendererConfig:Hc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ae.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ut(e))?null:e.stateNode},findFiberByHostInstance:Hc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{oo=Qc.inject(Wc),ao=Qc}catch(tt){}}V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kc,V.createPortal=zc,V.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(H(188));throw Error(H(268,Object.keys(e)))}return e=null===(e=Ut(t))?null:e.stateNode},V.flushSync=function(e,t){var n=pu;if(0!=(48&n))return e(t);pu|=1;try{if(e)return xo(99,e.bind(null,t))}finally{pu=n,Ao()}},V.hydrate=function(e,t,n){if(!Bc(t))throw Error(H(200));return jc(null,e,t,!0,n)},V.render=function(e,t,n){if(!Bc(t))throw Error(H(200));return jc(null,e,t,!1,n)},V.unmountComponentAtNode=function(e){if(!Bc(e))throw Error(H(40));return!!e._reactRootContainer&&(rc((function(){jc(null,null,e,!1,(function(){e._reactRootContainer=null,e[Mi]=null}))})),!0)},V.unstable_batchedUpdates=nc,V.unstable_createPortal=function(e,t){return zc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},V.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bc(n))throw Error(H(200));if(null==e||void 0===e._reactInternals)throw Error(H(38));return jc(e,t,n,!1,r)},V.version="17.0.2",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),U.exports=V;var Gc=U.exports,$c=function(e,t){return($c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Yc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}$c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Xc=function(){return(Xc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Jc(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(rI){o(rI)}}function s(e){try{u(r.throw(e))}catch(rI){o(rI)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Zc(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(rI){o=[6,rI],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function el(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function tl(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function nl(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};function il(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=il(e[n],t[n]));return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ol=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function al(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function sl(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(rI){return!1}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ul=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,cl.prototype.create),o}return Yc(t,e),t}(Error),cl=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?ll(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new ul(i,s,r);return u},e}();function ll(e,t){return e.replace(fl,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var fl=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function dl(e,t){var n=new pl(e,t);return n.subscribe.bind(n)}var pl=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=yl),void 0===r.error&&(r.error=yl),void 0===r.complete&&(r.complete=yl);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(rI){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(rI){"undefined"!=typeof console&&console.error&&console.error(rI)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function yl(){}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(e){return e&&e._delegate?e._delegate:e}var ml=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),gl=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return e.prototype.get=function(e){void 0===e&&(e="[DEFAULT]");var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ol;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(rI){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n,r=null!==(t=null==e?void 0:e.identifier)&&void 0!==t?t:"[DEFAULT]",i=null!==(n=null==e?void 0:e.optional)&&void 0!==n&&n,o=this.normalizeInstanceIdentifier(r);if(!this.isInitialized(o)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:o})}catch(rI){if(i)return null;throw rI}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(rI){}try{for(var r=el(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=tl(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(rI){}}}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return Jc(this,void 0,void 0,(function(){var e;return Zc(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(nl(nl([],tl(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),tl(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e="[DEFAULT]"),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.instanceIdentifier,i=void 0===r?"[DEFAULT]":r,o=e.options,a=void 0===o?{}:o,s=this.normalizeInstanceIdentifier(i);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:s,options:a});try{for(var c=el(this.instancesDeferred.entries()),l=c.next();!l.done;l=c.next()){var f=tl(l.value,2),h=f[0],d=f[1];s===this.normalizeInstanceIdentifier(h)&&d.resolve(u)}}catch(p){t={error:p}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return this.invokeOnInitCallbacks(u,s),u},e.prototype.onInit=function(e){var t=this;return this.onInitCallbacks.add(e),function(){t.onInitCallbacks.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r;try{for(var i=el(this.onInitCallbacks),o=i.next();!o.done;o=i.next()){var a=o.value;try{a(e,t)}catch(s){}}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,"[DEFAULT]"===t?void 0:t),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bl,wl=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new gl(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function El(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sl,_l,Tl=[];(_l=Sl||(Sl={}))[_l.DEBUG=0]="DEBUG",_l[_l.VERBOSE=1]="VERBOSE",_l[_l.INFO=2]="INFO",_l[_l.WARN=3]="WARN",_l[_l.ERROR=4]="ERROR",_l[_l.SILENT=5]="SILENT";var Il,kl={debug:Sl.DEBUG,verbose:Sl.VERBOSE,info:Sl.INFO,warn:Sl.WARN,error:Sl.ERROR,silent:Sl.SILENT},Nl=Sl.INFO,Cl=((bl={})[Sl.DEBUG]="log",bl[Sl.VERBOSE]="log",bl[Sl.INFO]="info",bl[Sl.WARN]="warn",bl[Sl.ERROR]="error",bl),xl=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=Cl[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,El(["["+i+"]  "+e.name+":"],n))}},Dl=function(){function e(e){this.name=e,this._logLevel=Nl,this._logHandler=xl,this._userLogHandler=null,Tl.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in Sl))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?kl[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,El([this,Sl.DEBUG],e)),this._logHandler.apply(this,El([this,Sl.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,El([this,Sl.VERBOSE],e)),this._logHandler.apply(this,El([this,Sl.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,El([this,Sl.INFO],e)),this._logHandler.apply(this,El([this,Sl.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,El([this,Sl.WARN],e)),this._logHandler.apply(this,El([this,Sl.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,El([this,Sl.ERROR],e)),this._logHandler.apply(this,El([this,Sl.ERROR],e))},e}();function Al(e){Tl.forEach((function(t){t.setLogLevel(e)}))}var Pl,Ol=((Il={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Il["bad-app-name"]="Illegal App name: '{$appName}",Il["duplicate-app"]="Firebase App named '{$appName}' already exists",Il["app-deleted"]="Firebase App named '{$appName}' already deleted",Il["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Il["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Il),Rl=new cl("app","Firebase",Ol),Ll=((Pl={})["@firebase/app"]="fire-core",Pl["@firebase/analytics"]="fire-analytics",Pl["@firebase/app-check"]="fire-app-check",Pl["@firebase/auth"]="fire-auth",Pl["@firebase/database"]="fire-rtdb",Pl["@firebase/functions"]="fire-fn",Pl["@firebase/installations"]="fire-iid",Pl["@firebase/messaging"]="fire-fcm",Pl["@firebase/performance"]="fire-perf",Pl["@firebase/remote-config"]="fire-rc",Pl["@firebase/storage"]="fire-gcs",Pl["@firebase/firestore"]="fire-fst",Pl["fire-js"]="fire-js",Pl["firebase-wrapper"]="fire-js-all",Pl),Ml=new Dl("@firebase/app"),Fl=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=il(void 0,e),this.container=new wl(t.name),this._addComponent(new ml("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t="[DEFAULT]"),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(rI){Ml.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,rI)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Rl.create("app-deleted",{appName:this.name_})},e}();Fl.prototype.name&&Fl.prototype.options||Fl.prototype.delete||console.log("dc");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ul(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw Rl.create("bad-app-name",{appName:String(a)});if(hl(t,a))throw Rl.create("duplicate-app",{appName:a});var s=new e(n,o,r);return t[a]=s,s},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=Ll[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void Ml.warn(u.join(" "))}o(new ml(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:Al,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw Rl.create("invalid-log-argument");!function(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=kl[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:Sl[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=Tl;r<i.length;r++)n(i[r])}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t)},apps:null,SDK_VERSION:"8.6.5",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){if("serverAuth"===t)return null;return t}}};function i(e){if(!hl(t,e=e||"[DEFAULT]"))throw Rl.create("no-app",{appName:e});return t[e]}function o(o){var a=o.name;if(n.has(a))return Ml.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var s=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[a])throw Rl.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==o.serviceProps&&il(s,o.serviceProps),r[a]=s,e.prototype[a]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,a);return n.apply(this,o.multipleInstances?e:[])}}for(var u=0,c=Object.keys(t);u<c.length;u++){var l=c[u];t[l]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vl=function e(){var t=Ul(Fl);return t.INTERNAL=Xc(Xc({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){il(t,e)},createSubscribe:dl,ErrorFactory:cl,deepExtend:il}),t}(),ql=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){Ml.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Bl=self.firebase.SDK_VERSION;Bl&&Bl.indexOf("LITE")>=0&&Ml.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var jl=Vl.initializeApp;Vl.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return sl()&&Ml.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),jl.apply(void 0,e)};var zl,Kl,Hl=Vl;(zl=Hl).INTERNAL.registerComponent(new ml("platform-logger",(function(e){return new ql(e)}),"PRIVATE")),zl.registerVersion("@firebase/app","0.6.24",Kl),zl.registerVersion("fire-js","");
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Hl.registerVersion("firebase","8.6.5","app"),Hl.SDK_VERSION="8.6.5";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var Wl=function(e,t){return(Wl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Ql(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Gl,$l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Yl=Yl||{},Xl=$l||self;function Jl(){}function Zl(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ef(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var tf="closure_uid_"+(1e9*Math.random()>>>0),nf=0;function rf(e,t,n){return e.call.apply(e.bind,arguments)}function of(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function af(e,t,n){return(af=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?rf:of).apply(null,arguments)}function sf(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function uf(){return Date.now()}function cf(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Pb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function lf(){this.j=this.j,this.i=this.i}lf.prototype.j=!1,lf.prototype.ka=function(){!this.j&&(this.j=!0,this.H(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,tf)&&e[tf]||(e[tf]=++nf)}(this)},lf.prototype.H=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var ff=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},hf=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function df(e){return Array.prototype.concat.apply([],arguments)}function pf(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function yf(e){return/^[\s\xa0]*$/.test(e)}var vf,mf=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function gf(e,t){return-1!=e.indexOf(t)}function bf(e,t){return e<t?-1:e>t?1:0}e:{var wf=Xl.navigator;if(wf){var Ef=wf.userAgent;if(Ef){vf=Ef;break e}}vf=""}function Sf(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function _f(e){var t={};for(var n in e)t[n]=e[n];return t}var Tf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function If(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Tf.length;o++)n=Tf[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function kf(e){return kf[" "](e),e}kf[" "]=Jl;var Nf,Cf=gf(vf,"Opera"),xf=gf(vf,"Trident")||gf(vf,"MSIE"),Df=gf(vf,"Edge"),Af=Df||xf,Pf=gf(vf,"Gecko")&&!(gf(vf.toLowerCase(),"webkit")&&!gf(vf,"Edge"))&&!(gf(vf,"Trident")||gf(vf,"MSIE"))&&!gf(vf,"Edge"),Of=gf(vf.toLowerCase(),"webkit")&&!gf(vf,"Edge");function Rf(){var e=Xl.document;return e?e.documentMode:void 0}e:{var Lf="",Mf=function(){var e=vf;return Pf?/rv:([^\);]+)(\)|;)/.exec(e):Df?/Edge\/([\d\.]+)/.exec(e):xf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Of?/WebKit\/(\S+)/.exec(e):Cf?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Mf&&(Lf=Mf?Mf[1]:""),xf){var Ff=Rf();if(null!=Ff&&Ff>parseFloat(Lf)){Nf=String(Ff);break e}}Nf=Lf}var Uf,Vf={};function qf(e){return function(e,t){var n=Vf;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=mf(String(Nf)).split("."),r=mf(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=bf(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||bf(0==a[2].length,0==s[2].length)||bf(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}if(Xl.document&&xf){var Bf=Rf();Uf=Bf||(parseInt(Nf,10)||void 0)}else Uf=void 0;var jf=Uf,zf=!xf||9<=Number(jf),Kf=xf&&!qf("9"),Hf=function(){if(!Xl.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Xl.addEventListener("test",Jl,t),Xl.removeEventListener("test",Jl,t)}catch(n){}return e}();function Wf(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function Qf(e,t){if(Wf.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(Pf){e:{try{kf(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Gf[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}Wf.prototype.b=function(){this.defaultPrevented=!0},cf(Qf,Wf);var Gf={2:"touch",3:"pen",4:"mouse"};Qf.prototype.b=function(){Qf.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Kf)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var $f="closure_listenable_"+(1e6*Math.random()|0),Yf=0;function Xf(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.da=i,this.key=++Yf,this.Y=this.Z=!1}function Jf(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.da=null}function Zf(e){this.src=e,this.a={},this.b=0}function eh(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=ff(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Jf(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function th(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Y&&o.listener==t&&o.capture==!!n&&o.da==r)return i}return-1}Zf.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=th(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new Xf(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var nh="closure_lm_"+(1e6*Math.random()|0),rh={};function ih(e,t,n,r,i){if(r&&r.once)return ah(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ih(e,t[o],n,r,i);return null}return n=ph(n),e&&e[$f]?e.wa(t,n,ef(r)?!!r.capture:!!r,i):oh(e,t,n,!1,r,i)}function oh(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=ef(i)?!!i.capture:!!i;if(a&&!zf)return null;var s=hh(e);if(s||(e[nh]=s=new Zf(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=fh,t=zf?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Hf||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ch(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ah(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)ah(e,t[o],n,r,i);return null}return n=ph(n),e&&e[$f]?e.xa(t,n,ef(r)?!!r.capture:!!r,i):oh(e,t,n,!0,r,i)}function sh(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)sh(e,t[o],n,r,i);else r=ef(r)?!!r.capture:!!r,n=ph(n),e&&e[$f]?(e=e.c,(t=String(t).toString())in e.a&&(-1<(n=th(o=e.a[t],n,r,i))&&(Jf(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=hh(e))&&(t=e.a[t.toString()],e=-1,t&&(e=th(t,n,r,i)),(n=-1<e?t[e]:null)&&uh(n))}function uh(e){if("number"!=typeof e&&e&&!e.Y){var t=e.src;if(t&&t[$f])eh(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ch(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=hh(t))?(eh(n,e),0==n.b&&(n.src=null,t[nh]=null)):Jf(e)}}}function ch(e){return e in rh?rh[e]:rh[e]="on"+e}function lh(e,t){var n=e.listener,r=e.da||e.src;return e.Z&&uh(e),n.call(r,t)}function fh(e,t){if(e.Y)return!0;if(!zf){if(!t)e:{t=["window","event"];for(var n=Xl,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return lh(e,t=new Qf(t,this))}return lh(e,new Qf(t,this))}function hh(e){return(e=e[nh])instanceof Zf?e:null}var dh="__closure_events_fn_"+(1e9*Math.random()>>>0);function ph(e){return"function"==typeof e?e:(e[dh]||(e[dh]=function(t){return e.handleEvent(t)}),e[dh])}function yh(){lf.call(this),this.c=new Zf(this),this.J=this,this.D=null}function vh(e,t){var n,r=e.D;if(r)for(n=[];r;r=r.D)n.push(r);if(e=e.J,r=t.type||t,"string"==typeof t)t=new Wf(t,e);else if(t instanceof Wf)t.target=t.target||e;else{var i=t;If(t=new Wf(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.a=n[o];i=mh(a,r,!0,t)&&i}if(i=mh(a=t.a=e,r,!0,t)&&i,i=mh(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=mh(a=t.a=n[o],r,!1,t)&&i}function mh(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.da||a.src;a.Z&&eh(e.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}cf(yh,lf),yh.prototype[$f]=!0,(Gl=yh.prototype).addEventListener=function(e,t,n,r){ih(this,e,t,n,r)},Gl.removeEventListener=function(e,t,n,r){sh(this,e,t,n,r)},Gl.H=function(){if(yh.X.H.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)Jf(n[r]);delete t.a[e],t.b--}}this.D=null},Gl.wa=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},Gl.xa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var gh=Xl.JSON.stringify;function bh(){this.b=this.a=null}var wh,Eh=new(function(){function e(e,t){this.c=e,this.f=t,this.b=0,this.a=null}return e.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},e}())((function(){return new _h}),(function(e){e.reset()}));function Sh(){var e=Nh,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function _h(){this.next=this.b=this.a=null}function Th(e){Xl.setTimeout((function(){throw e}),0)}function Ih(e,t){wh||function(){var e=Xl.Promise.resolve(void 0);wh=function(){e.then(Ch)}}(),kh||(wh(),kh=!0),Nh.add(e,t)}bh.prototype.add=function(e,t){var n=Eh.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},_h.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},_h.prototype.reset=function(){this.next=this.b=this.a=null};var kh=!1,Nh=new bh;function Ch(){for(var e;e=Sh();){try{e.a.call(e.b)}catch(n){Th(n)}var t=Eh;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}kh=!1}function xh(e,t){yh.call(this),this.b=e||1,this.a=t||Xl,this.f=af(this.eb,this),this.g=uf()}function Dh(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}function Ah(e,t,n){if("function"==typeof e)n&&(e=af(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=af(e.handleEvent,e)}return 2147483647<Number(t)?-1:Xl.setTimeout(e,t||0)}function Ph(e){e.a=Ah((function(){e.a=null,e.c&&(e.c=!1,Ph(e))}),e.h);var t=e.b;e.b=null,e.g.apply(null,t)}cf(xh,yh),(Gl=xh.prototype).aa=!1,Gl.M=null,Gl.eb=function(){if(this.aa){var e=uf()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),vh(this,"tick"),this.aa&&(Dh(this),this.start()))}},Gl.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=uf())},Gl.H=function(){xh.X.H.call(this),Dh(this),delete this.a};var Oh=function(e){function t(t,n){var r=e.call(this)||this;return r.g=t,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(e,t){function n(){this.constructor=e}Wl(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.f=function(e){this.b=arguments,this.a?this.c=!0:Ph(this)},t.prototype.H=function(){e.prototype.H.call(this),this.a&&(Xl.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(lf);function Rh(e){lf.call(this),this.b=e,this.a={}}cf(Rh,lf);var Lh=[];function Mh(e,t,n,r){Array.isArray(n)||(n&&(Lh[0]=n.toString()),n=Lh);for(var i=0;i<n.length;i++){var o=ih(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function Fh(e){Sf(e.a,(function(e,t){this.a.hasOwnProperty(t)&&uh(e)}),e),e.a={}}function Uh(){this.a=!0}function Vh(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return gh(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Rh.prototype.H=function(){Rh.X.H.call(this),Fh(this)},Rh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Uh.prototype.info=function(){};var qh={},Bh=null;function jh(){return Bh=Bh||new yh}function zh(e){Wf.call(this,qh.Ga,e)}function Kh(e){var t=jh();vh(t,new zh(t,e))}function Hh(e,t){Wf.call(this,qh.STAT_EVENT,e),this.stat=t}function Wh(e){var t=jh();vh(t,new Hh(t,e))}function Qh(e){Wf.call(this,qh.Ha,e)}function Gh(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Xl.setTimeout((function(){e()}),t)}qh.Ga="serverreachability",cf(zh,Wf),qh.STAT_EVENT="statevent",cf(Hh,Wf),qh.Ha="timingevent",cf(Qh,Wf);var $h={NO_ERROR:0,fb:1,sb:2,rb:3,mb:4,qb:5,tb:6,Ea:7,TIMEOUT:8,wb:9},Yh={kb:"complete",Gb:"success",Fa:"error",Ea:"abort",yb:"ready",zb:"readystatechange",TIMEOUT:"timeout",ub:"incrementaldata",xb:"progress",nb:"downloadprogress",Ob:"uploadprogress"};function Xh(){}function Jh(e){return e.b||(e.b=e.c())}function Zh(){}Xh.prototype.b=null;var ed,td={OPEN:"a",jb:"b",Fa:"c",vb:"d"};function nd(){Wf.call(this,"d")}function rd(){Wf.call(this,"c")}function id(){}function od(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new Rh(this),this.P=ad,e=Af?125:void 0,this.R=new xh(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.G=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}cf(nd,Wf),cf(rd,Wf),cf(id,Xh),id.prototype.a=function(){return new XMLHttpRequest},id.prototype.c=function(){return{}},ed=new id;var ad=45e3,sd={},ud={};function cd(e,t,n){e.G=1,e.i=Ad(Id(t)),e.j=n,e.I=!0,ld(e,null)}function ld(e,t){e.u=uf(),dd(e),e.l=Id(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),Kd(n.b,"t",r),e.D=0,e.a=Up(e.g,e.g.C?t:null),0<e.O&&(e.F=new Oh(af(e.Da,e,e.a),e.O)),Mh(e.J,e.a,"readystatechange",e.bb),t=e.B?_f(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),Kh(1),function(e,t,n,r,i,o){e.info((function(){if(e.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.c,e.m,e.l,e.f,e.S,e.j)}function fd(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=hd(e,n);if(i==ud){4==t&&(e.h=4,Wh(14),r=!1),Vh(e.c,e.f,null,"[Incomplete Response]");break}if(i==sd){e.h=4,Wh(15),Vh(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}Vh(e.c,e.f,i,null),gd(e,i)}4==t&&0==n.length&&(e.h=1,Wh(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,(t=e.g).a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Dp(t),t.F=!0,Wh(11))):(Vh(e.c,e.f,n,"[Invalid Chunked Response]"),md(e),vd(e))}function hd(e,t){var n=e.D,r=t.indexOf("\n",n);return-1==r?ud:(n=Number(t.substring(n,r)),isNaN(n)?sd:(r+=1)+n>t.length?ud:(t=t.substr(r,n),e.D=r+n,t))}function dd(e){e.T=uf()+e.P,pd(e,e.P)}function pd(e,t){if(null!=e.o)throw Error("WatchDog timer not null");e.o=Gh(af(e.$a,e),t)}function yd(e){e.o&&(Xl.clearTimeout(e.o),e.o=null)}function vd(e){0==e.g.v||e.A||Op(e.g,e)}function md(e){yd(e);var t=e.F;t&&"function"==typeof t.ka&&t.ka(),e.F=null,Dh(e.R),Fh(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ka())}function gd(e,t){try{var n=e.g;if(0!=n.v&&(n.a==e||Xd(n.b,e)))if(n.I=e.N,!e.C&&Xd(n.b,e)&&3==n.v){try{var r=n.la.a.parse(t)}catch(v){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.j){if(n.a){if(!(n.a.u+3e3<e.u))break e;Pp(n),Ep(n)}xp(n),Wh(18)}}else n.pa=i[1],0<n.pa-n.P&&37500>i[2]&&n.G&&0==n.o&&!n.m&&(n.m=Gh(af(n.Xa,n),6e3));if(1>=Yd(n.b)&&n.fa){try{n.fa()}catch(v){}n.fa=void 0}}else Lp(n,11)}else if((e.C||n.a==e)&&Pp(n),!yf(t))for(t=r=n.la.a.parse(t),r=0;r<t.length;r++)if(i=t[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ha=i[2];var o=i[3];null!=o&&(n.ia=o,n.c.info("VER="+n.ia));var a=i[4];null!=a&&(n.qa=a,n.c.info("SVER="+n.qa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=e.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=u.b;!f.a&&(gf(l,"spdy")||gf(l,"quic")||gf(l,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(Jd(f,f.b),f.b=null))}if(u.A){var h=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(u.oa=h,Dd(u.B,u.A,h))}}n.v=3,n.f&&n.f.ua(),n.U&&(n.N=uf()-e.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=e;if((u=n).ma=Fp(u,u.C?u.ha:null,u.ga),d.C){Zd(u.b,d);var p=d,y=u.D;y&&p.setTimeout(y),p.o&&(yd(p),dd(p)),u.a=d}else Cp(u);0<n.g.length&&Tp(n)}else"stop"!=i[0]&&"close"!=i[0]||Lp(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Lp(n,7):wp(n):"noop"!=i[0]&&n.f&&n.f.ta(i),n.o=0);Kh(4)}catch(v){}}function bd(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Zl(e)||"string"==typeof e)hf(e,t,void 0);else{if(e.L&&"function"==typeof e.L)var n=e.L();else if(e.K&&"function"==typeof e.K)n=void 0;else if(Zl(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.K&&"function"==typeof e.K)return e.K();if("string"==typeof e)return e.split("");if(Zl(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function wd(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof wd)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ed(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Sd(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Sd(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Sd(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Gl=od.prototype).setTimeout=function(e){this.P=e},Gl.bb=function(e){e=e.target;var t=this.F;t&&3==vp(e)?t.f():this.Da(e)},Gl.Da=function(e){try{if(e==this.a)e:{var t=vp(this.a),n=this.a.va(),r=this.a.W();if(!(3>t||3==t&&!Af&&!this.a.$())){this.A||4!=t||7==n||Kh(8==n||0>=r?3:2),yd(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,t,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yf(a)){var u=a;break t}}u=null}if(!u){this.b=!1,this.h=3,Wh(12),md(this),vd(this);break e}Vh(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,gd(this,u)}this.I?(fd(this,t,o),Af&&this.b&&3==t&&(Mh(this.J,this.R,"tick",this.ab),this.R.start())):(Vh(this.c,this.f,o,null),gd(this,o)),4==t&&md(this),this.b&&!this.A&&(4==t?Op(this.g,this):(this.b=!1,dd(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Wh(12)):(this.h=0,Wh(13)),md(this),vd(this)}}}catch(c){}},Gl.ab=function(){if(this.a){var e=vp(this.a),t=this.a.$();this.D<t.length&&(yd(this),fd(this,e,t),this.b&&4!=e&&dd(this))}},Gl.cancel=function(){this.A=!0,md(this)},Gl.$a=function(){this.o=null;var e=uf();0<=e-this.T?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.c,this.l),2!=this.G&&(Kh(3),Wh(17)),md(this),this.h=2,vd(this)):pd(this,this.T-e)},(Gl=wd.prototype).K=function(){Ed(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},Gl.L=function(){return Ed(this),this.a.concat()},Gl.get=function(e,t){return Sd(this.b,e)?this.b[e]:t},Gl.set=function(e,t){Sd(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},Gl.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var _d=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Td(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof Td){this.a=void 0!==t?t:e.a,kd(this,e.f),this.j=e.j,Nd(this,e.c),Cd(this,e.h),this.g=e.g,t=e.b;var n=new qd;n.c=t.c,t.a&&(n.a=new wd(t.a),n.b=t.b),xd(this,n),this.i=e.i}else e&&(n=String(e).match(_d))?(this.a=!!t,kd(this,n[1]||"",!0),this.j=Pd(n[2]||""),Nd(this,n[3]||"",!0),Cd(this,n[4]),this.g=Pd(n[5]||"",!0),xd(this,n[6]||"",!0),this.i=Pd(n[7]||"")):(this.a=!!t,this.b=new qd(null,this.a))}function Id(e){return new Td(e)}function kd(e,t,n){e.f=n?Pd(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Nd(e,t,n){e.c=n?Pd(t,!0):t}function Cd(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function xd(e,t,n){t instanceof qd?(e.b=t,function(e,t){t&&!e.f&&(Bd(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(jd(this,t),Kd(this,n,e))}),e)),e.f=t}(e.b,e.a)):(n||(t=Od(t,Ud)),e.b=new qd(t,e.a))}function Dd(e,t,n){e.b.set(t,n)}function Ad(e){return Dd(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^uf()).toString(36)),e}function Pd(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Od(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Rd),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Rd(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Td.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Od(t,Ld,!0),":");var n=this.c;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(Od(t,Ld,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(Od(n,"/"==n.charAt(0)?Fd:Md,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Od(n,Vd)),e.join("")};var Ld=/[#\/\?@]/g,Md=/[#\?:]/g,Fd=/[#\?]/g,Ud=/[#\?@]/g,Vd=/#/g;function qd(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Bd(e){e.a||(e.a=new wd,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function jd(e,t){Bd(e),t=Hd(e,t),Sd(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Sd((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Ed(e)))}function zd(e,t){return Bd(e),t=Hd(e,t),Sd(e.a.b,t)}function Kd(e,t,n){jd(e,t),0<n.length&&(e.c=null,e.a.set(Hd(e,t),pf(n)),e.b+=n.length)}function Hd(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(Gl=qd.prototype).add=function(e,t){Bd(this),this.c=null,e=Hd(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},Gl.forEach=function(e,t){Bd(this),this.a.forEach((function(n,r){hf(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Gl.L=function(){Bd(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},Gl.K=function(e){Bd(this);var t=[];if("string"==typeof e)zd(this,e)&&(t=df(t,this.a.get(Hd(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=df(t,e[n])}return t},Gl.set=function(e,t){return Bd(this),this.c=null,zd(this,e=Hd(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},Gl.get=function(e,t){return e&&0<(e=this.K(e)).length?String(e[0]):t},Gl.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var Wd=function(e,t){this.b=e,this.a=t};function Qd(e){this.g=e||Gd,Xl.PerformanceNavigationTiming?e=0<(e=Xl.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Xl.ja&&Xl.ja.za&&Xl.ja.za()&&Xl.ja.za().Qb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Gd=10;function $d(e){return!!e.b||!!e.a&&e.a.size>=e.f}function Yd(e){return e.b?1:e.a?e.a.size:0}function Xd(e,t){return e.b?e.b==t:!!e.a&&e.a.has(t)}function Jd(e,t){e.a?e.a.add(t):e.b=t}function Zd(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function ep(e){var t,n;if(null!=e.b)return e.c.concat(e.b.s);if(null!=e.a&&0!==e.a.size){var r=e.c;try{for(var i=Ql(e.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return pf(e.c)}function tp(){}function np(){this.a=new tp}function rp(e,t,n){var r=n||"";try{bd(e,(function(e,n){var i=e;ef(e)&&(i=gh(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(rI){throw t.push(r+"type="+encodeURIComponent("_badmap")),rI}}function ip(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}Qd.prototype.cancel=function(){var e,t;if(this.c=ep(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Ql(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},tp.prototype.stringify=function(e){return Xl.JSON.stringify(e,void 0)},tp.prototype.parse=function(e){return Xl.JSON.parse(e,void 0)};var op=Xl.JSON.parse;function ap(e){yh.call(this),this.headers=new wd,this.l=e||null,this.b=!1,this.u=this.a=null,this.C="",this.h=0,this.f="",this.g=this.B=this.m=this.A=!1,this.s=0,this.o=null,this.I=sp,this.F=this.G=!1}cf(ap,yh);var sp="",up=/^https?$/i,cp=["POST","PUT"];function lp(e){return"content-type"==e.toLowerCase()}function fp(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,hp(e),pp(e)}function hp(e){e.A||(e.A=!0,vh(e,"complete"),vh(e,"error"))}function dp(e){if(e.b&&void 0!==Yl&&(!e.u[1]||4!=vp(e)||2!=e.W()))if(e.m&&4==vp(e))Ah(e.Aa,0,e);else if(vh(e,"readystatechange"),4==vp(e)){e.b=!1;try{var t,n=e.W();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.C).match(_d)[1]||null;if(!o&&Xl.self&&Xl.self.location){var a=Xl.self.location.protocol;o=a.substr(0,a.length-1)}i=!up.test(o?o.toLowerCase():"")}t=i}if(t)vh(e,"complete"),vh(e,"success");else{e.h=6;try{var s=2<vp(e)?e.a.statusText:""}catch(u){s=""}e.f=s+" ["+e.W()+"]",hp(e)}}finally{pp(e)}}}function pp(e,t){if(e.a){yp(e);var n=e.a,r=e.u[0]?Jl:null;e.a=null,e.u=null,t||vh(e,"ready");try{n.onreadystatechange=r}catch(rI){}}}function yp(e){e.a&&e.F&&(e.a.ontimeout=null),e.o&&(Xl.clearTimeout(e.o),e.o=null)}function vp(e){return e.a?e.a.readyState:0}function mp(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Sf(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Dd(e,t,n))}function gp(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function bp(e){this.qa=0,this.g=[],this.c=new Uh,this.ha=this.ma=this.B=this.ga=this.a=this.oa=this.A=this.V=this.i=this.O=this.l=null,this.Pa=this.R=0,this.Ma=gp("failFast",!1,e),this.G=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.pa=this.P=-1,this.T=this.o=this.u=0,this.Ia=gp("baseRetryDelayMs",5e3,e),this.Sa=gp("retryDelaySeedMs",1e4,e),this.Na=gp("forwardChannelMaxRetries",2,e),this.na=gp("forwardChannelRequestTimeoutMs",2e4,e),this.Oa=e&&e.xmlHttpFactory||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new Qd(e&&e.concurrentRequestLimit),this.la=new np,this.ea=e&&e.fastHandshake||!1,this.Ja=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.ea&&this.S&&e&&e.detectBufferingProxy||!1,this.fa=void 0,this.N=0,this.F=!1,this.s=null,(this.La=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function wp(e){if(Sp(e),3==e.v){var t=e.R++,n=Id(e.B);Dd(n,"SID",e.J),Dd(n,"RID",t),Dd(n,"TYPE","terminate"),kp(e,n),(t=new od(e,e.c,t,void 0)).G=2,t.i=Ad(Id(n)),n=!1,Xl.navigator&&Xl.navigator.sendBeacon&&(n=Xl.navigator.sendBeacon(t.i.toString(),"")),!n&&Xl.Image&&((new Image).src=t.i,n=!0),n||(t.a=Up(t.g,null),t.a.ba(t.i)),t.u=uf(),dd(t)}Mp(e)}function Ep(e){e.a&&(Dp(e),e.a.cancel(),e.a=null)}function Sp(e){Ep(e),e.j&&(Xl.clearTimeout(e.j),e.j=null),Pp(e),e.b.cancel(),e.h&&("number"==typeof e.h&&Xl.clearTimeout(e.h),e.h=null)}function _p(e,t){e.g.push(new Wd(e.Pa++,t)),3==e.v&&Tp(e)}function Tp(e){$d(e.b)||e.h||(e.h=!0,Ih(e.Ca,e),e.u=0)}function Ip(e,t){var n;n=t?t.f:e.R++;var r=Id(e.B);Dd(r,"SID",e.J),Dd(r,"RID",n),Dd(r,"AID",e.P),kp(e,r),e.i&&e.l&&mp(r,e.i,e.l),n=new od(e,e.c,n,e.u+1),null===e.i&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=Np(e,n,1e3),n.setTimeout(Math.round(.5*e.na)+Math.round(.5*e.na*Math.random())),Jd(e.b,n),cd(n,r,t)}function kp(e,t){e.f&&bd({},(function(e,n){Dd(t,n,e)}))}function Np(e,t,n){n=Math.min(e.g.length,n);var r=e.f?af(e.f.Ka,e.f,e):null;e:for(var i=e.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{rp(l,a,"req"+c+"_")}catch(f){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function Cp(e){e.a||e.j||(e.T=1,Ih(e.Ba,e),e.o=0)}function xp(e){return!(e.a||e.j||3<=e.o)&&(e.T++,e.j=Gh(af(e.Ba,e),Rp(e,e.o)),e.o++,!0)}function Dp(e){null!=e.s&&(Xl.clearTimeout(e.s),e.s=null)}function Ap(e){e.a=new od(e,e.c,"rpc",e.T),null===e.i&&(e.a.B=e.l),e.a.O=0;var t=Id(e.ma);Dd(t,"RID","rpc"),Dd(t,"SID",e.J),Dd(t,"CI",e.G?"0":"1"),Dd(t,"AID",e.P),kp(e,t),Dd(t,"TYPE","xmlhttp"),e.i&&e.l&&mp(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ha,n.G=1,n.i=Ad(Id(t)),n.j=null,n.I=!0,ld(n,e)}function Pp(e){null!=e.m&&(Xl.clearTimeout(e.m),e.m=null)}function Op(e,t){var n=null;if(e.a==t){Pp(e),Dp(e),e.a=null;var r=2}else{if(!Xd(e.b,t))return;n=t.s,Zd(e.b,t),r=1}if(e.I=t.N,0!=e.v)if(t.b)if(1==r){n=t.j?t.j.length:0,t=uf()-t.u;var i=e.u;vh(r=jh(),new Qh(r,n,t,i)),Tp(e)}else Cp(e);else if(3==(i=t.h)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Yd(e.b)>=e.b.f-(e.h?1:0)||(e.h?(e.g=t.s.concat(e.g),0):1==e.v||2==e.v||e.u>=(e.Ma?0:e.Na)||(e.h=Gh(af(e.Ca,e,t),Rp(e,e.u)),e.u++,0)))}(e,t)||2==r&&xp(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:Lp(e,5);break;case 4:Lp(e,10);break;case 3:Lp(e,6);break;default:Lp(e,2)}}function Rp(e,t){var n=e.Ia+Math.floor(Math.random()*e.Sa);return e.f||(n*=2),n*t}function Lp(e,t){if(e.c.info("Error code "+t),2==t){var n=null;e.f&&(n=null);var r=af(e.cb,e);n||(n=new Td("//www.google.com/images/cleardot.gif"),Xl.location&&"http"==Xl.location.protocol||kd(n,"https"),Ad(n)),function(e,t){var n=new Uh;if(Xl.Image){var r=new Image;r.onload=sf(ip,n,r,"TestLoadImage: loaded",!0,t),r.onerror=sf(ip,n,r,"TestLoadImage: error",!1,t),r.onabort=sf(ip,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=sf(ip,n,r,"TestLoadImage: timeout",!1,t),Xl.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Wh(2);e.v=0,e.f&&e.f.sa(t),Mp(e),Sp(e)}function Mp(e){e.v=0,e.I=-1,e.f&&(0==ep(e.b).length&&0==e.g.length||(e.b.c.length=0,pf(e.g),e.g.length=0),e.f.ra())}function Fp(e,t,n){var r=function(e){return e instanceof Td?Id(e):new Td(e,void 0)}(n);if(""!=r.c)t&&Nd(r,t+"."+r.c),Cd(r,r.h);else{var i=Xl.location;r=function(e,t,n,r){var i=new Td(null,void 0);return e&&kd(i,e),t&&Nd(i,t),n&&Cd(i,n),r&&(i.g=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&Sf(e.V,(function(e,t){Dd(r,t,e)})),t=e.A,n=e.oa,t&&n&&Dd(r,t,n),Dd(r,"VER",e.ia),kp(e,r),r}function Up(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ap(e.Oa)).G=e.C,t}function Vp(){}function qp(){if(xf&&!(10<=Number(jf)))throw Error("Environmental error: no available transport.")}function Bp(e,t){yh.call(this),this.a=new bp(t),this.g=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!yf(e)&&(this.a.i=e),this.o=t&&t.supportsCrossDomainXhr||!1,this.m=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!yf(t)&&(this.a.A=t,null!==(e=this.b)&&t in e&&(t in(e=this.b)&&delete e[t])),this.f=new Kp(this)}function jp(e){nd.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function zp(){rd.call(this),this.status=1}function Kp(e){this.a=e}function Hp(e){this.f=e}function Wp(e){yh.call(this),this.u=e,this.h=void 0,this.readyState=Qp,this.status=0,this.responseType=this.responseText=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.o="",this.a=!1,this.m=this.f=this.g=null}(Gl=ap.prototype).ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.C+"; newUri="+e);t=t?t.toUpperCase():"GET",this.C=e,this.f="",this.h=0,this.A=!1,this.b=!0,this.a=this.l?this.l.a():ed.a(),this.u=this.l?Jh(this.l):Jh(ed),this.a.onreadystatechange=af(this.Aa,this);try{this.B=!0,this.a.open(t,String(e),!0),this.B=!1}catch(o){return void fp(this,o)}e=n||"";var i=new wd(this.headers);r&&bd(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=lp,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.L()),n=Xl.FormData&&e instanceof Xl.FormData,!(0<=ff(cp,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.G&&(this.a.withCredentials=this.G);try{yp(this),0<this.s&&((this.F=function(e){return xf&&qf(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.s,this.a.ontimeout=af(this.ya,this)):this.o=Ah(this.ya,this.s,this)),this.m=!0,this.a.send(e),this.m=!1}catch(o){fp(this,o)}},Gl.ya=function(){void 0!==Yl&&this.a&&(this.f="Timed out after "+this.s+"ms, aborting",this.h=8,vh(this,"timeout"),this.abort(8))},Gl.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,vh(this,"complete"),vh(this,"abort"),pp(this))},Gl.H=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),pp(this,!0)),ap.X.H.call(this)},Gl.Aa=function(){this.j||(this.B||this.m||this.g?dp(this):this.Za())},Gl.Za=function(){dp(this)},Gl.W=function(){try{return 2<vp(this)?this.a.status:-1}catch(tt){return-1}},Gl.$=function(){try{return this.a?this.a.responseText:""}catch(tt){return""}},Gl.Qa=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),op(t)}},Gl.va=function(){return this.h},Gl.Ra=function(){return"string"==typeof this.f?this.f:String(this.f)},(Gl=bp.prototype).ia=8,Gl.v=1,Gl.Ca=function(e){if(this.h)if(this.h=null,1==this.v){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t,n=new od(this,this.c,e,void 0),r=this.l;if(this.O&&(r?If(r=_f(r),this.O):r=this.O),null===this.i&&(n.B=r),this.ea)e:{for(var i=t=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.g.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=Np(this,n,t),Dd(i=Id(this.B),"RID",e),Dd(i,"CVER",22),this.A&&Dd(i,"X-HTTP-Session-Id",this.A),kp(this,i),this.i&&r&&mp(i,this.i,r),Jd(this.b,n),this.Ja&&Dd(i,"TYPE","init"),this.ea?(Dd(i,"$req",t),Dd(i,"SID","null"),n.U=!0,cd(n,i,null)):cd(n,i,t),this.v=2}}else 3==this.v&&(e?Ip(this,e):0==this.g.length||$d(this.b)||Ip(this))},Gl.Ba=function(){if(this.j=null,Ap(this),this.U&&!(this.F||null==this.a||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=Gh(af(this.Ya,this),e)}},Gl.Ya=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.F=!0,Wh(10),Ep(this),Ap(this))},Gl.Xa=function(){null!=this.m&&(this.m=null,Ep(this),xp(this),Wh(19))},Gl.cb=function(e){e?(this.c.info("Successfully pinged google.com"),Wh(2)):(this.c.info("Failed to ping google.com"),Wh(1))},(Gl=Vp.prototype).ua=function(){},Gl.ta=function(){},Gl.sa=function(){},Gl.ra=function(){},Gl.Ka=function(){},qp.prototype.a=function(e,t){return new Bp(e,t)},cf(Bp,yh),Bp.prototype.h=function(){this.a.f=this.f,this.o&&(this.a.C=!0);var e=this.a,t=this.g,n=this.b||void 0;Wh(0),e.ga=t,e.V=n||{},e.G=e.S,e.B=Fp(e,null,e.ga),Tp(e)},Bp.prototype.close=function(){wp(this.a)},Bp.prototype.l=function(e){if("string"==typeof e){var t={};t.__data__=e,_p(this.a,t)}else this.m?((t={}).__data__=gh(e),_p(this.a,t)):_p(this.a,e)},Bp.prototype.H=function(){this.a.f=null,delete this.f,wp(this.a),delete this.a,Bp.X.H.call(this)},cf(jp,nd),cf(zp,rd),cf(Kp,Vp),Kp.prototype.ua=function(){vh(this.a,"a")},Kp.prototype.ta=function(e){vh(this.a,new jp(e))},Kp.prototype.sa=function(e){vh(this.a,new zp(e))},Kp.prototype.ra=function(){vh(this.a,"b")},cf(Hp,Xh),Hp.prototype.a=function(){return new Wp(this.f)},Hp.prototype.c=function(e){return function(){return e}}({}),cf(Wp,yh);var Qp=0;function Gp(e){e.f.read().then(e.Ta.bind(e)).catch(e.ca.bind(e))}function $p(e){e.readyState=4,e.g=null,e.f=null,e.m=null,Yp(e)}function Yp(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Gl=Wp.prototype).open=function(e,t){if(this.readyState!=Qp)throw this.abort(),Error("Error reopening a connection");this.s=e,this.o=t,this.readyState=1,Yp(this)},Gl.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.o,t)).then(this.Wa.bind(this),this.ca.bind(this))},Gl.abort=function(){this.responseText="",this.l=new Headers,this.status=0,this.f&&this.f.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,$p(this)),this.readyState=Qp},Gl.Wa=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,Yp(this)),this.a&&(this.readyState=3,Yp(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.Ua.bind(this),this.ca.bind(this)):void 0!==Xl.ReadableStream&&"body"in e?(this.responseText="",this.f=e.body.getReader(),this.m=new TextDecoder,Gp(this)):e.text().then(this.Va.bind(this),this.ca.bind(this)))))},Gl.Ta=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.responseText+=t),e.done?$p(this):Yp(this),3==this.readyState&&Gp(this)}},Gl.Va=function(e){this.a&&(this.responseText=e,$p(this))},Gl.Ua=function(){this.a&&$p(this)},Gl.ca=function(){this.a&&$p(this)},Gl.setRequestHeader=function(e,t){this.l.append(e,t)},Gl.getResponseHeader=function(e){return this.b&&this.b.get(e.toLowerCase())||""},Gl.getAllResponseHeaders=function(){if(!this.b)return"";for(var e=[],t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Wp.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),qp.prototype.createWebChannel=qp.prototype.a,Bp.prototype.send=Bp.prototype.l,Bp.prototype.open=Bp.prototype.h,Bp.prototype.close=Bp.prototype.close,$h.NO_ERROR=0,$h.TIMEOUT=8,$h.HTTP_ERROR=6,Yh.COMPLETE="complete",Zh.EventType=td,td.OPEN="a",td.CLOSE="b",td.ERROR="c",td.MESSAGE="d",yh.prototype.listen=yh.prototype.wa,ap.prototype.listenOnce=ap.prototype.xa,ap.prototype.getLastError=ap.prototype.Ra,ap.prototype.getLastErrorCode=ap.prototype.va,ap.prototype.getStatus=ap.prototype.W,ap.prototype.getResponseJson=ap.prototype.Qa,ap.prototype.getResponseText=ap.prototype.$,ap.prototype.send=ap.prototype.ba;var Xp=$h,Jp=Yh,Zp=qh,ey=10,ty=11,ny=Hp,ry=Zh,iy=ap,oy=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();oy.o=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ay={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},sy=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Yc(t,e),t}(Error),uy=new Dl("@firebase/firestore");function cy(){return uy.logLevel}function ly(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(uy.logLevel<=Sl.DEBUG){var r=t.map(dy);uy.debug.apply(uy,nl(["Firestore (8.6.5): "+e],r))}}function fy(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(uy.logLevel<=Sl.ERROR){var r=t.map(dy);uy.error.apply(uy,nl(["Firestore (8.6.5): "+e],r))}}function hy(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(uy.logLevel<=Sl.WARN){var r=t.map(dy);uy.warn.apply(uy,nl(["Firestore (8.6.5): "+e],r))}}function dy(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(n){return e}var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.6.5) INTERNAL ASSERTION FAILED: "+e;throw fy(t),new Error(t)}function yy(e,t){e||py()}function vy(e,t){return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gy=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=my(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function by(e,t){return e<t?-1:e>t?1:0}function wy(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Ey(e){return e+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sy=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new sy(ay.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new sy(ay.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new sy(ay.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new sy(ay.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?by(this.nanoseconds,e.nanoseconds):by(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),_y=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Sy(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Iy(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ky(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ny=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&py(),void 0===n?n=e.length-t:n>e.length-t&&py(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Cy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Yc(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new sy(ay.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(Ny),xy=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Dy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Yc(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return xy.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new sy(ay.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new sy(ay.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new sy(ay.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new sy(ay.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(Ny),Ay=function(){function e(e){this.fields=e,e.sort(Dy.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return wy(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),Py=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return by(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();Py.EMPTY_BYTE_STRING=new Py("");var Oy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ry(e){if(yy(!!e),"string"==typeof e){var t=0,n=Oy.exec(e);if(yy(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ly(e.seconds),nanos:Ly(e.nanos)}}function Ly(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function My(e){return"string"==typeof e?Py.fromBase64String(e):Py.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Uy(e){var t=e.mapValue.fields.__previous_value__;return Fy(t)?Uy(t):t}function Vy(e){var t=Ry(e.mapValue.fields.__local_write_time__.timestampValue);return new Sy(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(e){return null==e}function By(e){return 0===e&&1/e==-1/0}function jy(e){return"number"==typeof e&&Number.isInteger(e)&&!By(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zy=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(Cy.fromString(t))},e.fromName=function(t){return new e(Cy.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Cy.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Cy.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new Cy(t.slice()))},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Fy(e)?4:10:py()}function Hy(e,t){var n,r=Ky(e);if(r!==Ky(t))return!1;switch(r){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Vy(e).isEqual(Vy(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Ry(e.timestampValue),r=Ry(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return n=t,My(e.bytesValue).isEqual(My(n.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ly(e.geoPointValue.latitude)===Ly(t.geoPointValue.latitude)&&Ly(e.geoPointValue.longitude)===Ly(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ly(e.integerValue)===Ly(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ly(e.doubleValue),r=Ly(t.doubleValue);return n===r?By(n)===By(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return wy(e.arrayValue.values||[],t.arrayValue.values||[],Hy);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ty(n)!==Ty(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Hy(n[i],r[i])))return!1;return!0}(e,t);default:return py()}}function Wy(e,t){return void 0!==(e.values||[]).find((function(e){return Hy(e,t)}))}function Qy(e,t){var n,r,i,o,a=Ky(e),s=Ky(t);if(a!==s)return by(a,s);switch(a){case 0:return 0;case 1:return by(e.booleanValue,t.booleanValue);case 2:return r=t,i=Ly((n=e).integerValue||n.doubleValue),o=Ly(r.integerValue||r.doubleValue),i<o?-1:i>o?1:i===o?0:isNaN(i)?isNaN(o)?0:-1:1;case 3:return Gy(e.timestampValue,t.timestampValue);case 4:return Gy(Vy(e),Vy(t));case 5:return by(e.stringValue,t.stringValue);case 6:return function(e,t){var n=My(e),r=My(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=by(n[i],r[i]);if(0!==o)return o}return by(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=by(Ly(e.latitude),Ly(t.latitude));return 0!==n?n:by(Ly(e.longitude),Ly(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=Qy(n[i],r[i]);if(o)return o}return by(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=by(r[a],o[a]);if(0!==s)return s;var u=Qy(n[r[a]],i[o[a]]);if(0!==u)return u}return by(r.length,o.length)}(e.mapValue,t.mapValue);default:throw py()}}function Gy(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return by(e,t);var n=Ry(e),r=Ry(t),i=by(n.seconds,r.seconds);return 0!==i?i:by(n.nanos,r.nanos)}function $y(e){return Yy(e)}function Yy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(t=e.timestampValue,"time("+(n=Ry(t)).seconds+","+n.nanos+")"):"stringValue"in e?e.stringValue:"bytesValue"in e?My(e.bytesValue).toBase64():"referenceValue"in e?(i=e.referenceValue,zy.fromName(i).toString()):"geoPointValue"in e?"geo("+(r=e.geoPointValue).latitude+","+r.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=Yy(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+Yy(e.fields[o])}return t+"}"}(e.mapValue):py();var t,n,r,i}function Xy(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Jy(e){return!!e&&"integerValue"in e}function Zy(e){return!!e&&"arrayValue"in e}function ev(e){return!!e&&"nullValue"in e}function tv(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function nv(e){return!!e&&"mapValue"in e}function rv(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue)return{timestampValue:Object.assign({},Ry(e.timestampValue))};if(e.mapValue){var t={mapValue:{fields:{}}};return Iy(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=rv(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=rv(e.arrayValue.values[r]);return n}return Object.assign({},e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iv=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!nv(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rv(t)},e.prototype.setAll=function(e){var t=this,n=Dy.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=rv(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());nv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return Hy(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];nv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){Iy(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},e.prototype.clone=function(){return new e(rv(this.value))},e}();function ov(e){var t=[];return Iy(e.fields,(function(e,n){var r=new Dy([e]);if(nv(n)){var i=ov(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new Ay(t)}var av=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,_y.min(),iv.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,iv.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,iv.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=iv.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=iv.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),sv=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new sv(e,t,n,r,i,o,a)}function cv(e){var t=vy(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+$y(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return(t=e).field.canonicalString()+t.dir;var t})).join(","),qy(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Sv(t.startAt)),t.endAt&&(n+="|ub:",n+=Sv(t.endAt)),t.h=n}return t.h}function lv(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Tv(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Hy(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!kv(e.startAt,t.startAt)&&kv(e.endAt,t.endAt)}function fv(e){return zy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var hv=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return Yc(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new dv(e,n,r):"array-contains"===n?new mv(e,r):"in"===n?new gv(e,r):"not-in"===n?new bv(e,r):"array-contains-any"===n?new wv(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new pv(e,n):new yv(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(Qy(t,this.value)):null!==t&&Ky(this.value)===Ky(t)&&this.m(Qy(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return py()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),dv=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=zy.fromName(r.referenceValue),i}return Yc(t,e),t.prototype.matches=function(e){var t=zy.comparator(e.key,this.key);return this.m(t)},t}(hv),pv=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=vv("in",n),r}return Yc(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(hv),yv=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=vv("not-in",n),r}return Yc(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(hv);function vv(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return zy.fromName(e.referenceValue)}))}var mv=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return Yc(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return Zy(t)&&Wy(t.arrayValue,this.value)},t}(hv),gv=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return Yc(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&Wy(this.value.arrayValue,t)},t}(hv),bv=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return Yc(t,e),t.prototype.matches=function(e){if(Wy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Wy(this.value.arrayValue,t)},t}(hv),wv=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return Yc(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!Zy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Wy(t.value.arrayValue,e)}))},t}(hv),Ev=function(e,t){this.position=e,this.before=t};function Sv(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return $y(e)})).join(",")}var _v=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Tv(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Iv(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?zy.comparator(zy.fromName(a.referenceValue),n.key):Qy(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function kv(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Hy(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nv=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Cv(e,t,n,r,i,o,a,s){return new Nv(e,t,n,r,i,o,a,s)}function xv(e){return new Nv(e)}function Dv(e){return!qy(e.limit)&&"F"===e.limitType}function Av(e){return!qy(e.limit)&&"L"===e.limitType}function Pv(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ov(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Rv(e){return null!==e.collectionGroup}function Lv(e){var t=vy(e);if(null===t.p){t.p=[];var n=Ov(t),r=Pv(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new _v(n)),t.p.push(new _v(Dy.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new _v(Dy.keyField(),u))}}}return t.p}function Mv(e){var t=vy(e);if(!t.T)if("F"===t.limitType)t.T=uv(t.path,t.collectionGroup,Lv(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Lv(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new _v(o.field,a))}var s=t.endAt?new Ev(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Ev(t.startAt.position,!t.startAt.before):null;t.T=uv(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function Fv(e,t,n){return new Nv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Uv(e,t){return lv(Mv(e),Mv(t))&&e.limitType===t.limitType}function Vv(e){return cv(Mv(e))+"|lt:"+e.limitType}function qv(e){return"Query(target="+(t=Mv(e),n=t.path.canonicalString(),null!==t.collectionGroup&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+$y(t.value);var t})).join(", ")+"]"),qy(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map((function(e){return(t=e).field.canonicalString()+" ("+t.dir+")";var t})).join(", ")+"]"),t.startAt&&(n+=", startAt: "+Sv(t.startAt)),t.endAt&&(n+=", endAt: "+Sv(t.endAt)),"Target("+n+"); limitType=")+e.limitType+")";var t,n}function Bv(e,t){return t.isFoundDocument()&&(n=e,i=(r=t).key.path,null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):zy.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i))&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Iv(e.startAt,Lv(e),t)||e.endAt&&Iv(e.endAt,Lv(e),t))}(e,t);var n,r,i}function jv(e){return function(t,n){for(var r=!1,i=0,o=Lv(e);i<o.length;i++){var a=o[i],s=zv(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function zv(e,t,n){var r,i,o,a,s=e.field.isKeyField()?zy.comparator(t.key,n.key):(r=e.field,i=n,o=t.data.field(r),a=i.data.field(r),null!==o&&null!==a?Qy(o,a):py());switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return py()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:By(t)?"-0":t}}function Hv(e){return{integerValue:""+e}}function Wv(e,t){return jy(t)?Hv(t):Kv(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qv=function(){this._=void 0};function Gv(e,t,n){return e instanceof Xv?(i=t,o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(r=n).seconds,nanos:r.nanoseconds}}}},i&&(o.fields.__previous_value__=i),{mapValue:o}):e instanceof Jv?Zv(e,t):e instanceof em?tm(e,t):function(e,t){var n=Yv(e,t),r=rm(n)+rm(e.A);return Jy(n)&&Jy(e.A)?Hv(r):Kv(e.R,r)}(e,t);var r,i,o}function $v(e,t,n){return e instanceof Jv?Zv(e,t):e instanceof em?tm(e,t):n}function Yv(e,t){return e instanceof nm?Jy(r=t)||(n=r)&&"doubleValue"in n?t:{integerValue:0}:null;var n,r}var Xv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Yc(t,e),t}(Qv),Jv=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Yc(t,e),t}(Qv);function Zv(e,t){for(var n=im(t),r=function(e){n.some((function(t){return Hy(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var em=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Yc(t,e),t}(Qv);function tm(e,t){for(var n=im(t),r=function(e){n=n.filter((function(t){return!Hy(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var nm=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return Yc(t,e),t}(Qv);function rm(e){return Ly(e.integerValue||e.doubleValue)}function im(e){return Zy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var om=function(e,t){this.field=e,this.transform=t},am=function(e,t){this.version=e,this.transformResults=t},sm=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function um(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var cm=function(){};function lm(e,t,n){var r,i,o,a,s;e instanceof ym?(i=t,o=n,a=(r=e).value.clone(),s=gm(r.fieldTransforms,i,o.transformResults),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()):e instanceof vm?function(e,t,n){if(um(e.precondition,t)){var r=gm(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(mm(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function fm(e,t,n){var r;e instanceof ym?function(e,t,n){if(um(e.precondition,t)){var r=e.value.clone(),i=bm(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(pm(t),r).setHasLocalMutations()}}(e,t,n):e instanceof vm?function(e,t,n){if(um(e.precondition,t)){var r=bm(e.fieldTransforms,n,t),i=t.data;i.setAll(mm(e)),i.setAll(r),t.convertToFoundDocument(pm(t),i).setHasLocalMutations()}}(e,t,n):(r=t,um(e.precondition,r)&&r.convertToNoDocument(_y.min()))}function hm(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=Yv(o.transform,a||null);null!=s&&(null==n&&(n=iv.empty()),n.set(o.field,s))}return n||null}function dm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&wy(n,r,(function(e,t){return r=t,(n=e).field.isEqual(r.field)&&(i=n.transform,o=r.transform,i instanceof Jv&&o instanceof Jv||i instanceof em&&o instanceof em?wy(i.elements,o.elements,Hy):i instanceof nm&&o instanceof nm?Hy(i.A,o.A):i instanceof Xv&&o instanceof Xv);var n,r,i,o}))))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask));var n,r}function pm(e){return e.isFoundDocument()?e.version:_y.min()}var ym=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Yc(t,e),t}(cm),vm=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Yc(t,e),t}(cm);function mm(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function gm(e,t,n){var r=new Map;yy(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,$v(a,s,n[i]))}return r}function bm(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,Gv(s,u,t))}return r}var wm,Em,Sm=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Yc(t,e),t}(cm),_m=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Yc(t,e),t}(cm),Tm=function(e){this.count=e};function Im(e){switch(e){case ay.OK:return py();case ay.CANCELLED:case ay.UNKNOWN:case ay.DEADLINE_EXCEEDED:case ay.RESOURCE_EXHAUSTED:case ay.INTERNAL:case ay.UNAVAILABLE:case ay.UNAUTHENTICATED:return!1;case ay.INVALID_ARGUMENT:case ay.NOT_FOUND:case ay.ALREADY_EXISTS:case ay.PERMISSION_DENIED:case ay.FAILED_PRECONDITION:case ay.ABORTED:case ay.OUT_OF_RANGE:case ay.UNIMPLEMENTED:case ay.DATA_LOSS:return!0;default:return py()}}function km(e){if(void 0===e)return fy("GRPC error has no .code"),ay.UNKNOWN;switch(e){case wm.OK:return ay.OK;case wm.CANCELLED:return ay.CANCELLED;case wm.UNKNOWN:return ay.UNKNOWN;case wm.DEADLINE_EXCEEDED:return ay.DEADLINE_EXCEEDED;case wm.RESOURCE_EXHAUSTED:return ay.RESOURCE_EXHAUSTED;case wm.INTERNAL:return ay.INTERNAL;case wm.UNAVAILABLE:return ay.UNAVAILABLE;case wm.UNAUTHENTICATED:return ay.UNAUTHENTICATED;case wm.INVALID_ARGUMENT:return ay.INVALID_ARGUMENT;case wm.NOT_FOUND:return ay.NOT_FOUND;case wm.ALREADY_EXISTS:return ay.ALREADY_EXISTS;case wm.PERMISSION_DENIED:return ay.PERMISSION_DENIED;case wm.FAILED_PRECONDITION:return ay.FAILED_PRECONDITION;case wm.ABORTED:return ay.ABORTED;case wm.OUT_OF_RANGE:return ay.OUT_OF_RANGE;case wm.UNIMPLEMENTED:return ay.UNIMPLEMENTED;case wm.DATA_LOSS:return ay.DATA_LOSS;default:return py()}}(Em=wm||(wm={}))[Em.OK=0]="OK",Em[Em.CANCELLED=1]="CANCELLED",Em[Em.UNKNOWN=2]="UNKNOWN",Em[Em.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Em[Em.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Em[Em.NOT_FOUND=5]="NOT_FOUND",Em[Em.ALREADY_EXISTS=6]="ALREADY_EXISTS",Em[Em.PERMISSION_DENIED=7]="PERMISSION_DENIED",Em[Em.UNAUTHENTICATED=16]="UNAUTHENTICATED",Em[Em.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Em[Em.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Em[Em.ABORTED=10]="ABORTED",Em[Em.OUT_OF_RANGE=11]="OUT_OF_RANGE",Em[Em.UNIMPLEMENTED=12]="UNIMPLEMENTED",Em[Em.INTERNAL=13]="INTERNAL",Em[Em.UNAVAILABLE=14]="UNAVAILABLE",Em[Em.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Nm=function(){function e(e,t){this.comparator=e,this.root=t||xm.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,xm.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,xm.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Cm(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Cm(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Cm(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Cm(this.root,e,this.comparator,!0)},e}(),Cm=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),xm=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw py();if(this.right.isRed())throw py();var e=this.left.check();if(e!==this.right.check())throw py();return e+(this.isRed()?0:1)},e}();xm.EMPTY=null,xm.RED=!0,xm.BLACK=!1,xm.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw py()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw py()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw py()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw py()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw py()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new xm(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Dm=function(){function e(e){this.comparator=e,this.data=new Nm(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Am(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Am(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Am=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Pm=new Nm(zy.comparator);function Om(){return Pm}var Rm=new Nm(zy.comparator);function Lm(){return Rm}var Mm=new Nm(zy.comparator);var Fm=new Dm(zy.comparator);function Um(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Fm,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Vm=new Dm(by);function qm(){return Vm}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bm=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,jm.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(_y.min(),r,qm(),Om(),Um())},e}(),jm=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Py.EMPTY_BYTE_STRING,n,Um(),Um(),Um())},e}(),zm=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},Km=function(e,t){this.targetId=e,this.V=t},Hm=function(e,t,n,r){void 0===n&&(n=Py.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Wm=function(){function e(){this.S=0,this.D=$m(),this.C=Py.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.F=!0,this.C=e)},e.prototype.M=function(){var e=Um(),t=Um(),n=Um();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:py()}})),new jm(this.C,this.N,e,t,n)},e.prototype.L=function(){this.F=!1,this.D=$m()},e.prototype.B=function(e,t){this.F=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),Qm=function(){function e(e){this.W=e,this.G=new Map,this.H=Om(),this.J=Gm(),this.Y=new Dm(by)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.k||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:py()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(fv(i))if(0===n){var o=new zy(i.path);this.tt(t,o,av.newNoDocument(o,_y.min()))}else yy(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&fv(o.target)){var a=new zy(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,av.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}}));var r=Um();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Bm(e,n,this.Y,this.H,r);return this.H=Om(),this.J=Gm(),this.Y=new Dm(by),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new Wm,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new Dm(by),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||ly("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.k?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new Wm),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function Gm(){return new Nm(zy.comparator)}function $m(){return new Nm(zy.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ym={asc:"ASCENDING",desc:"DESCENDING"},Xm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jm=function(e,t){this.databaseId=e,this.I=t};function Zm(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function eg(e,t){return e.I?t.toBase64():t.toUint8Array()}function tg(e,t){return Zm(e,t.toTimestamp())}function ng(e){return yy(!!e),_y.fromTimestamp((t=Ry(e),new Sy(t.seconds,t.nanos)));var t}function rg(e,t){return(n=e,new Cy(["projects",n.projectId,"databases",n.database])).child("documents").child(t).canonicalString();var n}function ig(e){var t=Cy.fromString(e);return yy(Ng(t)),t}function og(e,t){return rg(e.databaseId,t.path)}function ag(e,t){var n=ig(t);if(n.get(1)!==e.databaseId.projectId)throw new sy(ay.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new sy(ay.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new zy(lg(n))}function sg(e,t){return rg(e.databaseId,t)}function ug(e){var t=ig(e);return 4===t.length?Cy.emptyPath():lg(t)}function cg(e){return new Cy(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function lg(e){return yy(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function fg(e,t,n){return{name:og(e,t),fields:n.value.mapValue.fields}}function hg(e,t){var n,r,i;if(t instanceof ym)n={update:fg(e,t.key,t.value)};else if(t instanceof Sm)n={delete:og(e,t.key)};else if(t instanceof vm)n={update:fg(e,t.key,t.data),updateMask:kg(t.fieldMask)};else{if(!(t instanceof _m))return py();n={verify:og(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Xv)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Jv)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof em)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof nm)return{fieldPath:t.field.canonicalString(),increment:n.A};throw py()}(0,e)}))),t.precondition.isNone||(n.currentDocument=(r=e,void 0!==(i=t.precondition).updateTime?{updateTime:tg(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:py())),n}function dg(e,t){var n,r=t.currentDocument?void 0!==(n=t.currentDocument).updateTime?sm.updateTime(ng(n.updateTime)):void 0!==n.exists?sm.exists(n.exists):sm.none():sm.none(),i=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)yy("REQUEST_TIME"===t.setToServerValue),n=new Xv;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Jv(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new em(i)}else"increment"in t?n=new nm(e,t.increment):py();var o=Dy.fromServerFormat(t.fieldPath);return new om(o,n)}(e,t)})):[];if(t.update){t.update.name;var o=ag(e,t.update.name),a=new iv({mapValue:{fields:t.update.fields}});if(t.updateMask){var s=function(e){var t=e.fieldPaths||[];return new Ay(t.map((function(e){return Dy.fromServerFormat(e)})))}(t.updateMask);return new vm(o,a,s,r,i)}return new ym(o,a,r,i)}if(t.delete){var u=ag(e,t.delete);return new Sm(u,r)}if(t.verify){var c=ag(e,t.verify);return new _m(c,r)}return py()}function pg(e,t){return{documents:[sg(e,t.path)]}}function yg(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=sg(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=sg(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(tv(e.value))return{unaryFilter:{field:Sg(e.field),op:"IS_NAN"}};if(ev(e.value))return{unaryFilter:{field:Sg(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(tv(e.value))return{unaryFilter:{field:Sg(e.field),op:"IS_NOT_NAN"}};if(ev(e.value))return{unaryFilter:{field:Sg(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sg(e.field),op:Eg(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return{field:Sg((t=e).field),direction:wg(t.dir)};var t}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a,s,u=(a=e,s=t.limit,a.I||qy(s)?s:{value:s});return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt=gg(t.startAt)),t.endAt&&(n.structuredQuery.endAt=gg(t.endAt)),n}function vg(e){var t=ug(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){yy(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=mg(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return new _v(_g((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t})));var u,c,l=null;n.limit&&(u=n.limit,l=qy(c="object"==typeof u?u.value:u)?null:c);var f=null;n.startAt&&(f=bg(n.startAt));var h=null;return n.endAt&&(h=bg(n.endAt)),Cv(t,i,s,a,l,"F",f,h)}function mg(e){return e?void 0!==e.unaryFilter?[Ig(e)]:void 0!==e.fieldFilter?[Tg(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return mg(e)})).reduce((function(e,t){return e.concat(t)})):py():[]}function gg(e){return{before:e.before,values:e.position}}function bg(e){var t=!!e.before,n=e.values||[];return new Ev(n,t)}function wg(e){return Ym[e]}function Eg(e){return Xm[e]}function Sg(e){return{fieldPath:e.canonicalString()}}function _g(e){return Dy.fromServerFormat(e.fieldPath)}function Tg(e){return hv.create(_g(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return py()}}(e.fieldFilter.op),e.fieldFilter.value)}function Ig(e){switch(e.unaryFilter.op){case"IS_NAN":var t=_g(e.unaryFilter.field);return hv.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=_g(e.unaryFilter.field);return hv.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=_g(e.unaryFilter.field);return hv.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=_g(e.unaryFilter.field);return hv.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return py()}}function kg(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Ng(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Dg(t)),t=xg(e.get(n),t);return Dg(t)}function xg(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Dg(e){return e+""}function Ag(e){var t=e.length;if(yy(t>=2),2===t)return yy(""===e.charAt(0)&&""===e.charAt(1)),Cy.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("",o);switch((a<0||a>n)&&py(),e.charAt(a+1)){case"":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=e.substring(o,a),i+="\0";break;case"":i+=e.substring(o,a+1);break;default:py()}o=a+2}return new Cy(r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pg=function(e,t){this.seconds=e,this.nanoseconds=t},Og=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Og.store="owner",Og.key="owner";var Rg=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Rg.store="mutationQueues",Rg.keyPath="userId";var Lg=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Lg.store="mutations",Lg.keyPath="batchId",Lg.userMutationsIndex="userMutationsIndex",Lg.userMutationsKeyPath=["userId","batchId"];var Mg=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Cg(t)]},e.key=function(e,t,n){return[e,Cg(t),n]},e}();Mg.store="documentMutations",Mg.PLACEHOLDER=new Mg;var Fg=function(e,t){this.path=e,this.readTime=t},Ug=function(e,t){this.path=e,this.version=t},Vg=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Vg.store="remoteDocuments",Vg.readTimeIndex="readTimeIndex",Vg.readTimeIndexPath="readTime",Vg.collectionReadTimeIndex="collectionReadTimeIndex",Vg.collectionReadTimeIndexPath=["parentPath","readTime"];var qg=function(e){this.byteSize=e};qg.store="remoteDocumentGlobal",qg.key="remoteDocumentGlobalKey";var Bg=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Bg.store="targets",Bg.keyPath="targetId",Bg.queryTargetsIndexName="queryTargetsIndex",Bg.queryTargetsKeyPath=["canonicalId","targetId"];var jg=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};jg.store="targetDocuments",jg.keyPath=["targetId","path"],jg.documentTargetsIndex="documentTargetsIndex",jg.documentTargetsKeyPath=["path","targetId"];var zg=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};zg.key="targetGlobalKey",zg.store="targetGlobal";var Kg=function(e,t){this.collectionId=e,this.parent=t};Kg.store="collectionParents",Kg.keyPath=["collectionId","parent"];var Hg=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Hg.store="clientMetadata",Hg.keyPath="clientId";var Wg=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Wg.store="bundles",Wg.keyPath="bundleId";var Qg=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Qg.store="namedQueries",Qg.keyPath="name";var Gg=nl(nl([],nl(nl([],nl(nl([],nl(nl([],[Rg.store,Lg.store,Mg.store,Vg.store,Bg.store,Og.store,zg.store,jg.store]),[Hg.store])),[qg.store])),[Kg.store])),[Wg.store,Qg.store]),$g="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Yg=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),Xg=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},Jg=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&py(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),Zg=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new Xg,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new nb(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=sb(t.target.error);n.ft.reject(new nb(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(o){throw new nb(n,o)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(ly("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new ib(t)},e}(),eb=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t(al())&&fy("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return ly("SimpleDb","Removing database:",e),ob(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=al(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return Jc(this,void 0,void 0,(function(){var t,n=this;return Zc(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(ly("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new nb(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new sy(ay.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new nb(e,n))},i.onupgradeneeded=function(e){ly("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){ly("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return Jc(this,void 0,void 0,(function(){var i,o,a,s,u;return Zc(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return Zc(this,(function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=f.sent(),t=Zg.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),Jg.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(f.sent(),a),u)];case 4:return c=f.sent(),l="FirebaseError"!==c.name&&o<3,ly("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),tb=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return ob(this.Pt.delete())},e}(),nb=function(e){function t(t,n){var r=this;return(r=e.call(this,ay.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Yc(t,e),t}(sy);function rb(e){return"IndexedDbTransactionError"===e.name}var ib=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(ly("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(ly("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ob(n)},e.prototype.add=function(e){return ly("SimpleDb","ADD",this.store.name,e,e),ob(this.store.add(e))},e.prototype.get=function(e){var t=this;return ob(this.store.get(e)).next((function(n){return void 0===n&&(n=null),ly("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return ly("SimpleDb","DELETE",this.store.name,e),ob(this.store.delete(e))},e.prototype.count=function(){return ly("SimpleDb","COUNT",this.store.name),ob(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.Ft=function(e,t){ly("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new Jg((function(n,r){t.onerror=function(e){var t=sb(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new Jg((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new tb(i),a=t(i.primaryKey,i.value,o);if(a instanceof Jg){var s=a.catch((function(e){return o.done(),Jg.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Jg.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function ob(e){return new Jg((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=sb(e.target.error);n(t)}}))}var ab=!1;function sb(e){var t=eb._t(al());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new sy("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ab||(ab=!0,setTimeout((function(){throw r}),0)),r}}return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ub=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return Yc(t,e),t}(Yg);function cb(e,t){var n=vy(e);return eb.It(n.Mt,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lb=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&lm(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&fm(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&fm(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(_y.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Um())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&wy(this.mutations,e.mutations,(function(e,t){return dm(e,t)}))&&wy(this.baseMutations,e.baseMutations,(function(e,t){return dm(e,t)}))},e}(),fb=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){yy(t.mutations.length===r.length);for(var i=Mm,o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),hb=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=_y.min()),void 0===o&&(o=_y.min()),void 0===a&&(a=Py.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),db=function(e){this.Lt=e};function pb(e,t){if(t.document)return function(e,t,n){var r=ag(e,t.name),i=ng(t.updateTime),o=new iv({mapValue:{fields:t.fields}}),a=av.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=zy.fromSegments(t.noDocument.path),r=bb(t.noDocument.readTime),i=av.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=zy.fromSegments(t.unknownDocument.path);return r=bb(t.unknownDocument.version),av.newUnknownDocument(o,r)}return py()}function yb(e,t,n){var r,i,o=vb(n),a=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s={name:og(r=e.Lt,(i=t).key),fields:i.data.value.mapValue.fields,updateTime:Zm(r,i.version.toTimestamp())},u=t.hasCommittedMutations;return new Vg(null,null,s,u,o,a)}if(t.isNoDocument()){var c=t.key.path.toArray(),l=gb(t.version);return u=t.hasCommittedMutations,new Vg(null,new Fg(c,l),null,u,o,a)}if(t.isUnknownDocument()){var f=t.key.path.toArray(),h=gb(t.version);return new Vg(new Ug(f,h),null,null,!0,o,a)}return py()}function vb(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function mb(e){var t=new Sy(e[0],e[1]);return _y.fromTimestamp(t)}function gb(e){var t=e.toTimestamp();return new Pg(t.seconds,t.nanoseconds)}function bb(e){var t=new Sy(e.seconds,e.nanoseconds);return _y.fromTimestamp(t)}function wb(e,t){for(var n=(t.baseMutations||[]).map((function(t){return dg(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return dg(e.Lt,t)})),s=Sy.fromMillis(t.localWriteTimeMs);return new lb(t.batchId,s,n,a)}function Eb(e){var t,n,r=bb(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?bb(e.lastLimboFreeSnapshotVersion):_y.min();return void 0!==e.query.documents?(yy(1===(n=e.query).documents.length),t=Mv(xv(ug(n.documents[0])))):t=Mv(vg(e.query)),new hb(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Py.fromBase64String(e.resumeToken))}function Sb(e,t){var n,r=gb(t.snapshotVersion),i=gb(t.lastLimboFreeSnapshotVersion);n=fv(t.target)?pg(e.Lt,t.target):yg(e.Lt,t.target);var o=t.resumeToken.toBase64();return new Bg(t.targetId,cv(t.target),r,o,t.sequenceNumber,i,n)}function _b(e){var t=vg({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Fv(t,t.limit,"L"):t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tb=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return Ib(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:bb(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return Ib(e).put({bundleId:(n=t).id,createTime:gb(ng(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return kb(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:_b(t.bundledQuery),readTime:bb(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return kb(e).put({name:(n=t).name,readTime:gb(ng(n.readTime)),bundledQuery:n.bundledQuery});var n},e}();function Ib(e){return cb(e,Wg.store)}function kb(e){return cb(e,Qg.store)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nb=function(){function e(){this.Bt=new Cb}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),Jg.resolve()},e.prototype.getCollectionParents=function(e,t){return Jg.resolve(this.Bt.getEntries(t))},e}(),Cb=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Dm(Cy.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Dm(Cy.comparator)).toArray()},e}(),xb=function(){function e(){this.qt=new Cb}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:Cg(i)};return Db(e).put(o)}return Jg.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Ey(t),""],!1,!0);return Db(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(Ag(o.parent))}return n}))},e}();function Db(e){return cb(e,Kg.store)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ab={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Pb=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(e,t,n){var r=e.store(Lg.store),i=e.store(Mg.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){yy(1===s)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=Mg.key(t,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return Jg.waitFor(o).next((function(){return c}))}function Rb(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw py();t=e.noDocument}return JSON.stringify(t).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pb.DEFAULT_COLLECTION_PERCENTILE=10,Pb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pb.DEFAULT=new Pb(41943040,Pb.DEFAULT_COLLECTION_PERCENTILE,Pb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pb.DISABLED=new Pb(-1,0,0);var Lb=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return e.Kt=function(t,n,r,i){return yy(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fb(e).$t({index:Lg.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=Ub(e),a=Fb(e);return a.add({}).next((function(s){yy("number"==typeof s);for(var u=new lb(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return hg(e.Lt,t)})),i=n.mutations.map((function(t){return hg(e.Lt,t)}));return new Lg(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],f=new Dm((function(e,t){return by(e.canonicalString(),t.canonicalString())})),h=0,d=r;h<d.length;h++){var p=d[h],y=Mg.key(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(y,Mg.PLACEHOLDER))}return f.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Qt[s]=u.keys()})),Jg.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return Fb(e).get(t).next((function(e){return e?(yy(e.userId===n.userId),wb(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Qt[t]?Jg.resolve(this.Qt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Qt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Fb(e).$t({index:Lg.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(yy(t.batchId>=r),o=wb(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Fb(e).$t({index:Lg.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fb(e).Nt(Lg.userMutationsIndex,n).next((function(e){return e.map((function(e){return wb(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=Mg.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Ub(e).$t({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Ag(u);if(s===n.userId&&t.path.isEqual(l))return Fb(e).get(c).next((function(e){if(!e)throw py();yy(e.userId===n.userId),o.push(wb(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Dm(by),i=[];return t.forEach((function(t){var o=Mg.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=Ub(e).$t({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=Ag(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),Jg.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=Mg.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Dm(by);return Ub(e).$t({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=Ag(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Fb(e).get(t).next((function(e){if(null===e)throw py();yy(e.userId===n.userId),r.push(wb(n.R,e))})))})),Jg.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return Ob(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),Jg.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Qt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Jg.resolve();var r=IDBKeyRange.lowerBound(Mg.prefixForUser(t.userId)),i=[];return Ub(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var o=Ag(e[1]);i.push(o)}else r.done()})).next((function(){yy(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return Mb(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return Vb(e).get(this.userId).next((function(e){return e||new Rg(t.userId,-1,"")}))},e}();function Mb(e,t,n){var r=Mg.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Ub(e).$t({range:o,kt:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function Fb(e){return cb(e,Lg.store)}function Ub(e){return cb(e,Mg.store)}function Vb(e){return cb(e,Rg.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qb=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),Bb=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new qb(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return _y.fromTimestamp(new Sy(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return jb(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return yy(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return jb(e).$t((function(a,s){var u=Eb(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return Jg.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return jb(e).$t((function(e,n){var r=Eb(n);t(r)}))},e.prototype.Xt=function(e){return zb(e).get(zg.key).next((function(e){return yy(null!==e),e}))},e.prototype.Zt=function(e,t){return zb(e).put(zg.key,t)},e.prototype.te=function(e,t){return jb(e).put(Sb(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=cv(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return jb(e).$t({range:r,index:Bg.queryTargetsIndexName},(function(e,n,r){var o=Eb(n);lv(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=Kb(e);return t.forEach((function(t){var a=Cg(t.path);i.push(o.put(new jg(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),Jg.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=Kb(e);return Jg.forEach(t,(function(t){var o=Cg(t.path);return Jg.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=Kb(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Kb(e),i=Um();return r.$t({range:n,kt:!0},(function(e,t,n){var r=Ag(e[1]),o=new zy(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=Cg(t.path),r=IDBKeyRange.bound([n],[Ey(n)],!1,!0),i=0;return Kb(e).$t({index:jg.documentTargetsIndex,kt:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return jb(e).get(t).next((function(e){return e?Eb(e):null}))},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(e){return cb(e,Bg.store)}function zb(e){return cb(e,zg.store)}function Kb(e){return cb(e,jg.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(e){return Jc(this,void 0,void 0,(function(){return Zc(this,(function(t){if(e.code!==ay.FAILED_PRECONDITION||e.message!==$g)throw e;return ly("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=by(n,i);return 0===a?by(r,o):a}var Qb=function(){function e(e){this.ne=e,this.buffer=new Dm(Wb),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Wb(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Gb=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;ly("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Jc(t,void 0,void 0,(function(){var t;return Zc(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return rb(t=n.sent())?(ly("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Hb(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),$b=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Jg.resolve(oy.o);var r=new Qb(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(ly("LruGarbageCollector","Garbage collection skipped; disabled"),Jg.resolve(Ab)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(ly("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Ab):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(ly("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),cy()<=Sl.DEBUG&&ly("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Jg.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),Yb=function(){function e(e,t){this.db=e,this.garbageCollector=new $b(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return Xb(e,n)},e.prototype.removeReference=function(e,t,n){return Xb(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return Xb(e,t)},e.prototype._e=function(e,t){return r=t,i=!1,Vb(n=e).Ot((function(e){return Mb(n,e,r).next((function(e){return e&&(i=!0),Jg.resolve(!e)}))})).next((function(){return i}));var n,r,i},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),Kb(e).delete([0,Cg(a.path)])}))}));i.push(u)}})).next((function(){return Jg.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Xb(e,t)},e.prototype.we=function(e,t){var n,r=Kb(e),i=oy.o;return r.$t({index:jg.documentTargetsIndex},(function(e,r){var o=e[0],a=(e[1],r.path),s=r.sequenceNumber;0===o?(i!==oy.o&&t(new zy(Ag(n)),i),i=s,n=a):i=oy.o})).next((function(){i!==oy.o&&t(new zy(Ag(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Xb(e,t){return Kb(e).put((n=t,r=e.currentSequenceNumber,new jg(0,Cg(n.path),r)));var n,r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jb=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){Iy(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return ky(this.inner)},e}(),Zb=function(){function e(){this.changes=new Jb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:_y.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:av.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Jg.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),ew=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return rw(e).put(iw(t),n)},e.prototype.removeEntry=function(e,t){var n=rw(e),r=iw(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return rw(e).get(iw(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return rw(e).get(iw(t)).next((function(e){return{document:n.ye(t,e),size:Rb(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=Om();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=Om(),i=new Nm(zy.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,Rb(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return Jg.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return rw(e).$t({range:r},(function(e,t,r){for(var a=zy.fromSegments(e);o&&zy.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=Om(),o=t.path.length+1,a={};if(n.isEqual(_y.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=vb(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Vg.collectionReadTimeIndex}return rw(e).$t(a,(function(e,n,a){if(e.length===o){var s=pb(r.R,n);t.path.isPrefixOf(s.key.path)?Bv(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new tw(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return nw(e).get(qg.key).next((function(e){return yy(!!e),e}))},e.prototype.me=function(e,t){return nw(e).put(qg.key,t)},e.prototype.ye=function(e,t){if(t){var n=pb(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(_y.min()))return n}return av.newInvalidDocument(e)},e}(),tw=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new Jb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return Yc(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new Dm((function(e,t){return by(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=yb(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=Rb(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=yb(t.Ie.R,av.newNoDocument(o,_y.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),Jg.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(Zb);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(e){return cb(e,qg.store)}function rw(e){return cb(e,Vg.store)}function iw(e){return e.path.toArray()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ow=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;yy(n<r&&n>=0&&r<=11);var o=new Zg("createOrUpgrade",t);n<1&&r>=1&&(e.createObjectStore(Og.store),function(e){e.createObjectStore(Rg.store,{keyPath:Rg.keyPath}),e.createObjectStore(Lg.store,{keyPath:Lg.keyPath,autoIncrement:!0}).createIndex(Lg.userMutationsIndex,Lg.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Mg.store)}(e),aw(e),function(e){e.createObjectStore(Vg.store)}(e));var a=Jg.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(jg.store),e.deleteObjectStore(Bg.store),e.deleteObjectStore(zg.store)}(e),aw(e)),a=a.next((function(){return function(e){var t=e.store(zg.store),n=new zg(0,0,_y.min().toTimestamp(),0);return t.put(zg.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(Lg.store).Nt().next((function(n){e.deleteObjectStore(Lg.store),e.createObjectStore(Lg.store,{keyPath:Lg.keyPath,autoIncrement:!0}).createIndex(Lg.userMutationsIndex,Lg.userMutationsKeyPath,{unique:!0});var r=t.store(Lg.store),i=n.map((function(e){return r.put(e)}));return Jg.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(Hg.store,{keyPath:Hg.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(qg.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Vg.store);t.createIndex(Vg.readTimeIndex,Vg.readTimeIndexPath,{unique:!1}),t.createIndex(Vg.collectionReadTimeIndex,Vg.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(Wg.store,{keyPath:Wg.keyPath})}(e),function(e){e.createObjectStore(Qg.store,{keyPath:Qg.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(Vg.store).$t((function(e,n){t+=Rb(n)})).next((function(){var n=new qg(t);return e.store(qg.store).put(qg.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(Rg.store),r=e.store(Lg.store);return n.Nt().next((function(n){return Jg.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Lg.userMutationsIndex,i).next((function(r){return Jg.forEach(r,(function(r){yy(r.userId===n.userId);var i=wb(t.R,r);return Ob(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(jg.store),n=e.store(Vg.store);return e.store(zg.store).get(zg.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new Cy(n),a=[0,Cg(o)];r.push(t.get(a).next((function(n){return n?Jg.resolve():(r=o,t.put(new jg(0,Cg(r),e.highestListenSequenceNumber)));var r})))})).next((function(){return Jg.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(Kg.store,{keyPath:Kg.keyPath});var n=t.store(Kg.store),r=new Cb,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Cg(i)})}};return t.store(Vg.store).$t({kt:!0},(function(e,t){var n=new Cy(e);return i(n.popLast())})).next((function(){return t.store(Mg.store).$t({kt:!0},(function(e,t){e[0];var n=e[1],r=(e[2],Ag(n));return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(Bg.store);return n.$t((function(e,r){var i=Eb(r),o=Sb(t.R,i);return n.put(o)}))},e}();function aw(e){e.createObjectStore(jg.store,{keyPath:jg.keyPath}).createIndex(jg.documentTargetsIndex,jg.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Bg.store,{keyPath:Bg.keyPath}).createIndex(Bg.queryTargetsIndexName,Bg.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(zg.store)}var sw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",uw=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new sy(ay.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");var f,h;this.referenceDelegate=new Yb(this,i),this.Le=n+"main",this.R=new db(u),this.Be=new eb(this.Le,11,new ow(this.R)),this.qe=new Bb(this.referenceDelegate,this.R),this.Ut=new xb,this.Ue=(f=this.R,h=this.Ut,new ew(f,h)),this.Qe=new Tb,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&fy("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new sy(ay.FAILED_PRECONDITION,sw);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new oy(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return Jc(t,void 0,void 0,(function(){return Zc(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return Jc(t,void 0,void 0,(function(){return Zc(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return Jc(t,void 0,void 0,(function(){return Zc(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return lw(t).put(new Hg(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(rb(t))return ly("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return ly("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return cw(e).get(Og.key).next((function(e){return Jg.resolve(t.tn(e))}))},e.prototype.en=function(e){return lw(e).delete(this.clientId)},e.prototype.nn=function(){return Jc(this,void 0,void 0,(function(){var e,t,n,r,i=this;return Zc(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=cb(e,Hg.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Jg.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Ke)for(t=0,n=e;t<n.length;t++)r=n[t],this.Ke.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?Jg.resolve(!0):cw(e).get(Og.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new sy(ay.FAILED_PRECONDITION,sw);return!1}}return!(!t.networkEnabled||!t.inForeground)||lw(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&ly("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return Jc(this,void 0,void 0,(function(){var e=this;return Zc(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Og.store,Hg.store],(function(t){var n=new ub(t,oy.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return lw(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return Lb.Kt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(e,t,n){var r=this;ly("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,Gg,(function(o){return i=new ub(o,r.Ne?r.Ne.next():oy.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw fy("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new sy(ay.FAILED_PRECONDITION,$g);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return cw(e).get(Og.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new sy(ay.FAILED_PRECONDITION,sw)}))},e.prototype.Ze=function(e){var t=new Og(this.clientId,this.allowTabSynchronization,Date.now());return cw(e).put(Og.key,t)},e.yt=function(){return eb.yt()},e.prototype.Xe=function(e){var t=this,n=cw(e);return n.get(Og.key).next((function(e){return t.tn(e)?(ly("IndexedDbPersistence","Releasing primary lease."),n.delete(Og.key)):Jg.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(fy("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fe=function(){t.un(),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Ke)||void 0===t?void 0:t.getItem(this.on(e)));return ly("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(r){return fy("IndexedDbPersistence","Failed to get zombied client id.",r),!1}},e.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(e){fy("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function cw(e){return cb(e,Og.store)}function lw(e){return cb(e,Hg.store)}function fw(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var hw=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return r=t,zy.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Tn(e,t.path):Rv(t)?this.In(e,t,n):this.An(e,t,n);var r},e.prototype.Tn=function(e,t){return this.mn(e,new zy(t)).next((function(e){var t=Lm();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=Lm();return this.Ut.getCollectionParents(e,i).next((function(a){return Jg.forEach(a,(function(a){var s,u,c=(s=t,u=a.child(i),new Nv(u,null,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt));return r.An(e,c,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=av.newInvalidDocument(c),r=r.insert(c,l)),fm(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){Bv(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=Um(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof vm&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),dw=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=Um(),i=Um(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),pw=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i,o=this;return 0===(i=t).filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())||n.isEqual(_y.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(i){var a=o.Cn(t,i);return(Dv(t)||Av(t))&&o.Nn(t.limitType,a,r,n)?o.Dn(e,t):(cy()<=Sl.DEBUG&&ly("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),qv(t)),o.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new Dm(jv(e));return t.forEach((function(t,r){Bv(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return cy()<=Sl.DEBUG&&ly("QueryEngine","Using full collection scan to execute query:",qv(t)),this.Sn.getDocumentsMatchingQuery(e,t,_y.min())},e}(),yw=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.Fn=new Nm(by),this.kn=new Jb((function(e){return cv(e)}),lv),this.$n=_y.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new hw(this.On,this._n,this.persistence.getIndexManager()),this.Qe=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Fn)}))},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(e,t,n,r){return new yw(e,t,n,r)}function mw(e,t){return Jc(this,void 0,void 0,(function(){var n,r,i,o;return Zc(this,(function(a){switch(a.label){case 0:return n=vy(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new hw(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=Um(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var d=0,p=t;d<p.length;d++){var y=p[d];r.push(y.batchId);for(var v=0,m=y.mutations;v<m.length;v++){var g=m[v];a=a.add(g.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function gw(e,t){var n=vy(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r,i,o,a,s,u,c,l=t.batch.keys(),f=n.On.newChangeBuffer({trackRemovals:!0});return(r=n,i=e,o=t,a=f,s=o.batch,u=s.keys(),c=Jg.resolve(),u.forEach((function(e){c=c.next((function(){return a.getEntry(i,e)})).next((function(t){var n=o.docVersions.get(e);yy(null!==n),t.version.compareTo(n)<0&&(s.applyToRemoteDocument(t,o),t.isValidDocument()&&a.addEntry(t,o.commitVersion))}))})),c.next((function(){return r._n.removeMutationBatch(i,s)}))).next((function(){return f.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,l)}))}))}function bw(e){var t=vy(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function ww(e,t){var n=vy(e),r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];t.targetChanges.forEach((function(t,o){var s,u,c,l=i.get(o);if(l){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var f=t.resumeToken;if(f.approximateByteSize()>0){var h=l.withResumeToken(f,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,h),s=l,c=t,yy((u=h).resumeToken.approximateByteSize()>0),(0===s.resumeToken.approximateByteSize()||u.snapshotVersion.toMicroseconds()-s.snapshotVersion.toMicroseconds()>=3e8||c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size>0)&&a.push(n.qe.updateTargetData(e,h))}}}));var s=Om();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(function(e,t,n,r,i){var o=Um();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=Om();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(_y.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):ly("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(_y.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return Jg.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.Fn=i,e}))}function Ew(e,t){var n=vy(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function Sw(e,t){var n=vy(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,Jg.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new hb(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Fn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(e.targetId,e),n.kn.set(t,e.targetId)),e}))}function _w(e,t,n){return Jc(this,void 0,void 0,(function(){var r,i,o,a;return Zc(this,(function(s){switch(s.label){case 0:r=vy(e),i=r.Fn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!rb(a=s.sent()))throw a;return ly("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(i.target),[2]}}))}))}function Tw(e,t,n){var r=vy(e),i=_y.min(),o=Um();return r.persistence.runTransaction("Execute query","readonly",(function(e){return(a=r,s=e,u=Mv(t),c=vy(a),l=c.kn.get(u),void 0!==l?Jg.resolve(c.Fn.get(l)):c.qe.getTargetData(s,u)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:_y.min(),n?o:Um())})).next((function(e){return{documents:e,Bn:o}}));var a,s,u,c,l}))}function Iw(e,t){var n=vy(e),r=vy(n.qe),i=n.Fn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function kw(e){var t=vy(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return n=t.On,r=e,i=t.$n,o=vy(n),a=Om(),s=vb(i),u=rw(r),c=IDBKeyRange.lowerBound(s,!0),u.$t({index:Vg.readTimeIndex,range:c},(function(e,t){var n=pb(o.R,t);a=a.insert(n.key,n),s=t.readTime})).next((function(){return{wn:a,readTime:mb(s)}}));var n,r,i,o,a,s,u,c})).then((function(e){var n=e.wn,r=e.readTime;return t.$n=r,n}))}function Nw(e){return Jc(this,void 0,void 0,(function(){var t;return Zc(this,(function(n){return[2,(t=vy(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return t=rw(e),n=_y.min(),t.$t({index:Vg.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=mb(t.readTime)),r.done()})).next((function(){return n}));var t,n})).then((function(e){t.$n=e}))]}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cw=function(){function e(e){this.R=e,this.Kn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return Jg.resolve(this.Kn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Kn.set(t.id,{id:(n=t).id,version:n.version,createTime:ng(n.createTime)}),Jg.resolve()},e.prototype.getNamedQuery=function(e,t){return Jg.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,{name:(n=t).name,query:_b(n.bundledQuery),readTime:ng(n.readTime)}),Jg.resolve();var n},e}(),xw=function(){function e(){this.Wn=new Dm(Dw.Gn),this.zn=new Dm(Dw.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new Dw(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new Dw(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new zy(new Cy([])),r=new Dw(n,e),i=new Dw(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new zy(new Cy([])),n=new Dw(t,e),r=new Dw(t,e+1),i=Um();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new Dw(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),Dw=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return zy.comparator(e.key,t.key)||by(e.ns,t.ns)},e.Hn=function(e,t){return by(e.ns,t.ns)||zy.comparator(e.key,t.key)},e}(),Aw=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new Dm(Dw.Gn)}return e.prototype.checkEmpty=function(e){return Jg.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new lb(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new Dw(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return Jg.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return Jg.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return Jg.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return Jg.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return Jg.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new Dw(t,0),i=new Dw(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),Jg.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Dm(by);return t.forEach((function(e){var t=new Dw(e,0),i=new Dw(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),Jg.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;zy.isDocumentKey(i)||(i=i.child(""));var o=new Dw(new zy(i),0),a=new Dm(by);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),Jg.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;yy(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return Jg.forEach(t.mutations,(function(i){var o=new Dw(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new Dw(t,0),r=this.rs.firstAfterOrEqual(n);return Jg.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,Jg.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),Pw=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Nm(zy.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Jg.resolve(n?n.document.clone():av.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=Om();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():av.newInvalidDocument(e))})),Jg.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=Om(),i=new zy(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||Bv(t,c)&&(r=r.insert(c.key,c.clone()))}return Jg.resolve(r)},e.prototype.fs=function(e,t){return Jg.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new Ow(this)},e.prototype.getSize=function(e){return Jg.resolve(this.size)},e}(),Ow=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return Yc(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),Jg.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(Zb),Rw=function(){function e(e){this.persistence=e,this.ds=new Jb((function(e){return cv(e)}),lv),this.lastRemoteSnapshotVersion=_y.min(),this.highestTargetId=0,this.ws=0,this._s=new xw,this.targetCount=0,this.ys=qb.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),Jg.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return Jg.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return Jg.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Jg.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),Jg.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new qb(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,Jg.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),Jg.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,Jg.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Jg.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return Jg.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return Jg.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),Jg.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Jg.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),Jg.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return Jg.resolve(n)},e.prototype.containsKey=function(e,t){return Jg.resolve(this._s.containsKey(t))},e}(),Lw=function(){function e(e,t){var n,r=this;this.gs={},this.Ne=new oy(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new Rw(this),this.Ut=new Nb,this.Ue=(n=this.Ut,new Pw(n,(function(e){return r.referenceDelegate.ps(e)}))),this.R=new db(t),this.Qe=new Cw(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new Aw(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(e,t,n){var r=this;ly("MemoryPersistence","Starting transaction:",e);var i=new Mw(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return Jg.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),Mw=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return Yc(t,e),t}(Yg),Fw=function(){function e(e){this.persistence=e,this.As=new xw,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw py()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),Jg.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),Jg.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),Jg.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Jg.forEach(this.vs,(function(r){var i=zy.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return Jg.or([function(){return Jg.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),Uw=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(e,t){return"firestore_clients_"+e+"_"+t}function qw(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Bw(e,t){return"firestore_targets_"+e+"_"+t}Uw.UNAUTHENTICATED=new Uw(null),Uw.GOOGLE_CREDENTIALS=new Uw("google-credentials-uid"),Uw.FIRST_PARTY=new Uw("first-party-uid");var jw=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new sy(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(fy("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),zw=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new sy(i.error.code,i.error.message)),o?new e(t,i.state,r):(fy("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Kw=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=qm(),a=0;i&&a<r.activeTargetIds.length;++a)i=jy(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(fy("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Hw=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(fy("SharedClientState","Failed to parse online state: "+t),null)},e}(),Ww=function(){function e(){this.activeTargetIds=qm()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Qw=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Nm(by),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Vw(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.ks=this.ks.insert(this.Ns,new Ww),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Qs=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return Jc(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l,f=this;return Zc(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=h.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(Vw(this.persistenceKey,r)))&&(o=Kw.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)l=c[u],this.Fs(l);return this.$s=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Bw(this.persistenceKey,e));if(n){var r=zw.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Ks(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Ks()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(Bw(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return ly("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){ly("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){ly("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Fs=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(ly("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void fy("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Jc(t,void 0,void 0,(function(){var e,t,r,i,o,a;return Zc(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=oy.o;if(null!=e)try{var n=JSON.parse(e);yy("number"==typeof n),t=n}catch(r){fy("SharedClientState","Failed to read sequence number from WebStorage",r)}return t}(n.newValue))!==oy.o&&this.sequenceNumberHandler(a);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Ks=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new jw(this.currentUser,e,t,n),i=qw(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=qw(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=Bw(this.persistenceKey,e),i=new zw(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return Kw.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return jw.Vs(new Uw(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return zw.Vs(r,t)},e.prototype.js=function(e){return Hw.Vs(e)},e.prototype.ii=function(e){return Jc(this,void 0,void 0,(function(){return Zc(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(ly("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.ks.insert(e,t):this.ks.remove(e),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.ks=r}))},e.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=qm();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),Gw=function(){function e(){this.li=new Ww,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new Ww,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),$w=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),Yw=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){ly("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){ly("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),Xw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Jw=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),Zw=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return Yc(t,e),t.prototype.ki=function(e,t,n,r){return new Promise((function(i,o){var a=new iy;a.listenOnce(Jp.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Xp.NO_ERROR:var t=a.getResponseJson();ly("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Xp.TIMEOUT:ly("Connection",'RPC "'+e+'" timed out'),o(new sy(ay.DEADLINE_EXCEEDED,"Request time out"));break;case Xp.HTTP_ERROR:var n=a.getStatus();if(ly("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=(u=r.status,c=u.toLowerCase().replace(/_/g,"-"),Object.values(ay).indexOf(c)>=0?c:ay.UNKNOWN);o(new sy(s,r.message))}else o(new sy(ay.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new sy(ay.UNAVAILABLE,"Connection failed."));break;default:py()}}finally{ly("Connection",'RPC "'+e+'" completed.')}var u,c}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.Oi=function(e,t){var n,r,i=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=new qp,a=jh(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new ny({})),this.Fi(s.initMessageHeaders,t),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(al())||"object"==typeof navigator&&"ReactNative"===navigator.product||al().indexOf("Electron/")>=0||((r=al()).indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0)||al().indexOf("MSAppHost/")>=0||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(s.httpHeadersOverwriteParam="$httpHeaders");var u=i.join("");ly("Connection","Creating WebChannel: "+u,s);var c=o.createWebChannel(u,s),l=!1,f=!1,h=new Jw({Ei:function(e){f?ly("Connection","Not sending because WebChannel is closed:",e):(l||(ly("Connection","Opening WebChannel transport."),c.open(),l=!0),ly("Connection","WebChannel sending:",e),c.send(e))},Ti:function(){return c.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(t){setTimeout((function(){throw t}),0)}}))};return d(c,ry.EventType.OPEN,(function(){f||ly("Connection","WebChannel transport opened.")})),d(c,ry.EventType.CLOSE,(function(){f||(f=!0,ly("Connection","WebChannel transport closed"),h.Vi())})),d(c,ry.EventType.ERROR,(function(e){f||(f=!0,hy("Connection","WebChannel transport errored:",e),h.Vi(new sy(ay.UNAVAILABLE,"The operation could not be completed")))})),d(c,ry.EventType.MESSAGE,(function(e){var t;if(!f){var n=e.data[0];yy(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){ly("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=wm[e];if(void 0!==t)return km(t)}(o),s=i.message;void 0===a&&(a=ay.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),f=!0,h.Vi(new sy(a,s)),c.close()}else ly("Connection","WebChannel received:",n),h.Si(n)}})),d(a,Zp.STAT_EVENT,(function(e){e.stat===ey?ly("Connection","Detected buffering proxy"):e.stat===ty&&ly("Connection","Detected no buffering proxy")})),setTimeout((function(){h.Pi()}),0),h},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);ly("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(e,i,o,n).then((function(e){return ly("RestConnection","Received: ",e),e}),(function(t){throw hy("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.Fi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.6.5",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=Xw[e];return this.Di+"/v1/"+t+":"+n},e}());
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(){return"undefined"!=typeof window?window:null}function tE(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(e){return new Jm(e,!0)}var rE=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Ki=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&ly("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Qi=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),iE=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new rE(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return Jc(this,void 0,void 0,(function(){return Zc(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return Jc(this,void 0,void 0,(function(){return Zc(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return Jc(this,void 0,void 0,(function(){return Zc(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===ay.RESOURCE_EXHAUSTED?(fy(t.toString()),fy("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):t&&t.code===ay.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new sy(ay.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return Jc(e,void 0,void 0,(function(){return Zc(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return ly("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(ly("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),oE=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return Yc(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n,r;if("targetChange"in t){t.targetChange;var i="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:py(),o=t.targetChange.targetIds||[],a=function(e,t){return e.I?(yy(void 0===t||"string"==typeof t),Py.fromBase64String(t||"")):(yy(void 0===t||t instanceof Uint8Array),Py.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=(u=t.targetChange.cause)&&function(e){var t=void 0===e.code?ay.UNKNOWN:km(e.code);return new sy(t,e.message||"")}(u);n=new Hm(i,o,a,s||null)}else if("documentChange"in t){t.documentChange,(i=t.documentChange).document,i.document.name,i.document.updateTime,o=ag(e,i.document.name),a=ng(i.document.updateTime);var u=new iv({mapValue:{fields:i.document.fields}}),c=(s=av.newFoundDocument(o,a,u),i.targetIds||[]),l=i.removedTargetIds||[];n=new zm(c,l,s.key,s)}else if("documentDelete"in t)t.documentDelete,(i=t.documentDelete).document,o=ag(e,i.document),a=i.readTime?ng(i.readTime):_y.min(),u=av.newNoDocument(o,a),s=i.removedTargetIds||[],n=new zm([],s,u.key,u);else if("documentRemove"in t)t.documentRemove,(i=t.documentRemove).document,o=ag(e,i.document),a=i.removedTargetIds||[],n=new zm([],a,o,null);else{if(!("filter"in t))return py();t.filter;var f=t.filter;f.targetId,i=f.count||0,o=new Tm(i),a=f.targetId,n=new Km(a,o)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return _y.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?_y.min():t.readTime?ng(t.readTime):_y.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t,n,r,i,o={};o.database=cg(this.R),o.addTarget=(t=this.R,i=(n=e).target,(r=fv(i)?{documents:pg(t,i)}:{query:yg(t,i)}).targetId=n.targetId,n.resumeToken.approximateByteSize()>0?r.resumeToken=eg(t,n.resumeToken):n.snapshotVersion.compareTo(_y.min())>0&&(r.readTime=Zm(t,n.snapshotVersion.toTimestamp())),r);var a=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return py()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);a&&(o.labels=a),this.cr(o)},t.prototype.yr=function(e){var t={};t.database=cg(this.R),t.removeTarget=e,this.cr(t)},t}(iE),aE=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return Yc(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(yy(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=(r=e.writeResults,i=e.commitTime,r&&r.length>0?(yy(void 0!==i),r.map((function(e){return n=i,(r=(t=e).updateTime?ng(t.updateTime):ng(n)).isEqual(_y.min())&&(r=ng(n)),new am(r,t.transformResults||[]);var t,n,r}))):[]),n=ng(e.commitTime);return this.listener.Tr(n,t)}var r,i;return yy(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=cg(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return hg(t.R,e)}))};this.cr(n)},t}(iE),sE=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return Yc(t,e),t.prototype.br=function(){if(this.Rr)throw new sy(ay.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ay.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new sy(ay.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ay.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new sy(ay.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),uE=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.Fr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(fy(t),this.Vr=!1):ly("OnlineStateTracker",t)},e.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),cE=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return Jc(o,void 0,void 0,(function(){return Zc(this,(function(e){switch(e.label){case 0:return gE(this)?(ly("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return Jc(this,void 0,void 0,(function(){var t;return Zc(this,(function(n){switch(n.label){case 0:return(t=vy(e)).Or.add(4),[4,fE(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,lE(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new uE(n,r)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(e){return Jc(this,void 0,void 0,(function(){var t,n;return Zc(this,(function(r){switch(r.label){case 0:if(!gE(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function fE(e){return Jc(this,void 0,void 0,(function(){var t,n;return Zc(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function hE(e,t){var n=vy(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),mE(n)?vE(n):OE(n).er()&&pE(n,t))}function dE(e,t){var n=vy(e),r=OE(n);n.$r.delete(t),r.er()&&yE(n,t),0===n.$r.size&&(r.er()?r.ir():gE(n)&&n.Br.set("Unknown"))}function pE(e,t){e.qr.U(t.targetId),OE(e).mr(t)}function yE(e,t){e.qr.U(t),OE(e).yr(t)}function vE(e){e.qr=new Qm({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),OE(e).start(),e.Br.Sr()}function mE(e){return gE(e)&&!OE(e).tr()&&e.$r.size>0}function gE(e){return 0===vy(e).Or.size}function bE(e){e.qr=void 0}function wE(e){return Jc(this,void 0,void 0,(function(){return Zc(this,(function(t){return e.$r.forEach((function(t,n){pE(e,t)})),[2]}))}))}function EE(e,t){return Jc(this,void 0,void 0,(function(){return Zc(this,(function(n){return bE(e),mE(e)?(e.Br.Nr(t),vE(e)):e.Br.set("Unknown"),[2]}))}))}function SE(e,t,n){return Jc(this,void 0,void 0,(function(){var r,i,o;return Zc(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof Hm&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return Jc(this,void 0,void 0,(function(){var n,r,i,o;return Zc(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.$r.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),ly("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,_E(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof zm?e.qr.X(t):t instanceof Km?e.qr.rt(t):e.qr.et(t),n.isEqual(_y.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,bw(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,(s=e,u=n,c=s.qr.ut(u),c.targetChanges.forEach((function(e,t){if(e.resumeToken.approximateByteSize()>0){var n=s.$r.get(t);n&&s.$r.set(t,n.withResumeToken(e.resumeToken,u))}})),c.targetMismatches.forEach((function(e){var t=s.$r.get(e);if(t){s.$r.set(e,t.withResumeToken(Py.EMPTY_BYTE_STRING,t.snapshotVersion)),yE(s,e);var n=new hb(t.target,e,1,t.sequenceNumber);pE(s,n)}})),s.remoteSyncer.applyRemoteEvent(c))]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return ly("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,_E(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}var s,u,c}))}))}function _E(e,t,n){return Jc(this,void 0,void 0,(function(){var r=this;return Zc(this,(function(i){switch(i.label){case 0:if(!rb(t))throw t;return e.Or.add(1),[4,fE(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return bw(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return Jc(r,void 0,void 0,(function(){return Zc(this,(function(t){switch(t.label){case 0:return ly("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,lE(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function TE(e,t){return t().catch((function(n){return _E(e,n,t)}))}function IE(e){return Jc(this,void 0,void 0,(function(){var t,n,r,i,o;return Zc(this,(function(a){switch(a.label){case 0:t=vy(e),n=RE(t),r=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,a.label=1;case 1:if(!(gE(s=t)&&s.kr.length<10))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Ew(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.kr.push(t);var n=RE(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,_E(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return kE(t)&&NE(t),[2]}var s}))}))}function kE(e){return gE(e)&&!RE(e).tr()&&e.kr.length>0}function NE(e){RE(e).start()}function CE(e){return Jc(this,void 0,void 0,(function(){return Zc(this,(function(t){return RE(e).Ar(),[2]}))}))}function xE(e){return Jc(this,void 0,void 0,(function(){var t,n,r,i;return Zc(this,(function(o){for(t=RE(e),n=0,r=e.kr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function DE(e,t,n){return Jc(this,void 0,void 0,(function(){var r,i;return Zc(this,(function(o){switch(o.label){case 0:return r=e.kr.shift(),i=fb.from(r,t,n),[4,TE(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,IE(e)];case 2:return o.sent(),[2]}}))}))}function AE(e,t){return Jc(this,void 0,void 0,(function(){return Zc(this,(function(n){switch(n.label){case 0:return t&&RE(e).pr?[4,function(e,t){return Jc(this,void 0,void 0,(function(){var n,r;return Zc(this,(function(i){switch(i.label){case 0:return Im(r=t.code)&&r!==ay.ABORTED?(n=e.kr.shift(),RE(e).sr(),[4,TE(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,IE(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return kE(e)&&NE(e),[2]}}))}))}function PE(e,t){return Jc(this,void 0,void 0,(function(){var n;return Zc(this,(function(r){switch(r.label){case 0:return n=vy(e),t?(n.Or.delete(2),[4,lE(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,fE(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function OE(e){var t,n,r,i,o=this;return e.Ur||(e.Ur=(t=e.datastore,n=e.asyncQueue,r={Ii:wE.bind(null,e),Ri:EE.bind(null,e),_r:SE.bind(null,e)},(i=vy(t)).br(),new oE(n,i.Hi,i.credentials,i.R,r)),e.Mr.push((function(t){return Jc(o,void 0,void 0,(function(){return Zc(this,(function(n){switch(n.label){case 0:return t?(e.Ur.sr(),mE(e)?vE(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:n.sent(),bE(e),n.label=3;case 3:return[2]}}))}))}))),e.Ur}function RE(e){var t,n,r,i,o=this;return e.Qr||(e.Qr=(t=e.datastore,n=e.asyncQueue,r={Ii:CE.bind(null,e),Ri:AE.bind(null,e),Ir:xE.bind(null,e),Tr:DE.bind(null,e)},(i=vy(t)).br(),new aE(n,i.Hi,i.credentials,i.R,r)),e.Mr.push((function(t){return Jc(o,void 0,void 0,(function(){return Zc(this,(function(n){switch(n.label){case 0:return t?(e.Qr.sr(),[4,IE(e)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,e.Qr.stop()];case 3:n.sent(),e.kr.length>0&&(ly("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),n.label=4;case 4:return[2]}}))}))}))),e.Qr}var LE=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Xg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new sy(ay.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function ME(e,t){if(fy("AsyncQueue",t+": "+e),rb(e))return new sy(ay.UNAVAILABLE,t+": "+e);throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FE=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||zy.comparator(t.key,n.key)}:function(e,t){return zy.comparator(e.key,t.key)},this.keyedMap=Lm(),this.sortedSet=new Nm(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),UE=function(){function e(){this.Kr=new Nm(zy.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Kr.get(t);n?0!==e.type&&3===n.type?this.Kr=this.Kr.insert(t,e):3===e.type&&1!==n.type?this.Kr=this.Kr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Kr=this.Kr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Kr=this.Kr.remove(t):1===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):py():this.Kr=this.Kr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Kr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),VE=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,FE.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),qE=function(){this.Wr=void 0,this.listeners=[]},BE=function(){this.queries=new Jb((function(e){return Vv(e)}),Uv),this.onlineState="Unknown",this.Gr=new Set};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(e,t){return Jc(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Zc(this,(function(c){switch(c.label){case 0:if(n=vy(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new qE),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=ME(s,"Initialization of query '"+qv(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&WE(n),[2]}}))}))}function zE(e,t){return Jc(this,void 0,void 0,(function(){var n,r,i,o,a;return Zc(this,(function(s){return n=vy(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function KE(e,t){for(var n=vy(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&WE(n)}function HE(e,t,n){var r=vy(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function WE(e){e.Gr.forEach((function(e){e.next()}))}var QE=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new VE(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=VE.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),GE=function(e){this.key=e},$E=function(e){this.key=e},YE=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=Um(),this.mutatedKeys=Um(),this.lo=jv(e),this.fo=new FE(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new UE,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Dv(this.query)&&i.size===this.query.limit?i.last():null,c=Av(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Bv(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.yo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.lo(f,u)>0||c&&n.lo(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(a=a.add(f),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),Dv(this.query)||Av(this.query))for(;a.size>this.query.limit;){var l=Dv(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return n=e.type,i=t.type,(o=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return py()}})(n)-o(i)||r.lo(e.doc,t.doc);var n,i,o})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new VE(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new UE,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=Um(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new $E(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new GE(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Um();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return VE.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),XE=function(e,t,n){this.query=e,this.targetId=t,this.view=n},JE=function(e){this.key=e,this.bo=!1},ZE=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Jb((function(e){return Vv(e)}),Uv),this.Vo=new Map,this.So=new Set,this.Do=new Nm(zy.comparator),this.Co=new Map,this.No=new xw,this.xo={},this.Fo=new Map,this.ko=qb.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(e,t){return Jc(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Zc(this,(function(u){switch(u.label){case 0:return n=xS(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Sw(n.localStore,Mv(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,tS(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&hE(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function tS(e,t,n,r){return Jc(this,void 0,void 0,(function(){var i,o,a,s,u,c;return Zc(this,(function(l){switch(l.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return Jc(this,void 0,void 0,(function(){var i,o,a;return Zc(this,(function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,Tw(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(pS(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,Tw(e.localStore,t,!0)];case 1:return i=l.sent(),o=new YE(t,i.Bn),a=o._o(i.documents),s=jm.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),pS(e,n,u.To),c=new XE(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}}))}))}function nS(e,t){return Jc(this,void 0,void 0,(function(){var n,r,i;return Zc(this,(function(o){switch(o.label){case 0:return n=vy(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!Uv(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,_w(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),dE(n.remoteStore,r.targetId),hS(n,r.targetId)})).catch(Hb)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return hS(n,r.targetId),[4,_w(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function rS(e,t,n){return Jc(this,void 0,void 0,(function(){var r,i,o,a;return Zc(this,(function(s){switch(s.label){case 0:r=DS(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,(u=r.localStore,c=t,f=vy(u),h=Sy.now(),d=c.reduce((function(e,t){return e.add(t.key)}),Um()),f.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return f.Mn.pn(e,d).next((function(t){l=t;for(var n=[],r=0,i=c;r<i.length;r++){var o=i[r],a=hm(o,l.get(o.key));null!=a&&n.push(new vm(o.key,a,ov(a.value.mapValue),sm.exists(!0)))}return f._n.addMutationBatch(e,h,n,c)}))})).then((function(e){return e.applyToLocalDocumentSet(l),{batchId:e.batchId,changes:l}})))];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new Nm(by)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,mS(r,i.changes)];case 3:return s.sent(),[4,IE(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=ME(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}var u,c,l,f,h,d}))}))}function iS(e,t){return Jc(this,void 0,void 0,(function(){var n,r;return Zc(this,(function(i){switch(i.label){case 0:n=vy(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,ww(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(yy(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?yy(r.bo):e.removedDocuments.size>0&&(yy(r.bo),r.bo=!1))})),[4,mS(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Hb(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function oS(e,t,n){var r=vy(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=vy(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&WE(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function aS(e,t,n){return Jc(this,void 0,void 0,(function(){var r,i,o,a,s,u;return Zc(this,(function(c){switch(c.label){case 0:return(r=vy(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new Nm(zy.comparator)).insert(o,av.newNoDocument(o,_y.min())),s=Um().add(o),u=new Bm(_y.min(),new Map,new Dm(by),a,s),[4,iS(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),vS(r),[3,4];case 2:return[4,_w(r.localStore,t,!1).then((function(){return hS(r,t,n)})).catch(Hb)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function sS(e,t){return Jc(this,void 0,void 0,(function(){var n,r,i;return Zc(this,(function(o){switch(o.label){case 0:n=vy(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,gw(n.localStore,t)];case 2:return i=o.sent(),fS(n,r,null),lS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,mS(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Hb(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function uS(e,t,n){return Jc(this,void 0,void 0,(function(){var r,i;return Zc(this,(function(o){switch(o.label){case 0:r=vy(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(a=r.localStore,s=t,u=vy(a),u.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var t;return u._n.lookupMutationBatch(e,s).next((function(n){return yy(null!==n),t=n.keys(),u._n.removeMutationBatch(e,n)})).next((function(){return u._n.performConsistencyCheck(e)})).next((function(){return u.Mn.pn(e,t)}))})))];case 2:return i=o.sent(),fS(r,t,n),lS(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,mS(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Hb(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}var a,s,u}))}))}function cS(e,t){return Jc(this,void 0,void 0,(function(){var n,r,i,o,a;return Zc(this,(function(s){switch(s.label){case 0:gE((n=vy(e)).remoteStore)||ly("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,(u=n.localStore,c=vy(u),c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return c._n.getHighestUnacknowledgedBatchId(e)})))];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.Fo.get(r)||[]).push(t),n.Fo.set(r,i),[3,4]);case 3:return o=s.sent(),a=ME(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}var u,c}))}))}function lS(e,t){(e.Fo.get(t)||[]).forEach((function(e){e.resolve()})),e.Fo.delete(t)}function fS(e,t,n){var r=vy(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function hS(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||dS(e,t)}))}function dS(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(dE(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),vS(e))}function pS(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof GE?(e.No.addReference(o.key,t),yS(e,o)):o instanceof $E?(ly("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||dS(e,o.key)):py()}}function yS(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(ly("SyncEngine","New document in limbo: "+n),e.So.add(r),vS(e))}function vS(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new zy(Cy.fromString(t)),r=e.ko.next();e.Co.set(r,new JE(n)),e.Do=e.Do.insert(n,r),hE(e.remoteStore,new hb(Mv(xv(n.path)),r,2,oy.o))}}function mS(e,t,n){return Jc(this,void 0,void 0,(function(){var r,i,o,a;return Zc(this,(function(s){switch(s.label){case 0:return r=vy(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.Oo(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=dw.Pn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return Jc(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return Zc(this,(function(f){switch(f.label){case 0:n=vy(e),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Jg.forEach(t,(function(t){return Jg.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return Jg.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return f.sent(),[3,4];case 3:if(!rb(r=f.sent()))throw r;return ly("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.Fn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function gS(e,t){return Jc(this,void 0,void 0,(function(){var n,r;return Zc(this,(function(i){switch(i.label){case 0:return(n=vy(e)).currentUser.isEqual(t)?[3,3]:(ly("SyncEngine","User change. New user:",t.toKey()),[4,mw(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,(o=n).Fo.forEach((function(e){e.forEach((function(e){e.reject(new sy(ay.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),o.Fo.clear(),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,mS(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}var o}))}))}function bS(e,t){var n=vy(e),r=n.Co.get(t);if(r&&r.bo)return Um().add(r.key);var i=Um(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function wS(e,t){return Jc(this,void 0,void 0,(function(){var n,r,i;return Zc(this,(function(o){switch(o.label){case 0:return[4,Tw((n=vy(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&pS(n,t.targetId,i.To),i)]}}))}))}function ES(e){return Jc(this,void 0,void 0,(function(){var t;return Zc(this,(function(n){return[2,kw((t=vy(e)).localStore).then((function(e){return mS(t,e)}))]}))}))}function SS(e,t,n,r){return Jc(this,void 0,void 0,(function(){var i,o;return Zc(this,(function(a){switch(a.label){case 0:return[4,(s=(i=vy(e)).localStore,u=t,c=vy(s),l=vy(c._n),c.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return l.jt(e,u).next((function(t){return t?c.Mn.pn(e,t):Jg.resolve(null)}))})))];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,IE(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(fS(i,t,r||null),lS(i,t),function(e,t){vy(vy(e)._n).Gt(t)}(i.localStore,t)):py(),a.label=4;case 4:return[4,mS(i,o)];case 5:return a.sent(),[3,7];case 6:ly("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}var s,u,c,l}))}))}function _S(e,t){return Jc(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return Zc(this,(function(l){switch(l.label){case 0:return xS(n=vy(e)),DS(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,TS(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,PE(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],hE(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return hS(n,t),_w(n.localStore,t,!0)})),dE(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,TS(n,u)];case 5:return l.sent(),(f=vy(n)).Co.forEach((function(e,t){dE(f.remoteStore,t)})),f.No.ts(),f.Co=new Map,f.Do=new Nm(zy.comparator),n.$o=!1,[4,PE(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}var f}))}))}function TS(e,t,n){return Jc(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,h,d,p,y;return Zc(this,(function(v){switch(v.label){case 0:n=vy(e),r=[],i=[],o=0,a=t,v.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,Sw(n.localStore,Mv(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),l=0,f=c,v.label=3;case 3:return l<f.length?(h=f[l],d=n.Po.get(h),[4,wS(n,d)]):[3,6];case 4:(p=v.sent()).snapshot&&i.push(p.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Iw(n.localStore,s)];case 8:return y=v.sent(),[4,Sw(n.localStore,y)];case 9:return u=v.sent(),[4,tS(n,IS(y),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function IS(e){return Cv(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function kS(e){var t=vy(e);return vy(vy(t.localStore).persistence).fn()}function NS(e,t,n,r){return Jc(this,void 0,void 0,(function(){var i,o,a;return Zc(this,(function(s){switch(s.label){case 0:return(i=vy(e)).$o?(ly("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,kw(i.localStore)];case 3:return o=s.sent(),a=Bm.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,mS(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,_w(i.localStore,t,!0)];case 6:return s.sent(),hS(i,t,r),[3,8];case 7:py(),s.label=8;case 8:return[2]}}))}))}function CS(e,t,n){return Jc(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f,h;return Zc(this,(function(d){switch(d.label){case 0:if(!(r=xS(e)).$o)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(ly("SyncEngine","Adding an already active target "+a),[3,5]):[4,Iw(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,Sw(r.localStore,s)];case 3:return u=d.sent(),[4,tS(r,IS(s),u.targetId,!1)];case 4:d.sent(),hE(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return Zc(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,_w(r.localStore,e,!1).then((function(){dE(r.remoteStore,e),hS(r,e)})).catch(Hb)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,f=n,d.label=7;case 7:return l<f.length?(h=f[l],[5,c(h)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function xS(e){var t=vy(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=iS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bS.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=aS.bind(null,t),t.vo._r=KE.bind(null,t.eventManager),t.vo.Mo=HE.bind(null,t.eventManager),t}function DS(e){var t=vy(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=uS.bind(null,t),t}var AS=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return Jc(this,void 0,void 0,(function(){return Zc(this,(function(t){switch(t.label){case 0:return this.R=nE(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Qo(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Qo=function(e){return vw(this.persistence,new pw,e.initialUser,this.R)},e.prototype.qo=function(e){return new Lw(Fw.bs,this.R)},e.prototype.Bo=function(e){return new Gw},e.prototype.terminate=function(){return Jc(this,void 0,void 0,(function(){return Zc(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),PS=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Ko=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Yc(t,e),t.prototype.initialize=function(t){return Jc(this,void 0,void 0,(function(){return Zc(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,Nw(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,t)];case 3:return n.sent(),[4,DS(this.Ko.syncEngine)];case 4:return n.sent(),[4,IE(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},t.prototype.Qo=function(e){return vw(this.persistence,new pw,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Gb(t,e.asyncQueue)},t.prototype.qo=function(e){var t=fw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Pb.withCacheSize(this.cacheSizeBytes):Pb.DEFAULT;return new uw(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,eE(),tE(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new Gw},t}(AS),OS=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Ko=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Yc(t,e),t.prototype.initialize=function(t){return Jc(this,void 0,void 0,(function(){var n,r=this;return Zc(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof Qw?(this.sharedClientState.syncEngine={ui:SS.bind(null,n),ai:NS.bind(null,n),hi:CS.bind(null,n),fn:kS.bind(null,n),ci:ES.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return Jc(r,void 0,void 0,(function(){return Zc(this,(function(t){switch(t.label){case 0:return[4,_S(this.Ko.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=eE();if(!Qw.yt(t))throw new sy(ay.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=fw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Qw(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(PS),RS=function(){function e(){}return e.prototype.initialize=function(e,t){return Jc(this,void 0,void 0,(function(){var n=this;return Zc(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return oS(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=gS.bind(null,this.syncEngine),[4,PE(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new BE},e.prototype.createDatastore=function(e){var t,n,r=nE(e.databaseInfo.databaseId),i=(t=e.databaseInfo,new Zw(t));return n=e.credentials,new sE(n,i,r)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return oS(a.syncEngine,e,0)},o=Yw.yt()?new Yw:new $w,new cE(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return n=this.localStore,r=this.remoteStore,i=this.eventManager,o=this.sharedClientState,a=e.initialUser,s=e.maxConcurrentLimboResolutions,u=t,c=new ZE(n,r,i,o,a,s),u&&(c.$o=!0),c;var n,r,i,o,a,s,u,c},e.prototype.terminate=function(){return function(e){return Jc(this,void 0,void 0,(function(){var t;return Zc(this,(function(n){switch(n.label){case 0:return t=vy(e),ly("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,fE(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}(),LS=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),MS=function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return Jc(this,void 0,void 0,(function(){var t,n=this;return Zc(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new sy(ay.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return Jc(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Zc(this,(function(u){switch(u.label){case 0:return n=vy(e),r=cg(n.R)+"/documents",i={documents:t.map((function(e){return og(n.R,e)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t,r,i=(t=n.R,"found"in(r=e)?function(e,t){yy(!!t.found),t.found.name,t.found.updateTime;var n=ag(e,t.found.name),r=ng(t.found.updateTime),i=new iv({mapValue:{fields:t.found.fields}});return av.newFoundDocument(n,r,i)}(t,r):"missing"in r?function(e,t){yy(!!t.missing),yy(!!t.readTime);var n=ag(e,t.missing),r=ng(t.readTime);return av.newNoDocument(n,r)}(t,r):py());a.set(i.key.toString(),i)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());yy(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new Sm(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return Jc(this,void 0,void 0,(function(){var e,t=this;return Zc(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=zy.fromPath(n);t.mutations.push(new _m(r,t.precondition(r)))})),[4,function(e,t){return Jc(this,void 0,void 0,(function(){var n,r,i;return Zc(this,(function(o){switch(o.label){case 0:return n=vy(e),r=cg(n.R)+"/documents",i={writes:t.map((function(e){return hg(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw py();t=_y.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new sy(ay.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?sm.updateTime(t):sm.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(_y.min()))throw new sy(ay.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return sm.updateTime(t)}return sm.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}(),FS=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new rE(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return Jc(e,void 0,void 0,(function(){var e,t,n=this;return Zc(this,(function(r){return e=new MS(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!qy(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Im(t)}return!1},e}(),US=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Uw.UNAUTHENTICATED,this.clientId=gy.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return Jc(r,void 0,void 0,(function(){return Zc(this,(function(t){switch(t.label){case 0:return ly("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return Jc(this,void 0,void 0,(function(){return Zc(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new sy(ay.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Xg;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Jc(e,void 0,void 0,(function(){var e,n;return Zc(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=ME(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function VS(e,t){return Jc(this,void 0,void 0,(function(){var n,r,i=this;return Zc(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),ly("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(e){return Jc(i,void 0,void 0,(function(){return Zc(this,(function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,mw(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function qS(e,t){return Jc(this,void 0,void 0,(function(){var n,r;return Zc(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,BS(e)];case 1:return n=i.sent(),ly("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return Jc(this,void 0,void 0,(function(){var n,r;return Zc(this,(function(i){switch(i.label){case 0:return(n=vy(e)).asyncQueue.verifyOperationInProgress(),ly("RemoteStore","RemoteStore received new credentials"),r=gE(n),n.Or.add(3),[4,fE(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,lE(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function BS(e){return Jc(this,void 0,void 0,(function(){return Zc(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(ly("FirestoreClient","Using default OfflineComponentProvider"),[4,VS(e,new AS)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function jS(e){return Jc(this,void 0,void 0,(function(){return Zc(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(ly("FirestoreClient","Using default OnlineComponentProvider"),[4,qS(e,new RS)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function zS(e){return BS(e).then((function(e){return e.persistence}))}function KS(e){return BS(e).then((function(e){return e.localStore}))}function HS(e){return jS(e).then((function(e){return e.remoteStore}))}function WS(e){return jS(e).then((function(e){return e.syncEngine}))}function QS(e){return Jc(this,void 0,void 0,(function(){var t,n;return Zc(this,(function(r){switch(r.label){case 0:return[4,jS(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=eS.bind(null,t.syncEngine),n.onUnlisten=nS.bind(null,t.syncEngine),n)]}}))}))}function GS(e,t,n){var r=this;void 0===n&&(n={});var i=new Xg;return e.asyncQueue.enqueueAndForget((function(){return Jc(r,void 0,void 0,(function(){var r;return Zc(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new LS({next:function(o){t.enqueueAndForget((function(){return zE(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new sy(ay.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new sy(ay.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new QE(xv(n.path),o,{includeMetadataChanges:!0,so:!0});return jE(e,a)},[4,QS(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function $S(e,t,n){var r=this;void 0===n&&(n={});var i=new Xg;return e.asyncQueue.enqueueAndForget((function(){return Jc(r,void 0,void 0,(function(){var r;return Zc(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new LS({next:function(n){t.enqueueAndForget((function(){return zE(e,a)})),n.fromCache&&"server"===r.source?i.reject(new sy(ay.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new QE(n,o,{includeMetadataChanges:!0,so:!0});return jE(e,a)},[4,QS(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var YS=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},XS=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),JS=new Map,ZS=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},e_=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(Uw.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),t_=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),n_=function(){function e(e){var t=this;this.currentUser=Uw.UNAUTHENTICATED,this.oc=new Xg,this.cc=0,this.changeListener=function(){return Promise.resolve()},this.uc=!1,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.ac=function(){t.cc++,t.currentUser=t.hc(),t.oc.resolve(),t.uc&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){ly("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.lc(),t.auth.addAuthTokenListener(t.ac)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):t.uc&&(ly("FirebaseCredentialsProvider","Auth not yet detected"),t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)})))}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(ly("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(yy("string"==typeof n.accessToken),new ZS(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){this.uc=!0,this.asyncQueue=e,this.changeListener=t},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.ac),this.changeListener=function(){return Promise.resolve()}},e.prototype.hc=function(){var e=this.auth&&this.auth.getUid();return yy(null===e||"string"==typeof e),new Uw(e)},e.prototype.lc=function(){var e=this;this.uc&&(this.uc=!1,this.asyncQueue.enqueueRetryable((function(){return Jc(e,void 0,void 0,(function(){return Zc(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,this.changeListener(this.currentUser)];case 2:return e.sent(),this.uc=!0,[2]}}))}))})))},e}(),r_=function(){function e(e,t,n){this.fc=e,this.dc=t,this.wc=n,this.type="FirstParty",this.user=Uw.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.dc},t=this.fc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.wc&&(e["X-Goog-Iam-Authorization-Token"]=this.wc),e},enumerable:!1,configurable:!0}),e}(),i_=function(){function e(e,t,n){this.fc=e,this.dc=t,this.wc=n}return e.prototype.getToken=function(){return Promise.resolve(new r_(this.fc,this.dc,this.wc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(Uw.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(e,t,n){if(!n)throw new sy(ay.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function a_(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new sy(ay.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function s_(e,t,n,r){if(!0===t&&!0===r)throw new sy(ay.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function u_(e){if(!zy.isDocumentKey(e))throw new sy(ay.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function c_(e){if(zy.isDocumentKey(e))throw new sy(ay.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function l_(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":py()}function f_(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new sy(ay.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=l_(e);throw new sy(ay.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function h_(e,t){if(t<=0)throw new sy(ay.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var d_=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new sy(ay.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new sy(ay.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,s_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),p_=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d_({}),this._settingsFrozen=!1,e instanceof XS?(this._databaseId=e,this._credentials=new e_):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new sy(ay.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new XS(e.options.projectId)}(e),this._credentials=new n_(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new sy(ay.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new sy(ay.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d_(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new e_;switch(e.type){case"gapi":var t=e.client;return yy(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new i_(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new sy(ay.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=JS.get(this))&&(ly("ComponentProvider","Removing Datastore"),JS.delete(this),e.terminate()),Promise.resolve();var e},e}(),y_=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new m_(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),v_=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),m_=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,xv(r))||this)._path=r,i.type="collection",i}return Yc(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new y_(this.firestore,null,new zy(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(v_);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=vl(e),o_("collection","path",t),e instanceof p_)return c_(n=Cy.fromString.apply(Cy,nl([t],r))),new m_(e,null,n);if(!(e instanceof y_||e instanceof m_))throw new sy(ay.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return c_(n=Cy.fromString.apply(Cy,nl([e.path],r)).child(Cy.fromString(t))),new m_(e.firestore,null,n)}function b_(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=vl(e),1===arguments.length&&(t=gy.u()),o_("doc","path",t),e instanceof p_)return u_(n=Cy.fromString.apply(Cy,nl([t],r))),new y_(e,null,new zy(n));if(!(e instanceof y_||e instanceof m_))throw new sy(ay.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return u_(n=e._path.child(Cy.fromString.apply(Cy,nl([t],r)))),new y_(e.firestore,e instanceof m_?e.converter:null,new zy(n))}function w_(e,t){return e=vl(e),t=vl(t),(e instanceof y_||e instanceof m_)&&(t instanceof y_||t instanceof m_)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function E_(e,t){return e=vl(e),t=vl(t),e instanceof v_&&t instanceof v_&&e.firestore===t.firestore&&Uv(e._query,t._query)&&e.converter===t.converter}var S_=function(){function e(){var e=this;this._c=Promise.resolve(),this.mc=[],this.yc=!1,this.gc=[],this.Ec=null,this.Tc=!1,this.Ic=[],this.Zi=new rE(this,"async_queue_retry"),this.Ac=function(){var t=tE();t&&ly("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=tE();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ac)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this.yc},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Rc(),this.bc(e)},e.prototype.enterRestrictedMode=function(){if(!this.yc){this.yc=!0;var e=tE();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ac)}},e.prototype.enqueue=function(e){return this.Rc(),this.yc?new Promise((function(e){})):this.bc(e)},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.mc.push(e),t.vc()}))},e.prototype.vc=function(){return Jc(this,void 0,void 0,(function(){var e,t=this;return Zc(this,(function(n){switch(n.label){case 0:if(0===this.mc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.mc[0]()];case 2:return n.sent(),this.mc.shift(),this.Zi.reset(),[3,4];case 3:if(!rb(e=n.sent()))throw e;return ly("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.mc.length>0&&this.Zi.ji((function(){return t.vc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.bc=function(e){var t=this,n=this._c.then((function(){return t.Tc=!0,e().catch((function(e){throw t.Ec=e,t.Tc=!1,fy("INTERNAL UNHANDLED ERROR: ",(r=(n=e).message||"",n.stack&&(r=n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack),r)),e;var n,r})).then((function(e){return t.Tc=!1,e}))}));return this._c=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Rc(),this.Ic.indexOf(e)>-1&&(t=0);var i=LE.createAndSchedule(this,e,t,n,(function(e){return r.Pc(e)}));return this.gc.push(i),i},e.prototype.Rc=function(){this.Ec&&py()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Vc=function(){return Jc(this,void 0,void 0,(function(){var e;return Zc(this,(function(t){switch(t.label){case 0:return[4,e=this._c];case 1:t.sent(),t.label=2;case 2:if(e!==this._c)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Sc=function(e){for(var t=0,n=this.gc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Dc=function(e){var t=this;return this.Vc().then((function(){t.gc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.gc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Vc()}))},e.prototype.Cc=function(e){this.Ic.push(e)},e.prototype.Pc=function(e){var t=this.gc.indexOf(e);this.gc.splice(t,1)},e}();function __(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var T_=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new S_,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return Yc(t,e),t.prototype._terminate=function(){return this._firestoreClient||k_(this),this._firestoreClient.terminate()},t}(p_);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(e){return e._firestoreClient||k_(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function k_(e){var t,n,r,i,o,a=e._freezeSettings(),s=(n=e._databaseId,r=(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",i=e._persistenceKey,new YS(n,r,i,(o=a).host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,o.useFetchStreams));e._firestoreClient=new US(e._credentials,e._queue,s)}function N_(e,t,n){var r=this,i=new Xg;return e.asyncQueue.enqueue((function(){return Jc(r,void 0,void 0,(function(){var r;return Zc(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,VS(e,n)];case 1:return o.sent(),[4,qS(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!("FirebaseError"===(a=r=o.sent()).name?a.code===ay.FAILED_PRECONDITION||a.code===ay.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}var a}))}))})).then((function(){return i.promise}))}function C_(e){if(e._initialized||e._terminated)throw new sy(ay.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var x_=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new sy(ay.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dy(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),D_=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(Py.fromBase64String(t))}catch(n){throw new sy(ay.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(Py.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),A_=function(e){this._methodName=e},P_=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new sy(ay.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new sy(ay.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return by(this._lat,e._lat)||by(this._long,e._long)},e}(),O_=/^__.*__$/,R_=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new vm(e,this.data,this.fieldMask,t,this.fieldTransforms):new ym(e,this.data,t,this.fieldTransforms)},e}(),L_=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new vm(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw py()}}var F_=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Nc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"xc",{get:function(){return this.settings.xc},enumerable:!1,configurable:!0}),e.prototype.Fc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fc({path:n,$c:!1});return r.Oc(e),r},e.prototype.Mc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fc({path:n,$c:!1});return r.Nc(),r},e.prototype.Lc=function(e){return this.Fc({path:void 0,$c:!0})},e.prototype.Bc=function(e){return rT(e,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Uc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Nc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Oc(this.path.get(e))},e.prototype.Oc=function(e){if(0===e.length)throw this.Bc("Document fields must not be empty");if(M_(this.xc)&&O_.test(e))throw this.Bc('Document fields cannot begin and end with "__"')},e}(),U_=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||nE(e)}return e.prototype.Qc=function(e,t,n,r){return void 0===r&&(r=!1),new F_({xc:e,methodName:t,Uc:n,path:Dy.emptyPath(),$c:!1,qc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function V_(e){var t=e._freezeSettings(),n=nE(e._databaseId);return new U_(e._databaseId,!!t.ignoreUndefinedProperties,n)}function q_(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Qc(o.merge||o.mergeFields?2:0,t,n,i);Z_("Data must be an object, but it was:",a,r);var s,u,c=X_(r,a);if(o.merge)s=new Ay(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=eT(t,h[f],n);if(!a.contains(d))throw new sy(ay.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");iT(l,d)||l.push(d)}s=new Ay(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new R_(new iv(c),s,u)}var B_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Yc(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.xc)throw 1===e.xc?e.Bc(this._methodName+"() can only appear at the top level of your update data"):e.Bc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(A_);function j_(e,t,n){return new F_({xc:3,Uc:t.settings.Uc,methodName:e._methodName,$c:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var z_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Yc(t,e),t.prototype._toFieldTransform=function(e){return new om(e.path,new Xv)},t.prototype.isEqual=function(e){return e instanceof t},t}(A_),K_=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return Yc(t,e),t.prototype._toFieldTransform=function(e){var t=j_(this,e,!0),n=this.Kc.map((function(e){return Y_(e,t)})),r=new Jv(n);return new om(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(A_),H_=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return Yc(t,e),t.prototype._toFieldTransform=function(e){var t=j_(this,e,!0),n=this.Kc.map((function(e){return Y_(e,t)})),r=new em(n);return new om(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(A_),W_=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).jc=n,r}return Yc(t,e),t.prototype._toFieldTransform=function(e){var t=new nm(e.R,Wv(e.R,this.jc));return new om(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(A_);function Q_(e,t,n,r){var i=e.Qc(1,t,n);Z_("Data must be an object, but it was:",i,r);var o=[],a=iv.empty();Iy(r,(function(e,r){var s=nT(t,e,n);r=vl(r);var u=i.Mc(s);if(r instanceof B_)o.push(s);else{var c=Y_(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new Ay(o);return new L_(a,s,i.fieldTransforms)}function G_(e,t,n,r,i,o){var a=e.Qc(1,t,n),s=[eT(t,r,n)],u=[i];if(o.length%2!=0)throw new sy(ay.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(eT(t,o[c])),u.push(o[c+1]);for(var l=[],f=iv.empty(),h=s.length-1;h>=0;--h)if(!iT(l,s[h])){var d=s[h],p=u[h];p=vl(p);var y=a.Mc(d);if(p instanceof B_)l.push(d);else{var v=Y_(p,y);null!=v&&(l.push(d),f.set(d,v))}}var m=new Ay(l);return new L_(f,m,a.fieldTransforms)}function $_(e,t,n,r){return void 0===r&&(r=!1),Y_(n,e.Qc(r?4:3,t))}function Y_(e,t){if(J_(e=vl(e)))return Z_("Unsupported field value:",t,e),X_(e,t);if(e instanceof A_)return function(e,t){if(!M_(t.xc))throw t.Bc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Bc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.$c&&4!==t.xc)throw t.Bc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=Y_(o[i],t.Lc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=vl(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Wv(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Sy.fromDate(e);return{timestampValue:Zm(t.R,n)}}if(e instanceof Sy)return n=new Sy(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:Zm(t.R,n)};if(e instanceof P_)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof D_)return{bytesValue:eg(t.R,e._byteString)};if(e instanceof y_){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:rg(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Bc("Unsupported field value: "+l_(e))}(e,t)}function X_(e,t){var n={};return ky(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Iy(e,(function(e,r){var i=Y_(r,t.kc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function J_(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Sy||e instanceof P_||e instanceof D_||e instanceof y_||e instanceof A_)}function Z_(e,t,n){if(!J_(n)||("object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i))){var r=l_(n);throw"an object"===r?t.Bc(e+" a custom object"):t.Bc(e+" "+r)}var i}function eT(e,t,n){if((t=vl(t))instanceof x_)return t._internalPath;if("string"==typeof t)return nT(e,t);throw rT("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var tT=new RegExp("[~\\*/\\[\\]]");function nT(e,t,n){if(t.search(tT)>=0)throw rT("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(x_.bind.apply(x_,nl([void 0],t.split(".")))))._internalPath}catch(r){throw rT("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function rT(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new sy(ay.INVALID_ARGUMENT,(s+=". ")+e+u)}function iT(e,t){return e.some((function(e){return e.isEqual(t)}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oT=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new y_(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new aT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(sT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),aT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Yc(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(oT);function sT(e,t){return"string"==typeof t?nT(e,t):t instanceof x_?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uT=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),cT=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return Yc(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new lT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(sT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(oT),lT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Yc(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(cT),fT=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new uT(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new lT(n._firestore,n._userDataWriter,r.key,r,new uT(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new sy(ay.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new lT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new uT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new lT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new uT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:hT(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function hT(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return py()}}function dT(e,t){return e instanceof cT&&t instanceof cT?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof fT&&t instanceof fT&&e._firestore===t._firestore&&E_(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(e){if(Av(e)&&0===e.explicitOrderBy.length)throw new sy(ay.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var yT=function(){};function vT(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var mT=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Wc=t,i.Gc=n,i.zc=r,i.type="where",i}return Yc(t,e),t.prototype._apply=function(e){var t,n,r,i=V_(e.firestore),o=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new sy(ay.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){TT(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var f=l[c];u.push(_T(r,e,f))}s={arrayValue:{values:u}}}else s=_T(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||TT(a,o),s=$_(n,"where",a,"in"===o||"not-in"===o);var h=hv.create(i,o,s);return function(e,t){if(t.g()){var n=Ov(e);if(null!==n&&!n.isEqual(t.field))throw new sy(ay.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=Pv(e);null!==r&&IT(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new sy(ay.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new sy(ay.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(e._query,0,i,e.firestore._databaseId,this.Wc,this.Gc,this.zc);return new v_(e.firestore,e.converter,(t=e._query,n=o,r=t.filters.concat([n]),new Nv(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)))},t}(yT),gT=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Wc=t,r.Hc=n,r.type="orderBy",r}return Yc(t,e),t.prototype._apply=function(e){var t,n,r,i=function(e,t,n){if(null!==e.startAt)throw new sy(ay.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new sy(ay.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new _v(t,n);return function(e,t){if(null===Pv(e)){var n=Ov(e);null!==n&&IT(e,n,t.field)}}(e,r),r}(e._query,this.Wc,this.Hc);return new v_(e.firestore,e.converter,(t=e._query,n=i,r=t.explicitOrderBy.concat([n]),new Nv(t.path,t.collectionGroup,r,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)))},t}(yT),bT=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Jc=n,i.Yc=r,i}return Yc(t,e),t.prototype._apply=function(e){return new v_(e.firestore,e.converter,Fv(e._query,this.Jc,this.Yc))},t}(yT),wT=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Xc=n,i.Zc=r,i}return Yc(t,e),t.prototype._apply=function(e){var t,n,r=ST(e,this.type,this.Xc,this.Zc);return new v_(e.firestore,e.converter,(t=e._query,n=r,new Nv(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,n,t.endAt)))},t}(yT),ET=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Xc=n,i.Zc=r,i}return Yc(t,e),t.prototype._apply=function(e){var t,n,r=ST(e,this.type,this.Xc,this.Zc);return new v_(e.firestore,e.converter,(t=e._query,n=r,new Nv(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,n)))},t}(yT);function ST(e,t,n,r){if(n[0]=vl(n[0]),n[0]instanceof oT)return function(e,t,n,r,i){if(!r)throw new sy(ay.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Lv(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(Xy(t,r.key));else{var c=r.data.field(u.field);if(Fy(c))throw new sy(ay.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new sy(ay.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Ev(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=V_(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new sy(ay.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new sy(ay.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Rv(e)&&-1!==c.indexOf("/"))throw new sy(ay.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(Cy.fromString(c));if(!zy.isDocumentKey(l))throw new sy(ay.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new zy(l);s.push(Xy(t,f))}else{var h=$_(n,r,c);s.push(h)}}return new Ev(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function _T(e,t,n){if("string"==typeof(n=vl(n))){if(""===n)throw new sy(ay.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Rv(t)&&-1!==n.indexOf("/"))throw new sy(ay.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Cy.fromString(n));if(!zy.isDocumentKey(r))throw new sy(ay.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Xy(e,new zy(r))}if(n instanceof y_)return Xy(e,n._key);throw new sy(ay.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+l_(n)+".")}function TT(e,t){if(!Array.isArray(e)||0===e.length)throw new sy(ay.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new sy(ay.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function IT(e,t,n){if(!n.isEqual(t))throw new sy(ay.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kT=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),Ky(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ly(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(My(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw py()}},e.prototype.convertObject=function(e,t){var n=this,r={};return Iy(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new P_(Ly(e.latitude),Ly(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=Uy(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Vy(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=Ry(e);return new Sy(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=Cy.fromString(e);yy(Ng(n));var r=new XS(n.get(1),n.get(3)),i=new zy(n.popFirst(5));return r.isEqual(t)||fy("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var CT=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Yc(t,e),t.prototype.convertBytes=function(e){return new D_(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new y_(this.firestore,null,t)},t}(kT),xT=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=V_(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=DT(e,this._firestore),i=NT(r.converter,t,n),o=q_(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,sm.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=DT(e,this._firestore);return o="string"==typeof(t=vl(t))||t instanceof x_?G_(this._dataReader,"WriteBatch.update",a._key,t,n,r):Q_(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,sm.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=DT(e,this._firestore);return this._mutations=this._mutations.concat(new Sm(t._key,sm.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new sy(ay.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(e,t){if((e=vl(e)).firestore!==t)throw new sy(ay.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AT=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Yc(t,e),t.prototype.convertBytes=function(e){return new D_(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new y_(this.firestore,null,t)},t}(kT);function PT(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=f_(e,y_);var o=f_(e.firestore,T_),a=V_(o);return RT(o,[("string"==typeof(t=vl(t))||t instanceof x_?G_(a,"updateDoc",e._key,t,n,r):Q_(a,"updateDoc",e._key,t)).toMutation(e._key,sm.exists(!0))])}function OT(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=vl(e);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||__(i[s])||(a=i[s],s++);var u,c,l,f={includeMetadataChanges:a.includeMetadataChanges};if(__(i[s])){var h=i[s];i[s]=null===(t=h.next)||void 0===t?void 0:t.bind(h),i[s+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),i[s+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}if(e instanceof y_)c=f_(e.firestore,T_),l=xv(e._key.path),u={next:function(t){i[s]&&i[s](LT(c,e,t))},error:i[s+1],complete:i[s+2]};else{var d=f_(e,v_);c=f_(d.firestore,T_),l=d._query;var p=new AT(c);u={next:function(e){i[s]&&i[s](new fT(c,p,d,e))},error:i[s+1],complete:i[s+2]},pT(e._query)}return function(e,t,n,r){var i=this,o=new LS(r),a=new QE(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return Jc(i,void 0,void 0,(function(){var t;return Zc(this,(function(n){switch(n.label){case 0:return t=jE,[4,QS(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return Jc(i,void 0,void 0,(function(){var t;return Zc(this,(function(n){switch(n.label){case 0:return t=zE,[4,QS(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(I_(c),l,f,u)}function RT(e,t){return function(e,t){var n=this,r=new Xg;return e.asyncQueue.enqueueAndForget((function(){return Jc(n,void 0,void 0,(function(){var n;return Zc(this,(function(i){switch(i.label){case 0:return n=rS,[4,WS(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(I_(e),t)}function LT(e,t,n){var r=n.docs.get(t._key),i=new AT(e);return new cT(e,i,t._key,r,new uT(n.hasPendingWrites,n.fromCache),t.converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MT=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return Yc(t,e),t.prototype.get=function(t){var n=this,r=DT(t,this._firestore),i=new AT(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new cT(n._firestore,i,r._key,e._document,new uT(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=V_(e)}return e.prototype.get=function(e){var t=this,n=DT(e,this._firestore),r=new CT(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return py();var i=e[0];if(i.isFoundDocument())return new oT(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new oT(t._firestore,r,n._key,null,n.converter);throw py()}))},e.prototype.set=function(e,t,n){var r=DT(e,this._firestore),i=NT(r.converter,t,n),o=q_(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=DT(e,this._firestore);return o="string"==typeof(t=vl(t))||t instanceof x_?G_(this._dataReader,"Transaction.update",a._key,t,n,r):Q_(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=DT(e,this._firestore);return this._transaction.delete(t._key),this},e}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(){if("undefined"==typeof Uint8Array)throw new sy(ay.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function UT(){if("undefined"==typeof atob)throw new sy(ay.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var VT=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return UT(),new e(D_.fromBase64String(t))},e.fromUint8Array=function(t){return FT(),new e(D_.fromUint8Array(t))},e.prototype.toBase64=function(){return UT(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return FT(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),qT=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){C_(e=f_(e,T_));var n=I_(e),r=e._freezeSettings(),i=new RS;return N_(n,i,new PS(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){C_(e=f_(e,T_));var t=I_(e),n=e._freezeSettings(),r=new RS;return N_(t,r,new OS(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new sy(ay.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Xg;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return Jc(t,void 0,void 0,(function(){var t;return Zc(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return Jc(this,void 0,void 0,(function(){var t;return Zc(this,(function(n){switch(n.label){case 0:return eb.yt()?(t=e+"main",[4,eb.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(fw(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),BT=function(){function e(e,t,n){var r=this;this._delegate=t,this.tu=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof XS||(this.eu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||hy("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){void 0===r&&(r={});var i=(e=f_(e,p_))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==t&&hy("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},i),{host:t+":"+n,ssl:!1})),r.mockUserToken){var o=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=Xc({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[rl.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),rl.encodeString(JSON.stringify(o),!1),""].join(".")}(r.mockUserToken),a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new sy(ay.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");e._credentials=new t_(new ZS(o,new Uw(a)))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Jc(t,void 0,void 0,(function(){var t,n;return Zc(this,(function(r){switch(r.label){case 0:return[4,zS(e)];case 1:return t=r.sent(),[4,HS(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),i=n,o=vy(i),o.Or.delete(0),lE(o))]}var i,o}))}))}))}(I_(f_(this._delegate,T_)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Jc(t,void 0,void 0,(function(){var t,n;return Zc(this,(function(r){switch(r.label){case 0:return[4,zS(e)];case 1:return t=r.sent(),[4,HS(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return Jc(this,void 0,void 0,(function(){var t;return Zc(this,(function(n){switch(n.label){case 0:return(t=vy(e)).Or.add(0),[4,fE(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(I_(f_(this._delegate,T_)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&s_("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.tu.enableMultiTabIndexedDbPersistence(this):this.tu.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.tu.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.eu&&(this.eu._removeServiceInstance("firestore"),this.eu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new Xg;return e.asyncQueue.enqueueAndForget((function(){return Jc(t,void 0,void 0,(function(){var t;return Zc(this,(function(r){switch(r.label){case 0:return t=cS,[4,WS(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(I_(f_(this._delegate,T_)))},e.prototype.onSnapshotsInSync=function(e){return t=this._delegate,n=e,function(e,t){var n=this,r=new LS(t);return e.asyncQueue.enqueueAndForget((function(){return Jc(n,void 0,void 0,(function(){var t;return Zc(this,(function(n){switch(n.label){case 0:return t=function(e,t){vy(e).Gr.add(t),t.next()},[4,QS(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return Jc(n,void 0,void 0,(function(){var t;return Zc(this,(function(n){switch(n.label){case 0:return t=function(e,t){vy(e).Gr.delete(t)},[4,QS(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(I_(t=f_(t,T_)),__(n)?n:{next:n});var t,n},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.eu)throw new sy(ay.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.eu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new tI(this,g_(this._delegate,e))}catch(t){throw QT(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new WT(this,b_(this._delegate,e))}catch(t){throw QT(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new JT(this,function(e,t){if(e=f_(e,p_),o_("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new sy(ay.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new v_(e,null,(n=t,new Nv(Cy.emptyPath(),n)));var n}(this._delegate,e))}catch(t){throw QT(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t,n=this;return function(e,t){var n=this,r=new Xg;return e.asyncQueue.enqueueAndForget((function(){return Jc(n,void 0,void 0,(function(){var n;return Zc(this,(function(i){switch(i.label){case 0:return[4,(o=e,jS(o).then((function(e){return e.datastore})))];case 1:return n=i.sent(),new FS(e.asyncQueue,n,t,r).run(),[2]}var o}))}))})),r.promise}(I_(t=this._delegate),(function(r){return function(t){return e(new zT(n,t))}(new MT(t,r))}))},e.prototype.batch=function(){var e=this;return I_(this._delegate),new KT(new xT(this._delegate,(function(t){return RT(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new sy(ay.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new sy(ay.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),jT=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Yc(t,e),t.prototype.convertBytes=function(e){return new VT(new D_(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return WT.nu(t,this.firestore,null)},t}(kT);var zT=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new jT(e)}return e.prototype.get=function(e){var t=this,n=nI(e);return this._delegate.get(n).then((function(e){return new YT(t._firestore,new cT(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=nI(e);return n?(a_("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=nI(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,nl([a,t,n],i)),this},e.prototype.delete=function(e){var t=nI(e);return this._delegate.delete(t),this},e}(),KT=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=nI(e);return n?(a_("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=nI(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,nl([a,t,n],i)),this},e.prototype.delete=function(e){var t=nI(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),HT=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new lT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new XT(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.su=function(t,n){var r=e.iu,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new jT(t),n),i.set(n,o)),o},e}();HT.iu=new WeakMap;var WT=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jT(e)}return e.ru=function(t,n,r){if(t.length%2!=0)throw new sy(ay.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new y_(n._delegate,r,new zy(t)))},e.nu=function(t,n,r){return new e(n,new y_(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new tI(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new tI(this.firestore,g_(this._delegate,e))}catch(t){throw QT(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=vl(e))instanceof y_&&w_(this._delegate,e)},e.prototype.set=function(e,t){t=a_("DocumentReference.set",t);try{return function(e,t,n){e=f_(e,y_);var r=f_(e.firestore,T_),i=NT(e.converter,t,n);return RT(r,[q_(V_(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,sm.none())])}(this._delegate,e,t)}catch(n){throw QT(n,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?PT(this._delegate,e):PT.apply(void 0,nl([this._delegate,e,t],n))}catch(i){throw QT(i,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return RT(f_((e=this._delegate).firestore,T_),[new Sm(e._key,sm.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=GT(t),i=$T(t,(function(t){return new YT(e.firestore,new cT(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return OT(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=f_(e,y_);var t=f_(e.firestore,T_),n=I_(t),r=new AT(t);return function(e,t){var n=this,r=new Xg;return e.asyncQueue.enqueueAndForget((function(){return Jc(n,void 0,void 0,(function(){var n;return Zc(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return Jc(this,void 0,void 0,(function(){var r,i;return Zc(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(a=e,s=t,u=vy(a),u.persistence.runTransaction("read document","readonly",(function(e){return u.Mn.mn(e,s)})))];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new sy(ay.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=ME(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}var a,s,u}))}))},[4,KS(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new cT(t,r,e._key,n,new uT(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=f_(e,y_);var t=f_(e.firestore,T_);return GS(I_(t),e._key,{source:"server"}).then((function(n){return LT(t,e,n)}))}(this._delegate):function(e){e=f_(e,y_);var t=f_(e.firestore,T_);return GS(I_(t),e._key).then((function(n){return LT(t,e,n)}))}(this._delegate)).then((function(e){return new YT(t.firestore,new cT(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(HT.su(this.firestore,t)):this._delegate.withConverter(null))},e}();function QT(e,t,n){return e.message=e.message.replace(t,n),e}function GT(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!__(r))return r}return{}}function $T(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=__(e[0])?e[0]:__(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var YT=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new WT(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return dT(this._delegate,e._delegate)},e}(),XT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Yc(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(YT),JT=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jT(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,vT(this._delegate,(o=r,a=i=n,s=sT("where",t),new mT(s,a,o))))}catch(i){throw QT(i,/(orderBy|where)\(\)/,"Query.$1()")}var i,o,a,s},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,vT(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=sT("orderBy",e);return new gT(r,n)}(t,n)))}catch(r){throw QT(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,vT(this._delegate,(h_("limit",n=t),new bT("limit",n,"F"))))}catch(r){throw QT(r,"limit()","Query.limit()")}var n},e.prototype.limitToLast=function(t){try{return new e(this.firestore,vT(this._delegate,(h_("limitToLast",n=t),new bT("limitToLast",n,"L"))))}catch(r){throw QT(r,"limitToLast()","Query.limitToLast()")}var n},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,vT(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new wT("startAt",e,!0)}.apply(void 0,t)))}catch(r){throw QT(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,vT(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new wT("startAfter",e,!1)}.apply(void 0,t)))}catch(r){throw QT(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,vT(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new ET("endBefore",e,!0)}.apply(void 0,t)))}catch(r){throw QT(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,vT(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new ET("endAt",e,!1)}.apply(void 0,t)))}catch(r){throw QT(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return E_(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=f_(e,v_);var t=f_(e.firestore,T_),n=I_(t),r=new AT(t);return function(e,t){var n=this,r=new Xg;return e.asyncQueue.enqueueAndForget((function(){return Jc(n,void 0,void 0,(function(){var n;return Zc(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return Jc(this,void 0,void 0,(function(){var r,i,o,a,s;return Zc(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Tw(e,t,!0)];case 1:return s=u.sent(),r=new YE(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=ME(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,KS(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new fT(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=f_(e,v_);var t=f_(e.firestore,T_),n=I_(t),r=new AT(t);return $S(n,e._query,{source:"server"}).then((function(n){return new fT(t,r,e,n)}))}(this._delegate):function(e){e=f_(e,v_);var t=f_(e.firestore,T_),n=I_(t),r=new AT(t);return pT(e._query),$S(n,e._query).then((function(n){return new fT(t,r,e,n)}))}(this._delegate)).then((function(e){return new eI(t.firestore,new fT(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=GT(t),i=$T(t,(function(t){return new eI(e.firestore,new fT(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return OT(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(HT.su(this.firestore,t)):this._delegate.withConverter(null))},e}(),ZT=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new XT(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),eI=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new JT(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new XT(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new ZT(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new XT(n._firestore,r))}))},e.prototype.isEqual=function(e){return dT(this._delegate,e._delegate)},e}(),tI=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return Yc(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new WT(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new WT(this.firestore,void 0===e?b_(this._delegate):b_(this._delegate,e))}catch(t){throw QT(t,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t,n,r,i,o,a=this;return(t=this._delegate,n=e,r=f_(t.firestore,T_),i=b_(t),o=NT(t.converter,n),RT(r,[q_(V_(t.firestore),"addDoc",i._key,o,null!==t.converter,{}).toMutation(i._key,sm.exists(!1))]).then((function(){return i}))).then((function(e){return new WT(a.firestore,e)}))},t.prototype.isEqual=function(e){return w_(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(HT.su(this.firestore,e)):this._delegate.withConverter(null))},t}(JT);function nI(e){return f_(e,y_)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rI,iI=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(x_.bind.apply(x_,nl([void 0],e)))}return e.documentId=function(){return new e(Dy.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=vl(e))instanceof x_&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),oI=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new z_("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new B_("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new K_("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new H_("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=new W_("increment",t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}(),aI={Firestore:BT,GeoPoint:P_,Timestamp:Sy,Blob:VT,Transaction:zT,WriteBatch:KT,DocumentReference:WT,DocumentSnapshot:YT,Query:JT,QueryDocumentSnapshot:XT,QuerySnapshot:eI,CollectionReference:tI,FieldPath:iI,FieldValue:oI,setLogLevel:function(e){var t;t=e,uy.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(rI=Hl).INTERNAL.registerComponent(new ml("firestore",(function(e){return function(e,t){return new BT(e,new T_(e,t),new qT)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},aI))),rI.registerVersion("@firebase/firestore","2.3.4");export{F as R,Gc as a,Hl as f,e as r};
